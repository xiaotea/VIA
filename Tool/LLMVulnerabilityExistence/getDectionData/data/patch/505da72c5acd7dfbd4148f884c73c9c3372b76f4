{
    "invenio_communities/config.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 120,
                "afterPatchRowNumber": 120,
                "PatchRowcode": " COMMUNITIES_URL_COMMUNITY_VIEW = \\"
            },
            "1": {
                "beforePatchRowNumber": 121,
                "afterPatchRowNumber": 121,
                "PatchRowcode": "     '{protocol}://{host}/communities/{community_id}/'"
            },
            "2": {
                "beforePatchRowNumber": 122,
                "afterPatchRowNumber": 122,
                "PatchRowcode": " \"\"\"String pattern to generate the URL for the view of a community.\"\"\""
            },
            "3": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 123,
                "PatchRowcode": "+"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 124,
                "PatchRowcode": "+COMMUNITIES_ALLOWED_TAGS = ["
            },
            "5": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 125,
                "PatchRowcode": "+    'a',"
            },
            "6": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 126,
                "PatchRowcode": "+    'abbr',"
            },
            "7": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 127,
                "PatchRowcode": "+    'acronym',"
            },
            "8": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 128,
                "PatchRowcode": "+    'b',"
            },
            "9": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 129,
                "PatchRowcode": "+    'blockquote',"
            },
            "10": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 130,
                "PatchRowcode": "+    'br',"
            },
            "11": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 131,
                "PatchRowcode": "+    'code',"
            },
            "12": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 132,
                "PatchRowcode": "+    'div',"
            },
            "13": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 133,
                "PatchRowcode": "+    'em',"
            },
            "14": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 134,
                "PatchRowcode": "+    'h1',"
            },
            "15": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 135,
                "PatchRowcode": "+    'h2',"
            },
            "16": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 136,
                "PatchRowcode": "+    'h3',"
            },
            "17": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 137,
                "PatchRowcode": "+    'h4',"
            },
            "18": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 138,
                "PatchRowcode": "+    'h5',"
            },
            "19": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 139,
                "PatchRowcode": "+    'i',"
            },
            "20": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 140,
                "PatchRowcode": "+    'li',"
            },
            "21": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 141,
                "PatchRowcode": "+    'ol',"
            },
            "22": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 142,
                "PatchRowcode": "+    'p',"
            },
            "23": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 143,
                "PatchRowcode": "+    'pre',"
            },
            "24": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 144,
                "PatchRowcode": "+    'span',"
            },
            "25": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 145,
                "PatchRowcode": "+    'strike',"
            },
            "26": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 146,
                "PatchRowcode": "+    'strong',"
            },
            "27": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 147,
                "PatchRowcode": "+    'sub',"
            },
            "28": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 148,
                "PatchRowcode": "+    'sup',"
            },
            "29": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 149,
                "PatchRowcode": "+    'u',"
            },
            "30": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 150,
                "PatchRowcode": "+    'ul',"
            },
            "31": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 151,
                "PatchRowcode": "+]"
            },
            "32": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 152,
                "PatchRowcode": "+\"\"\"List of allowed tags used to sanitize HTML output for communities.\"\"\""
            },
            "33": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 153,
                "PatchRowcode": "+"
            },
            "34": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 154,
                "PatchRowcode": "+COMMUNITIES_ALLOWED_ATTRS = {"
            },
            "35": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 155,
                "PatchRowcode": "+    '*': ['class'],"
            },
            "36": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 156,
                "PatchRowcode": "+    'a': ['href', 'title', 'name', 'class', 'rel'],"
            },
            "37": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 157,
                "PatchRowcode": "+    'abbr': ['title'],"
            },
            "38": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 158,
                "PatchRowcode": "+    'acronym': ['title'],"
            },
            "39": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 159,
                "PatchRowcode": "+}"
            },
            "40": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 160,
                "PatchRowcode": "+\"\"\"List of allowed attributes used to sanitize HTML output for communities.\"\"\""
            }
        },
        "frontPatchFile": [
            "# -*- coding: utf-8 -*-",
            "#",
            "# This file is part of Invenio.",
            "# Copyright (C) 2015, 2016 CERN.",
            "#",
            "# Invenio is free software; you can redistribute it and/or",
            "# modify it under the terms of the GNU General Public License as",
            "# published by the Free Software Foundation; either version 2 of the",
            "# License, or (at your option) any later version.",
            "#",
            "# Invenio is distributed in the hope that it will be useful, but",
            "# WITHOUT ANY WARRANTY; without even the implied warranty of",
            "# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU",
            "# General Public License for more details.",
            "#",
            "# You should have received a copy of the GNU General Public License",
            "# along with Invenio; if not, write to the Free Software Foundation, Inc.,",
            "# 59 Temple Place, Suite 330, Boston, MA 02111-1307, USA.",
            "#",
            "# In applying this license, CERN does not",
            "# waive the privileges and immunities granted to it by virtue of its status",
            "# as an Intergovernmental Organization or submit itself to any jurisdiction.",
            "",
            "\"\"\"Invenio Communities configuration.\"\"\"",
            "",
            "from __future__ import unicode_literals",
            "",
            "from datetime import timedelta",
            "",
            "import pkg_resources",
            "",
            "COMMUNITIES_REQUEST_EXPIRY_TIME = timedelta(days=365)",
            "\"\"\"Time after which the inclusion requests automatically expire.\"\"\"",
            "",
            "COMMUNITIES_DELETE_HOLDOUT_TIME = timedelta(days=365)",
            "\"\"\"Time after which the communities marked for deletion are hard-deleted.\"\"\"",
            "",
            "COMMUNITIES_LOGO_EXTENSIONS = ['png', 'jpg', 'jpeg', 'svg']",
            "\"\"\"Allowed file extensions for the communities logo.\"\"\"",
            "",
            "COMMUNITIES_LOGO_MAX_SIZE = 1000 * 1000 * 1.5  # 1.5 MB",
            "\"\"\"Allowed file size for the communities logo.\"\"\"",
            "",
            "COMMUNITIES_RECORD_KEY = 'communities'",
            "\"\"\"Key inside the JSON record for communities.\"\"\"",
            "",
            "COMMUNITIES_SORTING_OPTIONS = [",
            "    'title',",
            "    'ranking',",
            "]",
            "\"\"\"Possible communities sorting options.\"\"\"",
            "",
            "COMMUNITIES_DEFAULT_SORTING_OPTION = 'ranking'",
            "\"\"\"Default sorting option.\"\"\"",
            "",
            "COMMUNITIES_OAI_FORMAT = 'user-{community_id}'",
            "\"\"\"String template for the community OAISet 'spec'.\"\"\"",
            "",
            "COMMUNITIES_BUCKET_UUID = '00000000-0000-0000-0000-000000000000'",
            "\"\"\"UUID for the bucket corresponding to communities.\"\"\"",
            "",
            "COMMUNITIES_INDEX_PREFIX = 'records-'",
            "\"\"\"Key inside the JSON record for communities.\"\"\"",
            "",
            "COMMUNITIES_OAI_ENABLED = False",
            "\"\"\"Using OAIServer if available.\"\"\"",
            "try:",
            "    pkg_resources.get_distribution('invenio_oaiserver')",
            "    COMMUNITIES_OAI_ENABLED = True",
            "except pkg_resources.DistributionNotFound:  # pragma: no cover",
            "    pass",
            "",
            "COMMUNITIES_MAIL_ENABLED = False",
            "\"\"\"Using Flask-Mail if available.\"\"\"",
            "try:",
            "    pkg_resources.get_distribution('flask_mail')",
            "    COMMUNITIES_MAIL_ENABLED = True",
            "except pkg_resources.DistributionNotFound:  # pragma: no cover",
            "    pass",
            "",
            "COMMUNITIES_REQUEST_EMAIL_BODY_TEMPLATE = \\",
            "    'invenio_communities/request_email_body.html'",
            "\"\"\"Template for InclusionRequest email body.\"\"\"",
            "",
            "COMMUNITIES_REQUEST_EMAIL_TITLE_TEMPLATE = \\",
            "    'invenio_communities/request_email_title.html'",
            "\"\"\"Template for InclusionRequest email title.\"\"\"",
            "",
            "COMMUNITIES_REQUEST_EMAIL_SENDER = 'info@inveniosoftware.org'",
            "\"\"\"Sender email for all inclusion request notification emails.\"\"\"",
            "",
            "COMMUNITIES_JSTEMPLATE_RESULTS_CURATE = \\",
            "    'templates/invenio_communities/ng_record_curate.html'",
            "\"\"\"Angular template for records in curation view.\"\"\"",
            "",
            "COMMUNITIES_COMMUNITY_TEMPLATE = \"invenio_communities/community_base.html\"",
            "\"\"\"Base template for community pages.\"\"\"",
            "",
            "COMMUNITIES_CURATE_TEMPLATE = \"invenio_communities/curate.html\"",
            "\"\"\"Template for inclusion requests curation page.\"\"\"",
            "",
            "COMMUNITIES_SEARCH_TEMPLATE = \"invenio_communities/search.html\"",
            "\"\"\"Template for the search page.\"\"\"",
            "",
            "COMMUNITIES_INDEX_TEMPLATE = 'invenio_communities/index.html'",
            "\"\"\"Template for the index page.\"\"\"",
            "",
            "COMMUNITIES_DETAIL_TEMPLATE = 'invenio_communities/detail.html'",
            "\"\"\"Template for the community details page.\"\"\"",
            "",
            "COMMUNITIES_ABOUT_TEMPLATE = 'invenio_communities/about.html'",
            "\"\"\"Template for the community about page.\"\"\"",
            "",
            "COMMUNITIES_NEW_TEMPLATE = 'invenio_communities/new.html'",
            "\"\"\"Template for the new community page.\"\"\"",
            "",
            "COMMUNITIES_EDIT_TEMPLATE = 'invenio_communities/new.html'",
            "\"\"\"Template for the edit communtiy page.\"\"\"",
            "",
            "COMMUNITIES_URL_COMMUNITY_VIEW = \\",
            "    '{protocol}://{host}/communities/{community_id}/'",
            "\"\"\"String pattern to generate the URL for the view of a community.\"\"\""
        ],
        "afterPatchFile": [
            "# -*- coding: utf-8 -*-",
            "#",
            "# This file is part of Invenio.",
            "# Copyright (C) 2015, 2016 CERN.",
            "#",
            "# Invenio is free software; you can redistribute it and/or",
            "# modify it under the terms of the GNU General Public License as",
            "# published by the Free Software Foundation; either version 2 of the",
            "# License, or (at your option) any later version.",
            "#",
            "# Invenio is distributed in the hope that it will be useful, but",
            "# WITHOUT ANY WARRANTY; without even the implied warranty of",
            "# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU",
            "# General Public License for more details.",
            "#",
            "# You should have received a copy of the GNU General Public License",
            "# along with Invenio; if not, write to the Free Software Foundation, Inc.,",
            "# 59 Temple Place, Suite 330, Boston, MA 02111-1307, USA.",
            "#",
            "# In applying this license, CERN does not",
            "# waive the privileges and immunities granted to it by virtue of its status",
            "# as an Intergovernmental Organization or submit itself to any jurisdiction.",
            "",
            "\"\"\"Invenio Communities configuration.\"\"\"",
            "",
            "from __future__ import unicode_literals",
            "",
            "from datetime import timedelta",
            "",
            "import pkg_resources",
            "",
            "COMMUNITIES_REQUEST_EXPIRY_TIME = timedelta(days=365)",
            "\"\"\"Time after which the inclusion requests automatically expire.\"\"\"",
            "",
            "COMMUNITIES_DELETE_HOLDOUT_TIME = timedelta(days=365)",
            "\"\"\"Time after which the communities marked for deletion are hard-deleted.\"\"\"",
            "",
            "COMMUNITIES_LOGO_EXTENSIONS = ['png', 'jpg', 'jpeg', 'svg']",
            "\"\"\"Allowed file extensions for the communities logo.\"\"\"",
            "",
            "COMMUNITIES_LOGO_MAX_SIZE = 1000 * 1000 * 1.5  # 1.5 MB",
            "\"\"\"Allowed file size for the communities logo.\"\"\"",
            "",
            "COMMUNITIES_RECORD_KEY = 'communities'",
            "\"\"\"Key inside the JSON record for communities.\"\"\"",
            "",
            "COMMUNITIES_SORTING_OPTIONS = [",
            "    'title',",
            "    'ranking',",
            "]",
            "\"\"\"Possible communities sorting options.\"\"\"",
            "",
            "COMMUNITIES_DEFAULT_SORTING_OPTION = 'ranking'",
            "\"\"\"Default sorting option.\"\"\"",
            "",
            "COMMUNITIES_OAI_FORMAT = 'user-{community_id}'",
            "\"\"\"String template for the community OAISet 'spec'.\"\"\"",
            "",
            "COMMUNITIES_BUCKET_UUID = '00000000-0000-0000-0000-000000000000'",
            "\"\"\"UUID for the bucket corresponding to communities.\"\"\"",
            "",
            "COMMUNITIES_INDEX_PREFIX = 'records-'",
            "\"\"\"Key inside the JSON record for communities.\"\"\"",
            "",
            "COMMUNITIES_OAI_ENABLED = False",
            "\"\"\"Using OAIServer if available.\"\"\"",
            "try:",
            "    pkg_resources.get_distribution('invenio_oaiserver')",
            "    COMMUNITIES_OAI_ENABLED = True",
            "except pkg_resources.DistributionNotFound:  # pragma: no cover",
            "    pass",
            "",
            "COMMUNITIES_MAIL_ENABLED = False",
            "\"\"\"Using Flask-Mail if available.\"\"\"",
            "try:",
            "    pkg_resources.get_distribution('flask_mail')",
            "    COMMUNITIES_MAIL_ENABLED = True",
            "except pkg_resources.DistributionNotFound:  # pragma: no cover",
            "    pass",
            "",
            "COMMUNITIES_REQUEST_EMAIL_BODY_TEMPLATE = \\",
            "    'invenio_communities/request_email_body.html'",
            "\"\"\"Template for InclusionRequest email body.\"\"\"",
            "",
            "COMMUNITIES_REQUEST_EMAIL_TITLE_TEMPLATE = \\",
            "    'invenio_communities/request_email_title.html'",
            "\"\"\"Template for InclusionRequest email title.\"\"\"",
            "",
            "COMMUNITIES_REQUEST_EMAIL_SENDER = 'info@inveniosoftware.org'",
            "\"\"\"Sender email for all inclusion request notification emails.\"\"\"",
            "",
            "COMMUNITIES_JSTEMPLATE_RESULTS_CURATE = \\",
            "    'templates/invenio_communities/ng_record_curate.html'",
            "\"\"\"Angular template for records in curation view.\"\"\"",
            "",
            "COMMUNITIES_COMMUNITY_TEMPLATE = \"invenio_communities/community_base.html\"",
            "\"\"\"Base template for community pages.\"\"\"",
            "",
            "COMMUNITIES_CURATE_TEMPLATE = \"invenio_communities/curate.html\"",
            "\"\"\"Template for inclusion requests curation page.\"\"\"",
            "",
            "COMMUNITIES_SEARCH_TEMPLATE = \"invenio_communities/search.html\"",
            "\"\"\"Template for the search page.\"\"\"",
            "",
            "COMMUNITIES_INDEX_TEMPLATE = 'invenio_communities/index.html'",
            "\"\"\"Template for the index page.\"\"\"",
            "",
            "COMMUNITIES_DETAIL_TEMPLATE = 'invenio_communities/detail.html'",
            "\"\"\"Template for the community details page.\"\"\"",
            "",
            "COMMUNITIES_ABOUT_TEMPLATE = 'invenio_communities/about.html'",
            "\"\"\"Template for the community about page.\"\"\"",
            "",
            "COMMUNITIES_NEW_TEMPLATE = 'invenio_communities/new.html'",
            "\"\"\"Template for the new community page.\"\"\"",
            "",
            "COMMUNITIES_EDIT_TEMPLATE = 'invenio_communities/new.html'",
            "\"\"\"Template for the edit communtiy page.\"\"\"",
            "",
            "COMMUNITIES_URL_COMMUNITY_VIEW = \\",
            "    '{protocol}://{host}/communities/{community_id}/'",
            "\"\"\"String pattern to generate the URL for the view of a community.\"\"\"",
            "",
            "COMMUNITIES_ALLOWED_TAGS = [",
            "    'a',",
            "    'abbr',",
            "    'acronym',",
            "    'b',",
            "    'blockquote',",
            "    'br',",
            "    'code',",
            "    'div',",
            "    'em',",
            "    'h1',",
            "    'h2',",
            "    'h3',",
            "    'h4',",
            "    'h5',",
            "    'i',",
            "    'li',",
            "    'ol',",
            "    'p',",
            "    'pre',",
            "    'span',",
            "    'strike',",
            "    'strong',",
            "    'sub',",
            "    'sup',",
            "    'u',",
            "    'ul',",
            "]",
            "\"\"\"List of allowed tags used to sanitize HTML output for communities.\"\"\"",
            "",
            "COMMUNITIES_ALLOWED_ATTRS = {",
            "    '*': ['class'],",
            "    'a': ['href', 'title', 'name', 'class', 'rel'],",
            "    'abbr': ['title'],",
            "    'acronym': ['title'],",
            "}",
            "\"\"\"List of allowed attributes used to sanitize HTML output for communities.\"\"\""
        ],
        "action": [
            "0",
            "0",
            "0",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1"
        ],
        "dele_reviseLocation": {},
        "addLocation": []
    },
    "invenio_communities/views/ui.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 29,
                "afterPatchRowNumber": 29,
                "PatchRowcode": " import copy"
            },
            "1": {
                "beforePatchRowNumber": 30,
                "afterPatchRowNumber": 30,
                "PatchRowcode": " from functools import wraps"
            },
            "2": {
                "beforePatchRowNumber": 31,
                "afterPatchRowNumber": 31,
                "PatchRowcode": " "
            },
            "3": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 32,
                "PatchRowcode": "+import bleach"
            },
            "4": {
                "beforePatchRowNumber": 32,
                "afterPatchRowNumber": 33,
                "PatchRowcode": " from flask import Blueprint, abort, current_app, flash, jsonify, redirect, \\"
            },
            "5": {
                "beforePatchRowNumber": 33,
                "afterPatchRowNumber": 34,
                "PatchRowcode": "     render_template, request, url_for"
            },
            "6": {
                "beforePatchRowNumber": 34,
                "afterPatchRowNumber": 35,
                "PatchRowcode": " from flask_babelex import gettext as _"
            },
            "7": {
                "beforePatchRowNumber": 53,
                "afterPatchRowNumber": 54,
                "PatchRowcode": " )"
            },
            "8": {
                "beforePatchRowNumber": 54,
                "afterPatchRowNumber": 55,
                "PatchRowcode": " "
            },
            "9": {
                "beforePatchRowNumber": 55,
                "afterPatchRowNumber": 56,
                "PatchRowcode": " "
            },
            "10": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 57,
                "PatchRowcode": "+@blueprint.app_template_filter('sanitize_html')"
            },
            "11": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 58,
                "PatchRowcode": "+def sanitize_html(value):"
            },
            "12": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 59,
                "PatchRowcode": "+    \"\"\"Sanitizes HTML using the bleach library.\"\"\""
            },
            "13": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 60,
                "PatchRowcode": "+    return bleach.clean("
            },
            "14": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 61,
                "PatchRowcode": "+        value,"
            },
            "15": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 62,
                "PatchRowcode": "+        tags=current_app.config['COMMUNITIES_ALLOWED_TAGS'],"
            },
            "16": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 63,
                "PatchRowcode": "+        attributes=current_app.config['COMMUNITIES_ALLOWED_ATTRS'],"
            },
            "17": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 64,
                "PatchRowcode": "+        strip=True,"
            },
            "18": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 65,
                "PatchRowcode": "+    ).strip()"
            },
            "19": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 66,
                "PatchRowcode": "+"
            },
            "20": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 67,
                "PatchRowcode": "+"
            },
            "21": {
                "beforePatchRowNumber": 56,
                "afterPatchRowNumber": 68,
                "PatchRowcode": " def pass_community(f):"
            },
            "22": {
                "beforePatchRowNumber": 57,
                "afterPatchRowNumber": 69,
                "PatchRowcode": "     \"\"\"Decorator to pass community.\"\"\""
            },
            "23": {
                "beforePatchRowNumber": 58,
                "afterPatchRowNumber": 70,
                "PatchRowcode": "     @wraps(f)"
            }
        },
        "frontPatchFile": [
            "# -*- coding: utf-8 -*-",
            "#",
            "# This file is part of Invenio.",
            "# Copyright (C) 2016, 2017 CERN.",
            "#",
            "# Invenio is free software; you can redistribute it",
            "# and/or modify it under the terms of the GNU General Public License as",
            "# published by the Free Software Foundation; either version 2 of the",
            "# License, or (at your option) any later version.",
            "#",
            "# Invenio is distributed in the hope that it will be",
            "# useful, but WITHOUT ANY WARRANTY; without even the implied warranty of",
            "# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU",
            "# General Public License for more details.",
            "#",
            "# You should have received a copy of the GNU General Public License",
            "# along with Invenio; if not, write to the",
            "# Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston,",
            "# MA 02111-1307, USA.",
            "#",
            "# In applying this license, CERN does not",
            "# waive the privileges and immunities granted to it by virtue of its status",
            "# as an Intergovernmental Organization or submit itself to any jurisdiction.",
            "",
            "\"\"\"Invenio module that adds support for communities.\"\"\"",
            "",
            "from __future__ import absolute_import, print_function",
            "",
            "import copy",
            "from functools import wraps",
            "",
            "from flask import Blueprint, abort, current_app, flash, jsonify, redirect, \\",
            "    render_template, request, url_for",
            "from flask_babelex import gettext as _",
            "from flask_login import current_user, login_required",
            "from invenio_db import db",
            "from invenio_indexer.api import RecordIndexer",
            "from invenio_pidstore.resolver import Resolver",
            "from invenio_records.api import Record",
            "",
            "from invenio_communities.forms import CommunityForm, DeleteCommunityForm, \\",
            "    EditCommunityForm, SearchForm",
            "from invenio_communities.models import Community, FeaturedCommunity",
            "from invenio_communities.proxies import current_permission_factory",
            "from invenio_communities.utils import Pagination, render_template_to_string",
            "",
            "blueprint = Blueprint(",
            "    'invenio_communities',",
            "    __name__,",
            "    url_prefix='/communities',",
            "    template_folder='../templates',",
            "    static_folder='../static',",
            ")",
            "",
            "",
            "def pass_community(f):",
            "    \"\"\"Decorator to pass community.\"\"\"",
            "    @wraps(f)",
            "    def inner(community_id, *args, **kwargs):",
            "        c = Community.get(community_id)",
            "        if c is None:",
            "            abort(404)",
            "        return f(c, *args, **kwargs)",
            "    return inner",
            "",
            "",
            "def permission_required(action):",
            "    \"\"\"Decorator to require permission.\"\"\"",
            "    def decorator(f):",
            "        @wraps(f)",
            "        def inner(community, *args, **kwargs):",
            "            permission = current_permission_factory(community, action=action)",
            "            if not permission.can():",
            "                abort(403)",
            "            return f(community, *args, **kwargs)",
            "        return inner",
            "    return decorator",
            "",
            "",
            "@blueprint.app_template_filter('format_item')",
            "def format_item(item, template, name='item'):",
            "    \"\"\"Render a template to a string with the provided item in context.\"\"\"",
            "    ctx = {name: item}",
            "    return render_template_to_string(template, **ctx)",
            "",
            "",
            "@blueprint.app_template_filter('mycommunities_ctx')",
            "def mycommunities_ctx():",
            "    \"\"\"Helper method for return ctx used by many views.\"\"\"",
            "    return {",
            "        'mycommunities': Community.get_by_user(current_user.get_id()).all()",
            "    }",
            "",
            "",
            "@blueprint.route('/', methods=['GET', ])",
            "def index():",
            "    \"\"\"Index page with uploader and list of existing depositions.\"\"\"",
            "    ctx = mycommunities_ctx()",
            "",
            "    p = request.args.get('p', type=str)",
            "    so = request.args.get('so', type=str)",
            "    page = request.args.get('page', type=int, default=1)",
            "",
            "    so = so or current_app.config.get('COMMUNITIES_DEFAULT_SORTING_OPTION')",
            "",
            "    communities = Community.filter_communities(p, so)",
            "    featured_community = FeaturedCommunity.get_featured_or_none()",
            "    form = SearchForm(p=p)",
            "    per_page = 10",
            "    page = max(page, 1)",
            "    p = Pagination(page, per_page, communities.count())",
            "",
            "    ctx.update({",
            "        'r_from': max(p.per_page * (p.page - 1), 0),",
            "        'r_to': min(p.per_page * p.page, p.total_count),",
            "        'r_total': p.total_count,",
            "        'pagination': p,",
            "        'form': form,",
            "        'title': _('Communities'),",
            "        'communities': communities.slice(",
            "            per_page * (page - 1), per_page * page).all(),",
            "        'featured_community': featured_community,",
            "    })",
            "",
            "    return render_template(",
            "        current_app.config['COMMUNITIES_INDEX_TEMPLATE'], **ctx)",
            "",
            "",
            "@blueprint.route('/<string:community_id>/', methods=['GET'])",
            "@pass_community",
            "def detail(community):",
            "    \"\"\"Index page with uploader and list of existing depositions.\"\"\"",
            "    return generic_item(",
            "        community, current_app.config['COMMUNITIES_DETAIL_TEMPLATE'])",
            "",
            "",
            "@blueprint.route('/<string:community_id>/search', methods=['GET'])",
            "@pass_community",
            "def search(community):",
            "    \"\"\"Index page with uploader and list of existing depositions.\"\"\"",
            "    return generic_item(",
            "        community,",
            "        current_app.config['COMMUNITIES_SEARCH_TEMPLATE'],",
            "        detail=False)",
            "",
            "",
            "@blueprint.route('/<string:community_id>/about/', methods=['GET'])",
            "@pass_community",
            "def about(community):",
            "    \"\"\"Index page with uploader and list of existing depositions.\"\"\"",
            "    return generic_item(",
            "        community, current_app.config['COMMUNITIES_ABOUT_TEMPLATE'])",
            "",
            "",
            "def generic_item(community, template, **extra_ctx):",
            "    \"\"\"Index page with uploader and list of existing depositions.\"\"\"",
            "    # Check existence of community",
            "    ctx = mycommunities_ctx()",
            "    ctx.update({",
            "        'is_owner': community.id_user == current_user.get_id(),",
            "        'community': community,",
            "        'detail': True,",
            "    })",
            "    ctx.update(extra_ctx)",
            "",
            "    return render_template(template, **ctx)",
            "",
            "",
            "@blueprint.route('/new/', methods=['GET', 'POST'])",
            "@login_required",
            "def new():",
            "    \"\"\"Create a new community.\"\"\"",
            "    form = CommunityForm(formdata=request.values)",
            "",
            "    ctx = mycommunities_ctx()",
            "    ctx.update({",
            "        'form': form,",
            "        'is_new': True,",
            "        'community': None,",
            "    })",
            "",
            "    if form.validate_on_submit():",
            "        data = copy.deepcopy(form.data)",
            "",
            "        community_id = data.pop('identifier')",
            "        del data['logo']",
            "",
            "        community = Community.create(",
            "            community_id, current_user.get_id(), **data)",
            "",
            "        file = request.files.get('logo', None)",
            "        if file:",
            "            if not community.save_logo(file.stream, file.filename):",
            "                form.logo.errors.append(_(",
            "                    'Cannot add this file as a logo. Supported formats: '",
            "                    'PNG, JPG and SVG. Max file size: 1.5 MB.'))",
            "                db.session.rollback()",
            "                community = None",
            "",
            "        if community:",
            "            db.session.commit()",
            "            flash(\"Community was successfully created.\", category='success')",
            "            return redirect(url_for('.edit', community_id=community.id))",
            "",
            "    return render_template(",
            "        current_app.config['COMMUNITIES_NEW_TEMPLATE'],",
            "        community_form=form,",
            "        **ctx",
            "    )",
            "",
            "",
            "@blueprint.route('/<string:community_id>/edit/', methods=['GET', 'POST'])",
            "@login_required",
            "@pass_community",
            "@permission_required('community-edit')",
            "def edit(community):",
            "    \"\"\"Create or edit a community.\"\"\"",
            "    form = EditCommunityForm(formdata=request.values, obj=community)",
            "    deleteform = DeleteCommunityForm()",
            "    ctx = mycommunities_ctx()",
            "    ctx.update({",
            "        'form': form,",
            "        'is_new': False,",
            "        'community': community,",
            "        'deleteform': deleteform,",
            "    })",
            "",
            "    if form.validate_on_submit():",
            "        for field, val in form.data.items():",
            "            setattr(community, field, val)",
            "",
            "        file = request.files.get('logo', None)",
            "        if file:",
            "            if not community.save_logo(file.stream, file.filename):",
            "                form.logo.errors.append(_(",
            "                    'Cannot add this file as a logo. Supported formats: '",
            "                    'PNG, JPG and SVG. Max file size: 1.5 MB.'))",
            "",
            "        if not form.logo.errors:",
            "            db.session.commit()",
            "            flash(\"Community successfully edited.\", category='success')",
            "            return redirect(url_for('.edit', community_id=community.id))",
            "",
            "    return render_template(",
            "        current_app.config['COMMUNITIES_EDIT_TEMPLATE'],",
            "        **ctx",
            "    )",
            "",
            "",
            "@blueprint.route('/<string:community_id>/delete/', methods=['POST'])",
            "@login_required",
            "@pass_community",
            "@permission_required('community-delete')",
            "def delete(community):",
            "    \"\"\"Delete a community.\"\"\"",
            "    deleteform = DeleteCommunityForm(formdata=request.values)",
            "    ctx = mycommunities_ctx()",
            "    ctx.update({",
            "        'deleteform': deleteform,",
            "        'is_new': False,",
            "        'community': community,",
            "    })",
            "",
            "    if deleteform.validate_on_submit():",
            "        community.delete()",
            "        db.session.commit()",
            "        flash(\"Community was deleted.\", category='success')",
            "        return redirect(url_for('.index'))",
            "    else:",
            "        flash(\"Community could not be deleted.\", category='warning')",
            "        return redirect(url_for('.edit', community_id=community.id))",
            "",
            "",
            "@blueprint.route('/<string:community_id>/curate/', methods=['GET', 'POST'])",
            "@login_required",
            "@pass_community",
            "@permission_required('community-curate')",
            "def curate(community):",
            "    \"\"\"Index page with uploader and list of existing depositions.",
            "",
            "    :param community_id: ID of the community to curate.",
            "    \"\"\"",
            "    if request.method == 'POST':",
            "        action = request.json.get('action')",
            "        recid = request.json.get('recid')",
            "",
            "        # 'recid' is mandatory",
            "        if not recid:",
            "            abort(400)",
            "        if action not in ['accept', 'reject', 'remove']:",
            "            abort(400)",
            "",
            "        # Resolve recid to a Record",
            "        resolver = Resolver(",
            "            pid_type='recid', object_type='rec', getter=Record.get_record)",
            "        pid, record = resolver.resolve(recid)",
            "",
            "        # Perform actions",
            "        if action == \"accept\":",
            "            community.accept_record(record)",
            "        elif action == \"reject\":",
            "            community.reject_record(record)",
            "        elif action == \"remove\":",
            "            community.remove_record(record)",
            "",
            "        record.commit()",
            "        db.session.commit()",
            "        RecordIndexer().index_by_id(record.id)",
            "        return jsonify({'status': 'success'})",
            "",
            "    ctx = {'community': community}",
            "    return render_template(",
            "        current_app.config['COMMUNITIES_CURATE_TEMPLATE'],",
            "        **ctx",
            "    )"
        ],
        "afterPatchFile": [
            "# -*- coding: utf-8 -*-",
            "#",
            "# This file is part of Invenio.",
            "# Copyright (C) 2016, 2017 CERN.",
            "#",
            "# Invenio is free software; you can redistribute it",
            "# and/or modify it under the terms of the GNU General Public License as",
            "# published by the Free Software Foundation; either version 2 of the",
            "# License, or (at your option) any later version.",
            "#",
            "# Invenio is distributed in the hope that it will be",
            "# useful, but WITHOUT ANY WARRANTY; without even the implied warranty of",
            "# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU",
            "# General Public License for more details.",
            "#",
            "# You should have received a copy of the GNU General Public License",
            "# along with Invenio; if not, write to the",
            "# Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston,",
            "# MA 02111-1307, USA.",
            "#",
            "# In applying this license, CERN does not",
            "# waive the privileges and immunities granted to it by virtue of its status",
            "# as an Intergovernmental Organization or submit itself to any jurisdiction.",
            "",
            "\"\"\"Invenio module that adds support for communities.\"\"\"",
            "",
            "from __future__ import absolute_import, print_function",
            "",
            "import copy",
            "from functools import wraps",
            "",
            "import bleach",
            "from flask import Blueprint, abort, current_app, flash, jsonify, redirect, \\",
            "    render_template, request, url_for",
            "from flask_babelex import gettext as _",
            "from flask_login import current_user, login_required",
            "from invenio_db import db",
            "from invenio_indexer.api import RecordIndexer",
            "from invenio_pidstore.resolver import Resolver",
            "from invenio_records.api import Record",
            "",
            "from invenio_communities.forms import CommunityForm, DeleteCommunityForm, \\",
            "    EditCommunityForm, SearchForm",
            "from invenio_communities.models import Community, FeaturedCommunity",
            "from invenio_communities.proxies import current_permission_factory",
            "from invenio_communities.utils import Pagination, render_template_to_string",
            "",
            "blueprint = Blueprint(",
            "    'invenio_communities',",
            "    __name__,",
            "    url_prefix='/communities',",
            "    template_folder='../templates',",
            "    static_folder='../static',",
            ")",
            "",
            "",
            "@blueprint.app_template_filter('sanitize_html')",
            "def sanitize_html(value):",
            "    \"\"\"Sanitizes HTML using the bleach library.\"\"\"",
            "    return bleach.clean(",
            "        value,",
            "        tags=current_app.config['COMMUNITIES_ALLOWED_TAGS'],",
            "        attributes=current_app.config['COMMUNITIES_ALLOWED_ATTRS'],",
            "        strip=True,",
            "    ).strip()",
            "",
            "",
            "def pass_community(f):",
            "    \"\"\"Decorator to pass community.\"\"\"",
            "    @wraps(f)",
            "    def inner(community_id, *args, **kwargs):",
            "        c = Community.get(community_id)",
            "        if c is None:",
            "            abort(404)",
            "        return f(c, *args, **kwargs)",
            "    return inner",
            "",
            "",
            "def permission_required(action):",
            "    \"\"\"Decorator to require permission.\"\"\"",
            "    def decorator(f):",
            "        @wraps(f)",
            "        def inner(community, *args, **kwargs):",
            "            permission = current_permission_factory(community, action=action)",
            "            if not permission.can():",
            "                abort(403)",
            "            return f(community, *args, **kwargs)",
            "        return inner",
            "    return decorator",
            "",
            "",
            "@blueprint.app_template_filter('format_item')",
            "def format_item(item, template, name='item'):",
            "    \"\"\"Render a template to a string with the provided item in context.\"\"\"",
            "    ctx = {name: item}",
            "    return render_template_to_string(template, **ctx)",
            "",
            "",
            "@blueprint.app_template_filter('mycommunities_ctx')",
            "def mycommunities_ctx():",
            "    \"\"\"Helper method for return ctx used by many views.\"\"\"",
            "    return {",
            "        'mycommunities': Community.get_by_user(current_user.get_id()).all()",
            "    }",
            "",
            "",
            "@blueprint.route('/', methods=['GET', ])",
            "def index():",
            "    \"\"\"Index page with uploader and list of existing depositions.\"\"\"",
            "    ctx = mycommunities_ctx()",
            "",
            "    p = request.args.get('p', type=str)",
            "    so = request.args.get('so', type=str)",
            "    page = request.args.get('page', type=int, default=1)",
            "",
            "    so = so or current_app.config.get('COMMUNITIES_DEFAULT_SORTING_OPTION')",
            "",
            "    communities = Community.filter_communities(p, so)",
            "    featured_community = FeaturedCommunity.get_featured_or_none()",
            "    form = SearchForm(p=p)",
            "    per_page = 10",
            "    page = max(page, 1)",
            "    p = Pagination(page, per_page, communities.count())",
            "",
            "    ctx.update({",
            "        'r_from': max(p.per_page * (p.page - 1), 0),",
            "        'r_to': min(p.per_page * p.page, p.total_count),",
            "        'r_total': p.total_count,",
            "        'pagination': p,",
            "        'form': form,",
            "        'title': _('Communities'),",
            "        'communities': communities.slice(",
            "            per_page * (page - 1), per_page * page).all(),",
            "        'featured_community': featured_community,",
            "    })",
            "",
            "    return render_template(",
            "        current_app.config['COMMUNITIES_INDEX_TEMPLATE'], **ctx)",
            "",
            "",
            "@blueprint.route('/<string:community_id>/', methods=['GET'])",
            "@pass_community",
            "def detail(community):",
            "    \"\"\"Index page with uploader and list of existing depositions.\"\"\"",
            "    return generic_item(",
            "        community, current_app.config['COMMUNITIES_DETAIL_TEMPLATE'])",
            "",
            "",
            "@blueprint.route('/<string:community_id>/search', methods=['GET'])",
            "@pass_community",
            "def search(community):",
            "    \"\"\"Index page with uploader and list of existing depositions.\"\"\"",
            "    return generic_item(",
            "        community,",
            "        current_app.config['COMMUNITIES_SEARCH_TEMPLATE'],",
            "        detail=False)",
            "",
            "",
            "@blueprint.route('/<string:community_id>/about/', methods=['GET'])",
            "@pass_community",
            "def about(community):",
            "    \"\"\"Index page with uploader and list of existing depositions.\"\"\"",
            "    return generic_item(",
            "        community, current_app.config['COMMUNITIES_ABOUT_TEMPLATE'])",
            "",
            "",
            "def generic_item(community, template, **extra_ctx):",
            "    \"\"\"Index page with uploader and list of existing depositions.\"\"\"",
            "    # Check existence of community",
            "    ctx = mycommunities_ctx()",
            "    ctx.update({",
            "        'is_owner': community.id_user == current_user.get_id(),",
            "        'community': community,",
            "        'detail': True,",
            "    })",
            "    ctx.update(extra_ctx)",
            "",
            "    return render_template(template, **ctx)",
            "",
            "",
            "@blueprint.route('/new/', methods=['GET', 'POST'])",
            "@login_required",
            "def new():",
            "    \"\"\"Create a new community.\"\"\"",
            "    form = CommunityForm(formdata=request.values)",
            "",
            "    ctx = mycommunities_ctx()",
            "    ctx.update({",
            "        'form': form,",
            "        'is_new': True,",
            "        'community': None,",
            "    })",
            "",
            "    if form.validate_on_submit():",
            "        data = copy.deepcopy(form.data)",
            "",
            "        community_id = data.pop('identifier')",
            "        del data['logo']",
            "",
            "        community = Community.create(",
            "            community_id, current_user.get_id(), **data)",
            "",
            "        file = request.files.get('logo', None)",
            "        if file:",
            "            if not community.save_logo(file.stream, file.filename):",
            "                form.logo.errors.append(_(",
            "                    'Cannot add this file as a logo. Supported formats: '",
            "                    'PNG, JPG and SVG. Max file size: 1.5 MB.'))",
            "                db.session.rollback()",
            "                community = None",
            "",
            "        if community:",
            "            db.session.commit()",
            "            flash(\"Community was successfully created.\", category='success')",
            "            return redirect(url_for('.edit', community_id=community.id))",
            "",
            "    return render_template(",
            "        current_app.config['COMMUNITIES_NEW_TEMPLATE'],",
            "        community_form=form,",
            "        **ctx",
            "    )",
            "",
            "",
            "@blueprint.route('/<string:community_id>/edit/', methods=['GET', 'POST'])",
            "@login_required",
            "@pass_community",
            "@permission_required('community-edit')",
            "def edit(community):",
            "    \"\"\"Create or edit a community.\"\"\"",
            "    form = EditCommunityForm(formdata=request.values, obj=community)",
            "    deleteform = DeleteCommunityForm()",
            "    ctx = mycommunities_ctx()",
            "    ctx.update({",
            "        'form': form,",
            "        'is_new': False,",
            "        'community': community,",
            "        'deleteform': deleteform,",
            "    })",
            "",
            "    if form.validate_on_submit():",
            "        for field, val in form.data.items():",
            "            setattr(community, field, val)",
            "",
            "        file = request.files.get('logo', None)",
            "        if file:",
            "            if not community.save_logo(file.stream, file.filename):",
            "                form.logo.errors.append(_(",
            "                    'Cannot add this file as a logo. Supported formats: '",
            "                    'PNG, JPG and SVG. Max file size: 1.5 MB.'))",
            "",
            "        if not form.logo.errors:",
            "            db.session.commit()",
            "            flash(\"Community successfully edited.\", category='success')",
            "            return redirect(url_for('.edit', community_id=community.id))",
            "",
            "    return render_template(",
            "        current_app.config['COMMUNITIES_EDIT_TEMPLATE'],",
            "        **ctx",
            "    )",
            "",
            "",
            "@blueprint.route('/<string:community_id>/delete/', methods=['POST'])",
            "@login_required",
            "@pass_community",
            "@permission_required('community-delete')",
            "def delete(community):",
            "    \"\"\"Delete a community.\"\"\"",
            "    deleteform = DeleteCommunityForm(formdata=request.values)",
            "    ctx = mycommunities_ctx()",
            "    ctx.update({",
            "        'deleteform': deleteform,",
            "        'is_new': False,",
            "        'community': community,",
            "    })",
            "",
            "    if deleteform.validate_on_submit():",
            "        community.delete()",
            "        db.session.commit()",
            "        flash(\"Community was deleted.\", category='success')",
            "        return redirect(url_for('.index'))",
            "    else:",
            "        flash(\"Community could not be deleted.\", category='warning')",
            "        return redirect(url_for('.edit', community_id=community.id))",
            "",
            "",
            "@blueprint.route('/<string:community_id>/curate/', methods=['GET', 'POST'])",
            "@login_required",
            "@pass_community",
            "@permission_required('community-curate')",
            "def curate(community):",
            "    \"\"\"Index page with uploader and list of existing depositions.",
            "",
            "    :param community_id: ID of the community to curate.",
            "    \"\"\"",
            "    if request.method == 'POST':",
            "        action = request.json.get('action')",
            "        recid = request.json.get('recid')",
            "",
            "        # 'recid' is mandatory",
            "        if not recid:",
            "            abort(400)",
            "        if action not in ['accept', 'reject', 'remove']:",
            "            abort(400)",
            "",
            "        # Resolve recid to a Record",
            "        resolver = Resolver(",
            "            pid_type='recid', object_type='rec', getter=Record.get_record)",
            "        pid, record = resolver.resolve(recid)",
            "",
            "        # Perform actions",
            "        if action == \"accept\":",
            "            community.accept_record(record)",
            "        elif action == \"reject\":",
            "            community.reject_record(record)",
            "        elif action == \"remove\":",
            "            community.remove_record(record)",
            "",
            "        record.commit()",
            "        db.session.commit()",
            "        RecordIndexer().index_by_id(record.id)",
            "        return jsonify({'status': 'success'})",
            "",
            "    ctx = {'community': community}",
            "    return render_template(",
            "        current_app.config['COMMUNITIES_CURATE_TEMPLATE'],",
            "        **ctx",
            "    )"
        ],
        "action": [
            "0",
            "0",
            "0",
            "-1",
            "0",
            "0",
            "0",
            "0",
            "0",
            "0",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {},
        "addLocation": []
    },
    "setup.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 34,
                "afterPatchRowNumber": 34,
                "PatchRowcode": " history = open('CHANGES.rst').read()"
            },
            "1": {
                "beforePatchRowNumber": 35,
                "afterPatchRowNumber": 35,
                "PatchRowcode": " "
            },
            "2": {
                "beforePatchRowNumber": 36,
                "afterPatchRowNumber": 36,
                "PatchRowcode": " tests_require = ["
            },
            "3": {
                "beforePatchRowNumber": 37,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    'Flask-CeleryExt>=0.2.2',"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 37,
                "PatchRowcode": "+    'Flask-CeleryExt>=0.3.2',"
            },
            "5": {
                "beforePatchRowNumber": 38,
                "afterPatchRowNumber": 38,
                "PatchRowcode": "     'SQLAlchemy-Continuum>=1.2.1',"
            },
            "6": {
                "beforePatchRowNumber": 39,
                "afterPatchRowNumber": 39,
                "PatchRowcode": "     'check-manifest>=0.25',"
            },
            "7": {
                "beforePatchRowNumber": 40,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    'coverage>=4.0',"
            },
            "8": {
                "beforePatchRowNumber": 41,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    'invenio-mail>=1.0.0a3',"
            },
            "9": {
                "beforePatchRowNumber": 42,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    'invenio-oaiserver>=1.0.0a9',"
            },
            "10": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 40,
                "PatchRowcode": "+    'coverage>=4.5.3',"
            },
            "11": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 41,
                "PatchRowcode": "+    'invenio-mail>=1.0.2',"
            },
            "12": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 42,
                "PatchRowcode": "+    'invenio-oaiserver>=1.0.3',"
            },
            "13": {
                "beforePatchRowNumber": 43,
                "afterPatchRowNumber": 43,
                "PatchRowcode": "     'isort>=4.3.3',"
            },
            "14": {
                "beforePatchRowNumber": 44,
                "afterPatchRowNumber": 44,
                "PatchRowcode": "     'mock>=1.3.0',"
            },
            "15": {
                "beforePatchRowNumber": 45,
                "afterPatchRowNumber": 45,
                "PatchRowcode": "     'pydocstyle>=1.0.0',"
            },
            "16": {
                "beforePatchRowNumber": 46,
                "afterPatchRowNumber": 46,
                "PatchRowcode": "     'pytest-cache>=1.0',"
            },
            "17": {
                "beforePatchRowNumber": 47,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    'pytest-cov>=1.8.0',"
            },
            "18": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 47,
                "PatchRowcode": "+    'pytest-cov>=2.7.1',"
            },
            "19": {
                "beforePatchRowNumber": 48,
                "afterPatchRowNumber": 48,
                "PatchRowcode": "     'pytest-pep8>=1.0.6',"
            },
            "20": {
                "beforePatchRowNumber": 49,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    'pytest>=2.8.0,!=3.3.0',"
            },
            "21": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 49,
                "PatchRowcode": "+    'pytest>=4.6.4,<5.0.0',"
            },
            "22": {
                "beforePatchRowNumber": 50,
                "afterPatchRowNumber": 50,
                "PatchRowcode": " ]"
            },
            "23": {
                "beforePatchRowNumber": 51,
                "afterPatchRowNumber": 51,
                "PatchRowcode": " "
            },
            "24": {
                "beforePatchRowNumber": 52,
                "afterPatchRowNumber": 52,
                "PatchRowcode": " extras_require = {"
            },
            "25": {
                "beforePatchRowNumber": 60,
                "afterPatchRowNumber": 60,
                "PatchRowcode": "         'Flask-Mail>=0.9.1',"
            },
            "26": {
                "beforePatchRowNumber": 61,
                "afterPatchRowNumber": 61,
                "PatchRowcode": "     ],"
            },
            "27": {
                "beforePatchRowNumber": 62,
                "afterPatchRowNumber": 62,
                "PatchRowcode": "     'oai': ["
            },
            "28": {
                "beforePatchRowNumber": 63,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        'invenio-oaiserver>=1.0.0a8',"
            },
            "29": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 63,
                "PatchRowcode": "+        'invenio-oaiserver>=1.0.3',"
            },
            "30": {
                "beforePatchRowNumber": 64,
                "afterPatchRowNumber": 64,
                "PatchRowcode": "     ],"
            },
            "31": {
                "beforePatchRowNumber": 65,
                "afterPatchRowNumber": 65,
                "PatchRowcode": "     'mysql': ["
            },
            "32": {
                "beforePatchRowNumber": 66,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        'invenio-db[mysql]>=1.0.0b3',"
            },
            "33": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 66,
                "PatchRowcode": "+        'invenio-db[mysql]>=1.0.3',"
            },
            "34": {
                "beforePatchRowNumber": 67,
                "afterPatchRowNumber": 67,
                "PatchRowcode": "     ],"
            },
            "35": {
                "beforePatchRowNumber": 68,
                "afterPatchRowNumber": 68,
                "PatchRowcode": "     'postgresql': ["
            },
            "36": {
                "beforePatchRowNumber": 69,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        'invenio-db[postgresql]>=1.0.0b3',"
            },
            "37": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 69,
                "PatchRowcode": "+        'invenio-db[postgresql]>=1.0.3',"
            },
            "38": {
                "beforePatchRowNumber": 70,
                "afterPatchRowNumber": 70,
                "PatchRowcode": "     ],"
            },
            "39": {
                "beforePatchRowNumber": 71,
                "afterPatchRowNumber": 71,
                "PatchRowcode": "     'sqlite': ["
            },
            "40": {
                "beforePatchRowNumber": 72,
                "afterPatchRowNumber": 72,
                "PatchRowcode": "         'invenio-db>=1.0.0b3',"
            },
            "41": {
                "beforePatchRowNumber": 86,
                "afterPatchRowNumber": 86,
                "PatchRowcode": " ]"
            },
            "42": {
                "beforePatchRowNumber": 87,
                "afterPatchRowNumber": 87,
                "PatchRowcode": " "
            },
            "43": {
                "beforePatchRowNumber": 88,
                "afterPatchRowNumber": 88,
                "PatchRowcode": " install_requires = ["
            },
            "44": {
                "beforePatchRowNumber": 89,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    'Flask-BabelEx>=0.9.3',"
            },
            "45": {
                "beforePatchRowNumber": 90,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    'Flask>=0.11.1',"
            },
            "46": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 89,
                "PatchRowcode": "+    'bleach>=2.1.3',"
            },
            "47": {
                "beforePatchRowNumber": 91,
                "afterPatchRowNumber": 90,
                "PatchRowcode": "     'elasticsearch-dsl>=2.0.0,<3.0.0',"
            },
            "48": {
                "beforePatchRowNumber": 92,
                "afterPatchRowNumber": 91,
                "PatchRowcode": "     'elasticsearch>=2.0.0,<3.0.0',"
            },
            "49": {
                "beforePatchRowNumber": 93,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    'invenio-access>=1.0.0a11',"
            },
            "50": {
                "beforePatchRowNumber": 94,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    'invenio-accounts>=1.0.0b1',"
            },
            "51": {
                "beforePatchRowNumber": 95,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    'invenio-assets>=1.0.0b2',"
            },
            "52": {
                "beforePatchRowNumber": 96,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    'invenio-files-rest>=1.0.0.a14',"
            },
            "53": {
                "beforePatchRowNumber": 97,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    'invenio-indexer>=1.0.0a8',"
            },
            "54": {
                "beforePatchRowNumber": 98,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    'invenio-pidstore>=1.0.0b1',"
            },
            "55": {
                "beforePatchRowNumber": 99,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    'invenio-records>=1.0.0b1',"
            },
            "56": {
                "beforePatchRowNumber": 100,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    'invenio-rest[cors]>=1.0.0a9',"
            },
            "57": {
                "beforePatchRowNumber": 101,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    'invenio-search>=1.0.0a9',"
            },
            "58": {
                "beforePatchRowNumber": 102,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    'marshmallow>=2.15.0',"
            },
            "59": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 92,
                "PatchRowcode": "+    'Flask-BabelEx>=0.9.3',"
            },
            "60": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 93,
                "PatchRowcode": "+    'Flask>=0.11.1',"
            },
            "61": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 94,
                "PatchRowcode": "+    'invenio-access>=1.1.0',"
            },
            "62": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 95,
                "PatchRowcode": "+    'invenio-accounts>=1.1.0',"
            },
            "63": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 96,
                "PatchRowcode": "+    'invenio-assets>=1.1.2',"
            },
            "64": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 97,
                "PatchRowcode": "+    'invenio-files-rest>=1.0.0b1',"
            },
            "65": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 98,
                "PatchRowcode": "+    'invenio-indexer>=1.0.2',"
            },
            "66": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 99,
                "PatchRowcode": "+    'invenio-pidstore>=1.0.0',"
            },
            "67": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 100,
                "PatchRowcode": "+    'invenio-records>=1.2.0',"
            },
            "68": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 101,
                "PatchRowcode": "+    'invenio-rest[cors]>=1.0.0',"
            },
            "69": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 102,
                "PatchRowcode": "+    'invenio-search>=1.1.0',"
            },
            "70": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 103,
                "PatchRowcode": "+    'marshmallow>=2.15.0,<3',"
            },
            "71": {
                "beforePatchRowNumber": 103,
                "afterPatchRowNumber": 104,
                "PatchRowcode": " ]"
            },
            "72": {
                "beforePatchRowNumber": 104,
                "afterPatchRowNumber": 105,
                "PatchRowcode": " "
            },
            "73": {
                "beforePatchRowNumber": 105,
                "afterPatchRowNumber": 106,
                "PatchRowcode": " packages = find_packages()"
            }
        },
        "frontPatchFile": [
            "# -*- coding: utf-8 -*-",
            "#",
            "# This file is part of Invenio.",
            "# Copyright (C) 2015, 2016 CERN.",
            "#",
            "# Invenio is free software; you can redistribute it",
            "# and/or modify it under the terms of the GNU General Public License as",
            "# published by the Free Software Foundation; either version 2 of the",
            "# License, or (at your option) any later version.",
            "#",
            "# Invenio is distributed in the hope that it will be",
            "# useful, but WITHOUT ANY WARRANTY; without even the implied warranty of",
            "# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU",
            "# General Public License for more details.",
            "#",
            "# You should have received a copy of the GNU General Public License",
            "# along with Invenio; if not, write to the",
            "# Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston,",
            "# MA 02111-1307, USA.",
            "#",
            "# In applying this license, CERN does not",
            "# waive the privileges and immunities granted to it by virtue of its status",
            "# as an Intergovernmental Organization or submit itself to any jurisdiction.",
            "",
            "\"\"\"Invenio module that adds support for communities.\"\"\"",
            "",
            "from __future__ import absolute_import, print_function",
            "",
            "import os",
            "",
            "from setuptools import find_packages, setup",
            "",
            "readme = open('README.rst').read()",
            "history = open('CHANGES.rst').read()",
            "",
            "tests_require = [",
            "    'Flask-CeleryExt>=0.2.2',",
            "    'SQLAlchemy-Continuum>=1.2.1',",
            "    'check-manifest>=0.25',",
            "    'coverage>=4.0',",
            "    'invenio-mail>=1.0.0a3',",
            "    'invenio-oaiserver>=1.0.0a9',",
            "    'isort>=4.3.3',",
            "    'mock>=1.3.0',",
            "    'pydocstyle>=1.0.0',",
            "    'pytest-cache>=1.0',",
            "    'pytest-cov>=1.8.0',",
            "    'pytest-pep8>=1.0.6',",
            "    'pytest>=2.8.0,!=3.3.0',",
            "]",
            "",
            "extras_require = {",
            "    'admin': [",
            "        'Flask-Admin>=1.3.0',",
            "    ],",
            "    'docs': [",
            "        'Sphinx>=1.5.1',",
            "    ],",
            "    'mail': [",
            "        'Flask-Mail>=0.9.1',",
            "    ],",
            "    'oai': [",
            "        'invenio-oaiserver>=1.0.0a8',",
            "    ],",
            "    'mysql': [",
            "        'invenio-db[mysql]>=1.0.0b3',",
            "    ],",
            "    'postgresql': [",
            "        'invenio-db[postgresql]>=1.0.0b3',",
            "    ],",
            "    'sqlite': [",
            "        'invenio-db>=1.0.0b3',",
            "    ],",
            "    'tests': tests_require,",
            "}",
            "",
            "extras_require['all'] = []",
            "for name, reqs in extras_require.items():",
            "    if name in ('mysql', 'postgresql', 'sqlite'):",
            "        continue",
            "    extras_require['all'].extend(reqs)",
            "",
            "setup_requires = [",
            "    'Babel>=1.3',",
            "    'pytest-runner>=2.7',",
            "]",
            "",
            "install_requires = [",
            "    'Flask-BabelEx>=0.9.3',",
            "    'Flask>=0.11.1',",
            "    'elasticsearch-dsl>=2.0.0,<3.0.0',",
            "    'elasticsearch>=2.0.0,<3.0.0',",
            "    'invenio-access>=1.0.0a11',",
            "    'invenio-accounts>=1.0.0b1',",
            "    'invenio-assets>=1.0.0b2',",
            "    'invenio-files-rest>=1.0.0.a14',",
            "    'invenio-indexer>=1.0.0a8',",
            "    'invenio-pidstore>=1.0.0b1',",
            "    'invenio-records>=1.0.0b1',",
            "    'invenio-rest[cors]>=1.0.0a9',",
            "    'invenio-search>=1.0.0a9',",
            "    'marshmallow>=2.15.0',",
            "]",
            "",
            "packages = find_packages()",
            "",
            "",
            "# Get the version string. Cannot be done with import!",
            "g = {}",
            "with open(os.path.join('invenio_communities', 'version.py'), 'rt') as fp:",
            "    exec(fp.read(), g)",
            "    version = g['__version__']",
            "",
            "setup(",
            "    name='invenio-communities',",
            "    version=version,",
            "    description=__doc__,",
            "    long_description=readme + '\\n\\n' + history,",
            "    keywords='invenio communities',",
            "    license='GPLv2',",
            "    author='CERN',",
            "    author_email='info@inveniosoftware.org',",
            "    url='https://github.com/inveniosoftware/invenio-communities',",
            "    packages=packages,",
            "    zip_safe=False,",
            "    include_package_data=True,",
            "    platforms='any',",
            "    entry_points={",
            "        'invenio_base.apps': [",
            "            'invenio_communities = invenio_communities:InvenioCommunities',",
            "        ],",
            "        'invenio_base.blueprints': [",
            "            'invenio_communities = invenio_communities.views.ui:blueprint',",
            "        ],",
            "        'invenio_base.api_apps': [",
            "            'invenio_communities = invenio_communities:InvenioCommunities',",
            "        ],",
            "        'invenio_base.api_blueprints': [",
            "            'invenio_communities = invenio_communities.views.api:blueprint',",
            "        ],",
            "        'invenio_db.alembic': [",
            "            'invenio_communities = invenio_communities:alembic',",
            "        ],",
            "        'invenio_i18n.translations': [",
            "            'messages = invenio_communities',",
            "        ],",
            "        'invenio_admin.views': [",
            "            'invenio_communities_communities = '",
            "            'invenio_communities.admin:community_adminview',",
            "            'invenio_communities_requests = '",
            "            'invenio_communities.admin:request_adminview',",
            "            'invenio_communities_featured = '",
            "            'invenio_communities.admin:featured_adminview',",
            "        ],",
            "        'invenio_assets.bundles': [",
            "            'invenio_communities_js = invenio_communities.bundles:js',",
            "            'invenio_communities_css = invenio_communities.bundles:css',",
            "        ]",
            "    },",
            "    extras_require=extras_require,",
            "    install_requires=install_requires,",
            "    setup_requires=setup_requires,",
            "    tests_require=tests_require,",
            "    classifiers=[",
            "        'Environment :: Web Environment',",
            "        'Intended Audience :: Developers',",
            "        'License :: OSI Approved :: GNU General Public License v2 (GPLv2)',",
            "        'Operating System :: OS Independent',",
            "        'Programming Language :: Python',",
            "        'Topic :: Internet :: WWW/HTTP :: Dynamic Content',",
            "        'Topic :: Software Development :: Libraries :: Python Modules',",
            "        'Programming Language :: Python :: 2',",
            "        'Programming Language :: Python :: 2.7',",
            "        'Programming Language :: Python :: 3',",
            "        'Programming Language :: Python :: 3.5',",
            "        'Programming Language :: Python :: Implementation :: CPython',",
            "        'Development Status :: 3 - Alpha',",
            "    ],",
            ")"
        ],
        "afterPatchFile": [
            "# -*- coding: utf-8 -*-",
            "#",
            "# This file is part of Invenio.",
            "# Copyright (C) 2015, 2016 CERN.",
            "#",
            "# Invenio is free software; you can redistribute it",
            "# and/or modify it under the terms of the GNU General Public License as",
            "# published by the Free Software Foundation; either version 2 of the",
            "# License, or (at your option) any later version.",
            "#",
            "# Invenio is distributed in the hope that it will be",
            "# useful, but WITHOUT ANY WARRANTY; without even the implied warranty of",
            "# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU",
            "# General Public License for more details.",
            "#",
            "# You should have received a copy of the GNU General Public License",
            "# along with Invenio; if not, write to the",
            "# Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston,",
            "# MA 02111-1307, USA.",
            "#",
            "# In applying this license, CERN does not",
            "# waive the privileges and immunities granted to it by virtue of its status",
            "# as an Intergovernmental Organization or submit itself to any jurisdiction.",
            "",
            "\"\"\"Invenio module that adds support for communities.\"\"\"",
            "",
            "from __future__ import absolute_import, print_function",
            "",
            "import os",
            "",
            "from setuptools import find_packages, setup",
            "",
            "readme = open('README.rst').read()",
            "history = open('CHANGES.rst').read()",
            "",
            "tests_require = [",
            "    'Flask-CeleryExt>=0.3.2',",
            "    'SQLAlchemy-Continuum>=1.2.1',",
            "    'check-manifest>=0.25',",
            "    'coverage>=4.5.3',",
            "    'invenio-mail>=1.0.2',",
            "    'invenio-oaiserver>=1.0.3',",
            "    'isort>=4.3.3',",
            "    'mock>=1.3.0',",
            "    'pydocstyle>=1.0.0',",
            "    'pytest-cache>=1.0',",
            "    'pytest-cov>=2.7.1',",
            "    'pytest-pep8>=1.0.6',",
            "    'pytest>=4.6.4,<5.0.0',",
            "]",
            "",
            "extras_require = {",
            "    'admin': [",
            "        'Flask-Admin>=1.3.0',",
            "    ],",
            "    'docs': [",
            "        'Sphinx>=1.5.1',",
            "    ],",
            "    'mail': [",
            "        'Flask-Mail>=0.9.1',",
            "    ],",
            "    'oai': [",
            "        'invenio-oaiserver>=1.0.3',",
            "    ],",
            "    'mysql': [",
            "        'invenio-db[mysql]>=1.0.3',",
            "    ],",
            "    'postgresql': [",
            "        'invenio-db[postgresql]>=1.0.3',",
            "    ],",
            "    'sqlite': [",
            "        'invenio-db>=1.0.0b3',",
            "    ],",
            "    'tests': tests_require,",
            "}",
            "",
            "extras_require['all'] = []",
            "for name, reqs in extras_require.items():",
            "    if name in ('mysql', 'postgresql', 'sqlite'):",
            "        continue",
            "    extras_require['all'].extend(reqs)",
            "",
            "setup_requires = [",
            "    'Babel>=1.3',",
            "    'pytest-runner>=2.7',",
            "]",
            "",
            "install_requires = [",
            "    'bleach>=2.1.3',",
            "    'elasticsearch-dsl>=2.0.0,<3.0.0',",
            "    'elasticsearch>=2.0.0,<3.0.0',",
            "    'Flask-BabelEx>=0.9.3',",
            "    'Flask>=0.11.1',",
            "    'invenio-access>=1.1.0',",
            "    'invenio-accounts>=1.1.0',",
            "    'invenio-assets>=1.1.2',",
            "    'invenio-files-rest>=1.0.0b1',",
            "    'invenio-indexer>=1.0.2',",
            "    'invenio-pidstore>=1.0.0',",
            "    'invenio-records>=1.2.0',",
            "    'invenio-rest[cors]>=1.0.0',",
            "    'invenio-search>=1.1.0',",
            "    'marshmallow>=2.15.0,<3',",
            "]",
            "",
            "packages = find_packages()",
            "",
            "",
            "# Get the version string. Cannot be done with import!",
            "g = {}",
            "with open(os.path.join('invenio_communities', 'version.py'), 'rt') as fp:",
            "    exec(fp.read(), g)",
            "    version = g['__version__']",
            "",
            "setup(",
            "    name='invenio-communities',",
            "    version=version,",
            "    description=__doc__,",
            "    long_description=readme + '\\n\\n' + history,",
            "    keywords='invenio communities',",
            "    license='GPLv2',",
            "    author='CERN',",
            "    author_email='info@inveniosoftware.org',",
            "    url='https://github.com/inveniosoftware/invenio-communities',",
            "    packages=packages,",
            "    zip_safe=False,",
            "    include_package_data=True,",
            "    platforms='any',",
            "    entry_points={",
            "        'invenio_base.apps': [",
            "            'invenio_communities = invenio_communities:InvenioCommunities',",
            "        ],",
            "        'invenio_base.blueprints': [",
            "            'invenio_communities = invenio_communities.views.ui:blueprint',",
            "        ],",
            "        'invenio_base.api_apps': [",
            "            'invenio_communities = invenio_communities:InvenioCommunities',",
            "        ],",
            "        'invenio_base.api_blueprints': [",
            "            'invenio_communities = invenio_communities.views.api:blueprint',",
            "        ],",
            "        'invenio_db.alembic': [",
            "            'invenio_communities = invenio_communities:alembic',",
            "        ],",
            "        'invenio_i18n.translations': [",
            "            'messages = invenio_communities',",
            "        ],",
            "        'invenio_admin.views': [",
            "            'invenio_communities_communities = '",
            "            'invenio_communities.admin:community_adminview',",
            "            'invenio_communities_requests = '",
            "            'invenio_communities.admin:request_adminview',",
            "            'invenio_communities_featured = '",
            "            'invenio_communities.admin:featured_adminview',",
            "        ],",
            "        'invenio_assets.bundles': [",
            "            'invenio_communities_js = invenio_communities.bundles:js',",
            "            'invenio_communities_css = invenio_communities.bundles:css',",
            "        ]",
            "    },",
            "    extras_require=extras_require,",
            "    install_requires=install_requires,",
            "    setup_requires=setup_requires,",
            "    tests_require=tests_require,",
            "    classifiers=[",
            "        'Environment :: Web Environment',",
            "        'Intended Audience :: Developers',",
            "        'License :: OSI Approved :: GNU General Public License v2 (GPLv2)',",
            "        'Operating System :: OS Independent',",
            "        'Programming Language :: Python',",
            "        'Topic :: Internet :: WWW/HTTP :: Dynamic Content',",
            "        'Topic :: Software Development :: Libraries :: Python Modules',",
            "        'Programming Language :: Python :: 2',",
            "        'Programming Language :: Python :: 2.7',",
            "        'Programming Language :: Python :: 3',",
            "        'Programming Language :: Python :: 3.5',",
            "        'Programming Language :: Python :: Implementation :: CPython',",
            "        'Development Status :: 3 - Alpha',",
            "    ],",
            ")"
        ],
        "action": [
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "0",
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0",
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0",
            "0",
            "0",
            "0",
            "2",
            "2",
            "2",
            "0",
            "0",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "37": [],
            "40": [],
            "41": [],
            "42": [],
            "47": [],
            "49": [],
            "63": [],
            "66": [],
            "69": [],
            "89": [],
            "90": [],
            "93": [],
            "94": [],
            "95": [],
            "96": [],
            "97": [],
            "98": [],
            "99": [],
            "100": [],
            "101": [],
            "102": []
        },
        "addLocation": []
    }
}