{
    "airflow/utils/docs.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 39,
                "afterPatchRowNumber": 39,
                "PatchRowcode": "     return result"
            },
            "1": {
                "beforePatchRowNumber": 40,
                "afterPatchRowNumber": 40,
                "PatchRowcode": " "
            },
            "2": {
                "beforePatchRowNumber": 41,
                "afterPatchRowNumber": 41,
                "PatchRowcode": " "
            },
            "3": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 42,
                "PatchRowcode": "+def get_project_url_from_metadata(provider_name: str):"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 43,
                "PatchRowcode": "+    \"\"\"Return the Project-URL from metadata.\"\"\""
            },
            "5": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 44,
                "PatchRowcode": "+    return metadata.metadata(provider_name).get_all(\"Project-URL\")"
            },
            "6": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 45,
                "PatchRowcode": "+"
            },
            "7": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 46,
                "PatchRowcode": "+"
            },
            "8": {
                "beforePatchRowNumber": 42,
                "afterPatchRowNumber": 47,
                "PatchRowcode": " def get_doc_url_for_provider(provider_name: str, provider_version: str) -> str:"
            },
            "9": {
                "beforePatchRowNumber": 43,
                "afterPatchRowNumber": 48,
                "PatchRowcode": "     \"\"\"Prepare link to Airflow Provider documentation.\"\"\""
            },
            "10": {
                "beforePatchRowNumber": 44,
                "afterPatchRowNumber": 49,
                "PatchRowcode": "     try:"
            },
            "11": {
                "beforePatchRowNumber": 45,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        metadata_items = metadata.metadata(provider_name).get_all(\"Project-URL\")"
            },
            "12": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 50,
                "PatchRowcode": "+        from urllib.parse import urlparse"
            },
            "13": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 51,
                "PatchRowcode": "+"
            },
            "14": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 52,
                "PatchRowcode": "+        metadata_items = get_project_url_from_metadata(provider_name)"
            },
            "15": {
                "beforePatchRowNumber": 46,
                "afterPatchRowNumber": 53,
                "PatchRowcode": "         if isinstance(metadata_items, str):"
            },
            "16": {
                "beforePatchRowNumber": 47,
                "afterPatchRowNumber": 54,
                "PatchRowcode": "             metadata_items = [metadata_items]"
            },
            "17": {
                "beforePatchRowNumber": 48,
                "afterPatchRowNumber": 55,
                "PatchRowcode": "         if metadata_items:"
            },
            "18": {
                "beforePatchRowNumber": 49,
                "afterPatchRowNumber": 56,
                "PatchRowcode": "             for item in metadata_items:"
            },
            "19": {
                "beforePatchRowNumber": 50,
                "afterPatchRowNumber": 57,
                "PatchRowcode": "                 if item.lower().startswith(\"documentation\"):"
            },
            "20": {
                "beforePatchRowNumber": 51,
                "afterPatchRowNumber": 58,
                "PatchRowcode": "                     _, _, url = item.partition(\",\")"
            },
            "21": {
                "beforePatchRowNumber": 52,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-                    if url:"
            },
            "22": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 59,
                "PatchRowcode": "+                    parsed_url = urlparse(url)"
            },
            "23": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 60,
                "PatchRowcode": "+                    if url and (parsed_url.scheme in (\"http\", \"https\") and bool(parsed_url.netloc)):"
            },
            "24": {
                "beforePatchRowNumber": 53,
                "afterPatchRowNumber": 61,
                "PatchRowcode": "                         return url.strip()"
            },
            "25": {
                "beforePatchRowNumber": 54,
                "afterPatchRowNumber": 62,
                "PatchRowcode": "     except metadata.PackageNotFoundError:"
            },
            "26": {
                "beforePatchRowNumber": 55,
                "afterPatchRowNumber": 63,
                "PatchRowcode": "         pass"
            }
        },
        "frontPatchFile": [
            "# Licensed to the Apache Software Foundation (ASF) under one",
            "# or more contributor license agreements.  See the NOTICE file",
            "# distributed with this work for additional information",
            "# regarding copyright ownership.  The ASF licenses this file",
            "# to you under the Apache License, Version 2.0 (the",
            "# \"License\"); you may not use this file except in compliance",
            "# with the License.  You may obtain a copy of the License at",
            "#",
            "#   http://www.apache.org/licenses/LICENSE-2.0",
            "#",
            "# Unless required by applicable law or agreed to in writing,",
            "# software distributed under the License is distributed on an",
            "# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY",
            "# KIND, either express or implied.  See the License for the",
            "# specific language governing permissions and limitations",
            "# under the License.",
            "from __future__ import annotations",
            "",
            "import sys",
            "",
            "if sys.version_info >= (3, 10):",
            "    from importlib import metadata",
            "else:",
            "    import importlib_metadata as metadata  # type: ignore[no-redef]",
            "",
            "",
            "def get_docs_url(page: str | None = None) -> str:",
            "    \"\"\"Prepare link to Airflow documentation.\"\"\"",
            "    from airflow.version import version",
            "",
            "    if any(suffix in version for suffix in [\"dev\", \"a\", \"b\"]):",
            "        result = (",
            "            \"http://apache-airflow-docs.s3-website.eu-central-1.amazonaws.com/docs/apache-airflow/stable/\"",
            "        )",
            "    else:",
            "        result = f\"https://airflow.apache.org/docs/apache-airflow/{version}/\"",
            "    if page:",
            "        result = result + page",
            "    return result",
            "",
            "",
            "def get_doc_url_for_provider(provider_name: str, provider_version: str) -> str:",
            "    \"\"\"Prepare link to Airflow Provider documentation.\"\"\"",
            "    try:",
            "        metadata_items = metadata.metadata(provider_name).get_all(\"Project-URL\")",
            "        if isinstance(metadata_items, str):",
            "            metadata_items = [metadata_items]",
            "        if metadata_items:",
            "            for item in metadata_items:",
            "                if item.lower().startswith(\"documentation\"):",
            "                    _, _, url = item.partition(\",\")",
            "                    if url:",
            "                        return url.strip()",
            "    except metadata.PackageNotFoundError:",
            "        pass",
            "    # Fallback if provider is apache one",
            "    if provider_name.startswith(\"apache-airflow\"):",
            "        return f\"https://airflow.apache.org/docs/{provider_name}/{provider_version}/\"",
            "    return \"https://airflow.apache.org/docs/apache-airflow-providers/index.html#creating-your-own-providers\""
        ],
        "afterPatchFile": [
            "# Licensed to the Apache Software Foundation (ASF) under one",
            "# or more contributor license agreements.  See the NOTICE file",
            "# distributed with this work for additional information",
            "# regarding copyright ownership.  The ASF licenses this file",
            "# to you under the Apache License, Version 2.0 (the",
            "# \"License\"); you may not use this file except in compliance",
            "# with the License.  You may obtain a copy of the License at",
            "#",
            "#   http://www.apache.org/licenses/LICENSE-2.0",
            "#",
            "# Unless required by applicable law or agreed to in writing,",
            "# software distributed under the License is distributed on an",
            "# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY",
            "# KIND, either express or implied.  See the License for the",
            "# specific language governing permissions and limitations",
            "# under the License.",
            "from __future__ import annotations",
            "",
            "import sys",
            "",
            "if sys.version_info >= (3, 10):",
            "    from importlib import metadata",
            "else:",
            "    import importlib_metadata as metadata  # type: ignore[no-redef]",
            "",
            "",
            "def get_docs_url(page: str | None = None) -> str:",
            "    \"\"\"Prepare link to Airflow documentation.\"\"\"",
            "    from airflow.version import version",
            "",
            "    if any(suffix in version for suffix in [\"dev\", \"a\", \"b\"]):",
            "        result = (",
            "            \"http://apache-airflow-docs.s3-website.eu-central-1.amazonaws.com/docs/apache-airflow/stable/\"",
            "        )",
            "    else:",
            "        result = f\"https://airflow.apache.org/docs/apache-airflow/{version}/\"",
            "    if page:",
            "        result = result + page",
            "    return result",
            "",
            "",
            "def get_project_url_from_metadata(provider_name: str):",
            "    \"\"\"Return the Project-URL from metadata.\"\"\"",
            "    return metadata.metadata(provider_name).get_all(\"Project-URL\")",
            "",
            "",
            "def get_doc_url_for_provider(provider_name: str, provider_version: str) -> str:",
            "    \"\"\"Prepare link to Airflow Provider documentation.\"\"\"",
            "    try:",
            "        from urllib.parse import urlparse",
            "",
            "        metadata_items = get_project_url_from_metadata(provider_name)",
            "        if isinstance(metadata_items, str):",
            "            metadata_items = [metadata_items]",
            "        if metadata_items:",
            "            for item in metadata_items:",
            "                if item.lower().startswith(\"documentation\"):",
            "                    _, _, url = item.partition(\",\")",
            "                    parsed_url = urlparse(url)",
            "                    if url and (parsed_url.scheme in (\"http\", \"https\") and bool(parsed_url.netloc)):",
            "                        return url.strip()",
            "    except metadata.PackageNotFoundError:",
            "        pass",
            "    # Fallback if provider is apache one",
            "    if provider_name.startswith(\"apache-airflow\"):",
            "        return f\"https://airflow.apache.org/docs/{provider_name}/{provider_version}/\"",
            "    return \"https://airflow.apache.org/docs/apache-airflow-providers/index.html#creating-your-own-providers\""
        ],
        "action": [
            "0",
            "0",
            "0",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "0",
            "0",
            "0",
            "2",
            "2",
            "2",
            "2",
            "0",
            "0",
            "0",
            "0",
            "0",
            "0",
            "2",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "45": [
                "get_doc_url_for_provider"
            ],
            "52": [
                "get_doc_url_for_provider"
            ]
        },
        "addLocation": [
            "lib.ansible.constants.get_config",
            "airflow.utils.docs.get_doc_url_for_provider"
        ]
    }
}