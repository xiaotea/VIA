{
    "IPython/__init__.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 63,
                "afterPatchRowNumber": 63,
                "PatchRowcode": " version_info = release.version_info"
            },
            "1": {
                "beforePatchRowNumber": 64,
                "afterPatchRowNumber": 64,
                "PatchRowcode": " # list of CVEs that should have been patched in this release."
            },
            "2": {
                "beforePatchRowNumber": 65,
                "afterPatchRowNumber": 65,
                "PatchRowcode": " # this is informational and should not be relied upon."
            },
            "3": {
                "beforePatchRowNumber": 66,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-__patched_cves__ = {\"CVE-2022-21699\"}"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 66,
                "PatchRowcode": "+__patched_cves__ = {\"CVE-2022-21699\", \"CVE-2023-24816\"}"
            },
            "5": {
                "beforePatchRowNumber": 67,
                "afterPatchRowNumber": 67,
                "PatchRowcode": " "
            },
            "6": {
                "beforePatchRowNumber": 68,
                "afterPatchRowNumber": 68,
                "PatchRowcode": " "
            },
            "7": {
                "beforePatchRowNumber": 69,
                "afterPatchRowNumber": 69,
                "PatchRowcode": " def embed_kernel(module=None, local_ns=None, **kwargs):"
            }
        },
        "frontPatchFile": [
            "# PYTHON_ARGCOMPLETE_OK",
            "\"\"\"",
            "IPython: tools for interactive and parallel computing in Python.",
            "",
            "https://ipython.org",
            "\"\"\"",
            "#-----------------------------------------------------------------------------",
            "#  Copyright (c) 2008-2011, IPython Development Team.",
            "#  Copyright (c) 2001-2007, Fernando Perez <fernando.perez@colorado.edu>",
            "#  Copyright (c) 2001, Janko Hauser <jhauser@zscout.de>",
            "#  Copyright (c) 2001, Nathaniel Gray <n8gray@caltech.edu>",
            "#",
            "#  Distributed under the terms of the Modified BSD License.",
            "#",
            "#  The full license is in the file COPYING.txt, distributed with this software.",
            "#-----------------------------------------------------------------------------",
            "",
            "#-----------------------------------------------------------------------------",
            "# Imports",
            "#-----------------------------------------------------------------------------",
            "",
            "import sys",
            "",
            "#-----------------------------------------------------------------------------",
            "# Setup everything",
            "#-----------------------------------------------------------------------------",
            "",
            "# Don't forget to also update setup.py when this changes!",
            "if sys.version_info < (3, 8):",
            "    raise ImportError(",
            "        \"\"\"",
            "IPython 8+ supports Python 3.8 and above, following NEP 29.",
            "When using Python 2.7, please install IPython 5.x LTS Long Term Support version.",
            "Python 3.3 and 3.4 were supported up to IPython 6.x.",
            "Python 3.5 was supported with IPython 7.0 to 7.9.",
            "Python 3.6 was supported with IPython up to 7.16.",
            "Python 3.7 was still supported with the 7.x branch.",
            "",
            "See IPython `README.rst` file for more information:",
            "",
            "    https://github.com/ipython/ipython/blob/main/README.rst",
            "",
            "\"\"\"",
            "    )",
            "",
            "#-----------------------------------------------------------------------------",
            "# Setup the top level names",
            "#-----------------------------------------------------------------------------",
            "",
            "from .core.getipython import get_ipython",
            "from .core import release",
            "from .core.application import Application",
            "from .terminal.embed import embed",
            "",
            "from .core.interactiveshell import InteractiveShell",
            "from .utils.sysinfo import sys_info",
            "from .utils.frame import extract_module_locals",
            "",
            "# Release data",
            "__author__ = '%s <%s>' % (release.author, release.author_email)",
            "__license__  = release.license",
            "__version__  = release.version",
            "version_info = release.version_info",
            "# list of CVEs that should have been patched in this release.",
            "# this is informational and should not be relied upon.",
            "__patched_cves__ = {\"CVE-2022-21699\"}",
            "",
            "",
            "def embed_kernel(module=None, local_ns=None, **kwargs):",
            "    \"\"\"Embed and start an IPython kernel in a given scope.",
            "",
            "    If you don't want the kernel to initialize the namespace",
            "    from the scope of the surrounding function,",
            "    and/or you want to load full IPython configuration,",
            "    you probably want `IPython.start_kernel()` instead.",
            "",
            "    Parameters",
            "    ----------",
            "    module : types.ModuleType, optional",
            "        The module to load into IPython globals (default: caller)",
            "    local_ns : dict, optional",
            "        The namespace to load into IPython user namespace (default: caller)",
            "    **kwargs : various, optional",
            "        Further keyword args are relayed to the IPKernelApp constructor,",
            "        allowing configuration of the Kernel.  Will only have an effect",
            "        on the first embed_kernel call for a given process.",
            "    \"\"\"",
            "    ",
            "    (caller_module, caller_locals) = extract_module_locals(1)",
            "    if module is None:",
            "        module = caller_module",
            "    if local_ns is None:",
            "        local_ns = caller_locals",
            "    ",
            "    # Only import .zmq when we really need it",
            "    from ipykernel.embed import embed_kernel as real_embed_kernel",
            "    real_embed_kernel(module=module, local_ns=local_ns, **kwargs)",
            "",
            "def start_ipython(argv=None, **kwargs):",
            "    \"\"\"Launch a normal IPython instance (as opposed to embedded)",
            "",
            "    `IPython.embed()` puts a shell in a particular calling scope,",
            "    such as a function or method for debugging purposes,",
            "    which is often not desirable.",
            "",
            "    `start_ipython()` does full, regular IPython initialization,",
            "    including loading startup files, configuration, etc.",
            "    much of which is skipped by `embed()`.",
            "",
            "    This is a public API method, and will survive implementation changes.",
            "",
            "    Parameters",
            "    ----------",
            "    argv : list or None, optional",
            "        If unspecified or None, IPython will parse command-line options from sys.argv.",
            "        To prevent any command-line parsing, pass an empty list: `argv=[]`.",
            "    user_ns : dict, optional",
            "        specify this dictionary to initialize the IPython user namespace with particular values.",
            "    **kwargs : various, optional",
            "        Any other kwargs will be passed to the Application constructor,",
            "        such as `config`.",
            "    \"\"\"",
            "    from IPython.terminal.ipapp import launch_new_instance",
            "    return launch_new_instance(argv=argv, **kwargs)",
            "",
            "def start_kernel(argv=None, **kwargs):",
            "    \"\"\"Launch a normal IPython kernel instance (as opposed to embedded)",
            "",
            "    `IPython.embed_kernel()` puts a shell in a particular calling scope,",
            "    such as a function or method for debugging purposes,",
            "    which is often not desirable.",
            "",
            "    `start_kernel()` does full, regular IPython initialization,",
            "    including loading startup files, configuration, etc.",
            "    much of which is skipped by `embed()`.",
            "",
            "    Parameters",
            "    ----------",
            "    argv : list or None, optional",
            "        If unspecified or None, IPython will parse command-line options from sys.argv.",
            "        To prevent any command-line parsing, pass an empty list: `argv=[]`.",
            "    user_ns : dict, optional",
            "        specify this dictionary to initialize the IPython user namespace with particular values.",
            "    **kwargs : various, optional",
            "        Any other kwargs will be passed to the Application constructor,",
            "        such as `config`.",
            "    \"\"\"",
            "    import warnings",
            "",
            "    warnings.warn(",
            "        \"start_kernel is deprecated since IPython 8.0, use from `ipykernel.kernelapp.launch_new_instance`\",",
            "        DeprecationWarning,",
            "        stacklevel=2,",
            "    )",
            "    from ipykernel.kernelapp import launch_new_instance",
            "    return launch_new_instance(argv=argv, **kwargs)"
        ],
        "afterPatchFile": [
            "# PYTHON_ARGCOMPLETE_OK",
            "\"\"\"",
            "IPython: tools for interactive and parallel computing in Python.",
            "",
            "https://ipython.org",
            "\"\"\"",
            "#-----------------------------------------------------------------------------",
            "#  Copyright (c) 2008-2011, IPython Development Team.",
            "#  Copyright (c) 2001-2007, Fernando Perez <fernando.perez@colorado.edu>",
            "#  Copyright (c) 2001, Janko Hauser <jhauser@zscout.de>",
            "#  Copyright (c) 2001, Nathaniel Gray <n8gray@caltech.edu>",
            "#",
            "#  Distributed under the terms of the Modified BSD License.",
            "#",
            "#  The full license is in the file COPYING.txt, distributed with this software.",
            "#-----------------------------------------------------------------------------",
            "",
            "#-----------------------------------------------------------------------------",
            "# Imports",
            "#-----------------------------------------------------------------------------",
            "",
            "import sys",
            "",
            "#-----------------------------------------------------------------------------",
            "# Setup everything",
            "#-----------------------------------------------------------------------------",
            "",
            "# Don't forget to also update setup.py when this changes!",
            "if sys.version_info < (3, 8):",
            "    raise ImportError(",
            "        \"\"\"",
            "IPython 8+ supports Python 3.8 and above, following NEP 29.",
            "When using Python 2.7, please install IPython 5.x LTS Long Term Support version.",
            "Python 3.3 and 3.4 were supported up to IPython 6.x.",
            "Python 3.5 was supported with IPython 7.0 to 7.9.",
            "Python 3.6 was supported with IPython up to 7.16.",
            "Python 3.7 was still supported with the 7.x branch.",
            "",
            "See IPython `README.rst` file for more information:",
            "",
            "    https://github.com/ipython/ipython/blob/main/README.rst",
            "",
            "\"\"\"",
            "    )",
            "",
            "#-----------------------------------------------------------------------------",
            "# Setup the top level names",
            "#-----------------------------------------------------------------------------",
            "",
            "from .core.getipython import get_ipython",
            "from .core import release",
            "from .core.application import Application",
            "from .terminal.embed import embed",
            "",
            "from .core.interactiveshell import InteractiveShell",
            "from .utils.sysinfo import sys_info",
            "from .utils.frame import extract_module_locals",
            "",
            "# Release data",
            "__author__ = '%s <%s>' % (release.author, release.author_email)",
            "__license__  = release.license",
            "__version__  = release.version",
            "version_info = release.version_info",
            "# list of CVEs that should have been patched in this release.",
            "# this is informational and should not be relied upon.",
            "__patched_cves__ = {\"CVE-2022-21699\", \"CVE-2023-24816\"}",
            "",
            "",
            "def embed_kernel(module=None, local_ns=None, **kwargs):",
            "    \"\"\"Embed and start an IPython kernel in a given scope.",
            "",
            "    If you don't want the kernel to initialize the namespace",
            "    from the scope of the surrounding function,",
            "    and/or you want to load full IPython configuration,",
            "    you probably want `IPython.start_kernel()` instead.",
            "",
            "    Parameters",
            "    ----------",
            "    module : types.ModuleType, optional",
            "        The module to load into IPython globals (default: caller)",
            "    local_ns : dict, optional",
            "        The namespace to load into IPython user namespace (default: caller)",
            "    **kwargs : various, optional",
            "        Further keyword args are relayed to the IPKernelApp constructor,",
            "        allowing configuration of the Kernel.  Will only have an effect",
            "        on the first embed_kernel call for a given process.",
            "    \"\"\"",
            "    ",
            "    (caller_module, caller_locals) = extract_module_locals(1)",
            "    if module is None:",
            "        module = caller_module",
            "    if local_ns is None:",
            "        local_ns = caller_locals",
            "    ",
            "    # Only import .zmq when we really need it",
            "    from ipykernel.embed import embed_kernel as real_embed_kernel",
            "    real_embed_kernel(module=module, local_ns=local_ns, **kwargs)",
            "",
            "def start_ipython(argv=None, **kwargs):",
            "    \"\"\"Launch a normal IPython instance (as opposed to embedded)",
            "",
            "    `IPython.embed()` puts a shell in a particular calling scope,",
            "    such as a function or method for debugging purposes,",
            "    which is often not desirable.",
            "",
            "    `start_ipython()` does full, regular IPython initialization,",
            "    including loading startup files, configuration, etc.",
            "    much of which is skipped by `embed()`.",
            "",
            "    This is a public API method, and will survive implementation changes.",
            "",
            "    Parameters",
            "    ----------",
            "    argv : list or None, optional",
            "        If unspecified or None, IPython will parse command-line options from sys.argv.",
            "        To prevent any command-line parsing, pass an empty list: `argv=[]`.",
            "    user_ns : dict, optional",
            "        specify this dictionary to initialize the IPython user namespace with particular values.",
            "    **kwargs : various, optional",
            "        Any other kwargs will be passed to the Application constructor,",
            "        such as `config`.",
            "    \"\"\"",
            "    from IPython.terminal.ipapp import launch_new_instance",
            "    return launch_new_instance(argv=argv, **kwargs)",
            "",
            "def start_kernel(argv=None, **kwargs):",
            "    \"\"\"Launch a normal IPython kernel instance (as opposed to embedded)",
            "",
            "    `IPython.embed_kernel()` puts a shell in a particular calling scope,",
            "    such as a function or method for debugging purposes,",
            "    which is often not desirable.",
            "",
            "    `start_kernel()` does full, regular IPython initialization,",
            "    including loading startup files, configuration, etc.",
            "    much of which is skipped by `embed()`.",
            "",
            "    Parameters",
            "    ----------",
            "    argv : list or None, optional",
            "        If unspecified or None, IPython will parse command-line options from sys.argv.",
            "        To prevent any command-line parsing, pass an empty list: `argv=[]`.",
            "    user_ns : dict, optional",
            "        specify this dictionary to initialize the IPython user namespace with particular values.",
            "    **kwargs : various, optional",
            "        Any other kwargs will be passed to the Application constructor,",
            "        such as `config`.",
            "    \"\"\"",
            "    import warnings",
            "",
            "    warnings.warn(",
            "        \"start_kernel is deprecated since IPython 8.0, use from `ipykernel.kernelapp.launch_new_instance`\",",
            "        DeprecationWarning,",
            "        stacklevel=2,",
            "    )",
            "    from ipykernel.kernelapp import launch_new_instance",
            "    return launch_new_instance(argv=argv, **kwargs)"
        ],
        "action": [
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "66": [
                "__patched_cves__"
            ]
        },
        "addLocation": []
    },
    "IPython/utils/terminal.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 91,
                "afterPatchRowNumber": 91,
                "PatchRowcode": "         _set_term_title = _set_term_title_xterm"
            },
            "1": {
                "beforePatchRowNumber": 92,
                "afterPatchRowNumber": 92,
                "PatchRowcode": "         _restore_term_title = _restore_term_title_xterm"
            },
            "2": {
                "beforePatchRowNumber": 93,
                "afterPatchRowNumber": 93,
                "PatchRowcode": " elif sys.platform == 'win32':"
            },
            "3": {
                "beforePatchRowNumber": 94,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    try:"
            },
            "4": {
                "beforePatchRowNumber": 95,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        import ctypes"
            },
            "5": {
                "beforePatchRowNumber": 96,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-"
            },
            "6": {
                "beforePatchRowNumber": 97,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        SetConsoleTitleW = ctypes.windll.kernel32.SetConsoleTitleW"
            },
            "7": {
                "beforePatchRowNumber": 98,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        SetConsoleTitleW.argtypes = [ctypes.c_wchar_p]"
            },
            "8": {
                "beforePatchRowNumber": 99,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    "
            },
            "9": {
                "beforePatchRowNumber": 100,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        def _set_term_title(title):"
            },
            "10": {
                "beforePatchRowNumber": 101,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            \"\"\"Set terminal title using ctypes to access the Win32 APIs.\"\"\""
            },
            "11": {
                "beforePatchRowNumber": 102,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            SetConsoleTitleW(title)"
            },
            "12": {
                "beforePatchRowNumber": 103,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    except ImportError:"
            },
            "13": {
                "beforePatchRowNumber": 104,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        def _set_term_title(title):"
            },
            "14": {
                "beforePatchRowNumber": 105,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            \"\"\"Set terminal title using the 'title' command.\"\"\""
            },
            "15": {
                "beforePatchRowNumber": 106,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            global ignore_termtitle"
            },
            "16": {
                "beforePatchRowNumber": 107,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-"
            },
            "17": {
                "beforePatchRowNumber": 108,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            try:"
            },
            "18": {
                "beforePatchRowNumber": 109,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-                # Cannot be on network share when issuing system commands"
            },
            "19": {
                "beforePatchRowNumber": 110,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-                curr = os.getcwd()"
            },
            "20": {
                "beforePatchRowNumber": 111,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-                os.chdir(\"C:\")"
            },
            "21": {
                "beforePatchRowNumber": 112,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-                ret = os.system(\"title \" + title)"
            },
            "22": {
                "beforePatchRowNumber": 113,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            finally:"
            },
            "23": {
                "beforePatchRowNumber": 114,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-                os.chdir(curr)"
            },
            "24": {
                "beforePatchRowNumber": 115,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            if ret:"
            },
            "25": {
                "beforePatchRowNumber": 116,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-                # non-zero return code signals error, don't try again"
            },
            "26": {
                "beforePatchRowNumber": 117,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-                ignore_termtitle = True"
            },
            "27": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 94,
                "PatchRowcode": "+    import ctypes"
            },
            "28": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 95,
                "PatchRowcode": "+"
            },
            "29": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 96,
                "PatchRowcode": "+    SetConsoleTitleW = ctypes.windll.kernel32.SetConsoleTitleW"
            },
            "30": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 97,
                "PatchRowcode": "+    SetConsoleTitleW.argtypes = [ctypes.c_wchar_p]"
            },
            "31": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 98,
                "PatchRowcode": "+"
            },
            "32": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 99,
                "PatchRowcode": "+    def _set_term_title(title):"
            },
            "33": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 100,
                "PatchRowcode": "+        \"\"\"Set terminal title using ctypes to access the Win32 APIs.\"\"\""
            },
            "34": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 101,
                "PatchRowcode": "+        SetConsoleTitleW(title)"
            },
            "35": {
                "beforePatchRowNumber": 118,
                "afterPatchRowNumber": 102,
                "PatchRowcode": " "
            },
            "36": {
                "beforePatchRowNumber": 119,
                "afterPatchRowNumber": 103,
                "PatchRowcode": " "
            },
            "37": {
                "beforePatchRowNumber": 120,
                "afterPatchRowNumber": 104,
                "PatchRowcode": " def set_term_title(title):"
            }
        },
        "frontPatchFile": [
            "# encoding: utf-8",
            "\"\"\"",
            "Utilities for working with terminals.",
            "",
            "Authors:",
            "",
            "* Brian E. Granger",
            "* Fernando Perez",
            "* Alexander Belchenko (e-mail: bialix AT ukr.net)",
            "\"\"\"",
            "",
            "# Copyright (c) IPython Development Team.",
            "# Distributed under the terms of the Modified BSD License.",
            "",
            "import os",
            "import sys",
            "import warnings",
            "from shutil import get_terminal_size as _get_terminal_size",
            "",
            "# This variable is part of the expected API of the module:",
            "ignore_termtitle = True",
            "",
            "",
            "",
            "if os.name == 'posix':",
            "    def _term_clear():",
            "        os.system('clear')",
            "elif sys.platform == 'win32':",
            "    def _term_clear():",
            "        os.system('cls')",
            "else:",
            "    def _term_clear():",
            "        pass",
            "",
            "",
            "",
            "def toggle_set_term_title(val):",
            "    \"\"\"Control whether set_term_title is active or not.",
            "",
            "    set_term_title() allows writing to the console titlebar.  In embedded",
            "    widgets this can cause problems, so this call can be used to toggle it on",
            "    or off as needed.",
            "",
            "    The default state of the module is for the function to be disabled.",
            "",
            "    Parameters",
            "    ----------",
            "    val : bool",
            "        If True, set_term_title() actually writes to the terminal (using the",
            "        appropriate platform-specific module).  If False, it is a no-op.",
            "    \"\"\"",
            "    global ignore_termtitle",
            "    ignore_termtitle = not(val)",
            "",
            "",
            "def _set_term_title(*args,**kw):",
            "    \"\"\"Dummy no-op.\"\"\"",
            "    pass",
            "",
            "",
            "def _restore_term_title():",
            "    pass",
            "",
            "",
            "_xterm_term_title_saved = False",
            "",
            "",
            "def _set_term_title_xterm(title):",
            "    \"\"\" Change virtual terminal title in xterm-workalikes \"\"\"",
            "    global _xterm_term_title_saved",
            "    # Only save the title the first time we set, otherwise restore will only",
            "    # go back one title (probably undoing a %cd title change).",
            "    if not _xterm_term_title_saved:",
            "        # save the current title to the xterm \"stack\"",
            "        sys.stdout.write(\"\\033[22;0t\")",
            "        _xterm_term_title_saved = True",
            "    sys.stdout.write('\\033]0;%s\\007' % title)",
            "",
            "",
            "def _restore_term_title_xterm():",
            "    # Make sure the restore has at least one accompanying set.",
            "    global _xterm_term_title_saved",
            "    assert _xterm_term_title_saved",
            "    sys.stdout.write('\\033[23;0t') ",
            "    _xterm_term_title_saved = False",
            "",
            "",
            "if os.name == 'posix':",
            "    TERM = os.environ.get('TERM','')",
            "    if TERM.startswith('xterm'):",
            "        _set_term_title = _set_term_title_xterm",
            "        _restore_term_title = _restore_term_title_xterm",
            "elif sys.platform == 'win32':",
            "    try:",
            "        import ctypes",
            "",
            "        SetConsoleTitleW = ctypes.windll.kernel32.SetConsoleTitleW",
            "        SetConsoleTitleW.argtypes = [ctypes.c_wchar_p]",
            "    ",
            "        def _set_term_title(title):",
            "            \"\"\"Set terminal title using ctypes to access the Win32 APIs.\"\"\"",
            "            SetConsoleTitleW(title)",
            "    except ImportError:",
            "        def _set_term_title(title):",
            "            \"\"\"Set terminal title using the 'title' command.\"\"\"",
            "            global ignore_termtitle",
            "",
            "            try:",
            "                # Cannot be on network share when issuing system commands",
            "                curr = os.getcwd()",
            "                os.chdir(\"C:\")",
            "                ret = os.system(\"title \" + title)",
            "            finally:",
            "                os.chdir(curr)",
            "            if ret:",
            "                # non-zero return code signals error, don't try again",
            "                ignore_termtitle = True",
            "",
            "",
            "def set_term_title(title):",
            "    \"\"\"Set terminal title using the necessary platform-dependent calls.\"\"\"",
            "    if ignore_termtitle:",
            "        return",
            "    _set_term_title(title)",
            "",
            "",
            "def restore_term_title():",
            "    \"\"\"Restore, if possible, terminal title to the original state\"\"\"",
            "    if ignore_termtitle:",
            "        return",
            "    _restore_term_title()",
            "",
            "",
            "def freeze_term_title():",
            "    warnings.warn(\"This function is deprecated, use toggle_set_term_title()\")",
            "    global ignore_termtitle",
            "    ignore_termtitle = True",
            "",
            "",
            "def get_terminal_size(defaultx=80, defaulty=25):",
            "    return _get_terminal_size((defaultx, defaulty))"
        ],
        "afterPatchFile": [
            "# encoding: utf-8",
            "\"\"\"",
            "Utilities for working with terminals.",
            "",
            "Authors:",
            "",
            "* Brian E. Granger",
            "* Fernando Perez",
            "* Alexander Belchenko (e-mail: bialix AT ukr.net)",
            "\"\"\"",
            "",
            "# Copyright (c) IPython Development Team.",
            "# Distributed under the terms of the Modified BSD License.",
            "",
            "import os",
            "import sys",
            "import warnings",
            "from shutil import get_terminal_size as _get_terminal_size",
            "",
            "# This variable is part of the expected API of the module:",
            "ignore_termtitle = True",
            "",
            "",
            "",
            "if os.name == 'posix':",
            "    def _term_clear():",
            "        os.system('clear')",
            "elif sys.platform == 'win32':",
            "    def _term_clear():",
            "        os.system('cls')",
            "else:",
            "    def _term_clear():",
            "        pass",
            "",
            "",
            "",
            "def toggle_set_term_title(val):",
            "    \"\"\"Control whether set_term_title is active or not.",
            "",
            "    set_term_title() allows writing to the console titlebar.  In embedded",
            "    widgets this can cause problems, so this call can be used to toggle it on",
            "    or off as needed.",
            "",
            "    The default state of the module is for the function to be disabled.",
            "",
            "    Parameters",
            "    ----------",
            "    val : bool",
            "        If True, set_term_title() actually writes to the terminal (using the",
            "        appropriate platform-specific module).  If False, it is a no-op.",
            "    \"\"\"",
            "    global ignore_termtitle",
            "    ignore_termtitle = not(val)",
            "",
            "",
            "def _set_term_title(*args,**kw):",
            "    \"\"\"Dummy no-op.\"\"\"",
            "    pass",
            "",
            "",
            "def _restore_term_title():",
            "    pass",
            "",
            "",
            "_xterm_term_title_saved = False",
            "",
            "",
            "def _set_term_title_xterm(title):",
            "    \"\"\" Change virtual terminal title in xterm-workalikes \"\"\"",
            "    global _xterm_term_title_saved",
            "    # Only save the title the first time we set, otherwise restore will only",
            "    # go back one title (probably undoing a %cd title change).",
            "    if not _xterm_term_title_saved:",
            "        # save the current title to the xterm \"stack\"",
            "        sys.stdout.write(\"\\033[22;0t\")",
            "        _xterm_term_title_saved = True",
            "    sys.stdout.write('\\033]0;%s\\007' % title)",
            "",
            "",
            "def _restore_term_title_xterm():",
            "    # Make sure the restore has at least one accompanying set.",
            "    global _xterm_term_title_saved",
            "    assert _xterm_term_title_saved",
            "    sys.stdout.write('\\033[23;0t') ",
            "    _xterm_term_title_saved = False",
            "",
            "",
            "if os.name == 'posix':",
            "    TERM = os.environ.get('TERM','')",
            "    if TERM.startswith('xterm'):",
            "        _set_term_title = _set_term_title_xterm",
            "        _restore_term_title = _restore_term_title_xterm",
            "elif sys.platform == 'win32':",
            "    import ctypes",
            "",
            "    SetConsoleTitleW = ctypes.windll.kernel32.SetConsoleTitleW",
            "    SetConsoleTitleW.argtypes = [ctypes.c_wchar_p]",
            "",
            "    def _set_term_title(title):",
            "        \"\"\"Set terminal title using ctypes to access the Win32 APIs.\"\"\"",
            "        SetConsoleTitleW(title)",
            "",
            "",
            "def set_term_title(title):",
            "    \"\"\"Set terminal title using the necessary platform-dependent calls.\"\"\"",
            "    if ignore_termtitle:",
            "        return",
            "    _set_term_title(title)",
            "",
            "",
            "def restore_term_title():",
            "    \"\"\"Restore, if possible, terminal title to the original state\"\"\"",
            "    if ignore_termtitle:",
            "        return",
            "    _restore_term_title()",
            "",
            "",
            "def freeze_term_title():",
            "    warnings.warn(\"This function is deprecated, use toggle_set_term_title()\")",
            "    global ignore_termtitle",
            "    ignore_termtitle = True",
            "",
            "",
            "def get_terminal_size(defaultx=80, defaulty=25):",
            "    return _get_terminal_size((defaultx, defaulty))"
        ],
        "action": [
            "0",
            "0",
            "0",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "94": [],
            "95": [],
            "96": [],
            "97": [
                "SetConsoleTitleW"
            ],
            "98": [],
            "99": [],
            "100": [],
            "101": [],
            "102": [],
            "103": [],
            "104": [],
            "105": [],
            "106": [],
            "107": [],
            "108": [],
            "109": [],
            "110": [
                "curr"
            ],
            "111": [],
            "112": [
                "ret"
            ],
            "113": [],
            "114": [],
            "115": [],
            "116": [],
            "117": [
                "ignore_termtitle"
            ]
        },
        "addLocation": []
    }
}