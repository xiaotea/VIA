{
    "django/views/static.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 12,
                "afterPatchRowNumber": 12,
                "PatchRowcode": " "
            },
            "1": {
                "beforePatchRowNumber": 13,
                "afterPatchRowNumber": 13,
                "PatchRowcode": " from django.http import ("
            },
            "2": {
                "beforePatchRowNumber": 14,
                "afterPatchRowNumber": 14,
                "PatchRowcode": "     FileResponse, Http404, HttpResponse, HttpResponseNotModified,"
            },
            "3": {
                "beforePatchRowNumber": 15,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    HttpResponseRedirect,"
            },
            "4": {
                "beforePatchRowNumber": 16,
                "afterPatchRowNumber": 15,
                "PatchRowcode": " )"
            },
            "5": {
                "beforePatchRowNumber": 17,
                "afterPatchRowNumber": 16,
                "PatchRowcode": " from django.template import Context, Engine, TemplateDoesNotExist, loader"
            },
            "6": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 17,
                "PatchRowcode": "+from django.utils._os import safe_join"
            },
            "7": {
                "beforePatchRowNumber": 18,
                "afterPatchRowNumber": 18,
                "PatchRowcode": " from django.utils.http import http_date, parse_http_date"
            },
            "8": {
                "beforePatchRowNumber": 19,
                "afterPatchRowNumber": 19,
                "PatchRowcode": " from django.utils.six.moves.urllib.parse import unquote"
            },
            "9": {
                "beforePatchRowNumber": 20,
                "afterPatchRowNumber": 20,
                "PatchRowcode": " from django.utils.translation import ugettext as _, ugettext_lazy"
            },
            "10": {
                "beforePatchRowNumber": 36,
                "afterPatchRowNumber": 36,
                "PatchRowcode": "     but if you'd like to override it, you can create a template called"
            },
            "11": {
                "beforePatchRowNumber": 37,
                "afterPatchRowNumber": 37,
                "PatchRowcode": "     ``static/directory_index.html``."
            },
            "12": {
                "beforePatchRowNumber": 38,
                "afterPatchRowNumber": 38,
                "PatchRowcode": "     \"\"\""
            },
            "13": {
                "beforePatchRowNumber": 39,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    path = posixpath.normpath(unquote(path))"
            },
            "14": {
                "beforePatchRowNumber": 40,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    path = path.lstrip('/')"
            },
            "15": {
                "beforePatchRowNumber": 41,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    newpath = ''"
            },
            "16": {
                "beforePatchRowNumber": 42,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    for part in path.split('/'):"
            },
            "17": {
                "beforePatchRowNumber": 43,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        if not part:"
            },
            "18": {
                "beforePatchRowNumber": 44,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            # Strip empty path components."
            },
            "19": {
                "beforePatchRowNumber": 45,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            continue"
            },
            "20": {
                "beforePatchRowNumber": 46,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        drive, part = os.path.splitdrive(part)"
            },
            "21": {
                "beforePatchRowNumber": 47,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        head, part = os.path.split(part)"
            },
            "22": {
                "beforePatchRowNumber": 48,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        if part in (os.curdir, os.pardir):"
            },
            "23": {
                "beforePatchRowNumber": 49,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            # Strip '.' and '..' in path."
            },
            "24": {
                "beforePatchRowNumber": 50,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            continue"
            },
            "25": {
                "beforePatchRowNumber": 51,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        newpath = os.path.join(newpath, part).replace('\\\\', '/')"
            },
            "26": {
                "beforePatchRowNumber": 52,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    if newpath and path != newpath:"
            },
            "27": {
                "beforePatchRowNumber": 53,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        return HttpResponseRedirect(newpath)"
            },
            "28": {
                "beforePatchRowNumber": 54,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    fullpath = os.path.join(document_root, newpath)"
            },
            "29": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 39,
                "PatchRowcode": "+    path = posixpath.normpath(unquote(path)).lstrip('/')"
            },
            "30": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 40,
                "PatchRowcode": "+    fullpath = safe_join(document_root, path)"
            },
            "31": {
                "beforePatchRowNumber": 55,
                "afterPatchRowNumber": 41,
                "PatchRowcode": "     if os.path.isdir(fullpath):"
            },
            "32": {
                "beforePatchRowNumber": 56,
                "afterPatchRowNumber": 42,
                "PatchRowcode": "         if show_indexes:"
            },
            "33": {
                "beforePatchRowNumber": 57,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            return directory_index(newpath, fullpath)"
            },
            "34": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 43,
                "PatchRowcode": "+            return directory_index(path, fullpath)"
            },
            "35": {
                "beforePatchRowNumber": 58,
                "afterPatchRowNumber": 44,
                "PatchRowcode": "         raise Http404(_(\"Directory indexes are not allowed here.\"))"
            },
            "36": {
                "beforePatchRowNumber": 59,
                "afterPatchRowNumber": 45,
                "PatchRowcode": "     if not os.path.exists(fullpath):"
            },
            "37": {
                "beforePatchRowNumber": 60,
                "afterPatchRowNumber": 46,
                "PatchRowcode": "         raise Http404(_('\"%(path)s\" does not exist') % {'path': fullpath})"
            }
        },
        "frontPatchFile": [
            "\"\"\"",
            "Views and functions for serving static files. These are only to be used",
            "during development, and SHOULD NOT be used in a production setting.",
            "\"\"\"",
            "from __future__ import unicode_literals",
            "",
            "import mimetypes",
            "import os",
            "import posixpath",
            "import re",
            "import stat",
            "",
            "from django.http import (",
            "    FileResponse, Http404, HttpResponse, HttpResponseNotModified,",
            "    HttpResponseRedirect,",
            ")",
            "from django.template import Context, Engine, TemplateDoesNotExist, loader",
            "from django.utils.http import http_date, parse_http_date",
            "from django.utils.six.moves.urllib.parse import unquote",
            "from django.utils.translation import ugettext as _, ugettext_lazy",
            "",
            "",
            "def serve(request, path, document_root=None, show_indexes=False):",
            "    \"\"\"",
            "    Serve static files below a given point in the directory structure.",
            "",
            "    To use, put a URL pattern such as::",
            "",
            "        from django.views.static import serve",
            "",
            "        url(r'^(?P<path>.*)$', serve, {'document_root': '/path/to/my/files/'})",
            "",
            "    in your URLconf. You must provide the ``document_root`` param. You may",
            "    also set ``show_indexes`` to ``True`` if you'd like to serve a basic index",
            "    of the directory.  This index view will use the template hardcoded below,",
            "    but if you'd like to override it, you can create a template called",
            "    ``static/directory_index.html``.",
            "    \"\"\"",
            "    path = posixpath.normpath(unquote(path))",
            "    path = path.lstrip('/')",
            "    newpath = ''",
            "    for part in path.split('/'):",
            "        if not part:",
            "            # Strip empty path components.",
            "            continue",
            "        drive, part = os.path.splitdrive(part)",
            "        head, part = os.path.split(part)",
            "        if part in (os.curdir, os.pardir):",
            "            # Strip '.' and '..' in path.",
            "            continue",
            "        newpath = os.path.join(newpath, part).replace('\\\\', '/')",
            "    if newpath and path != newpath:",
            "        return HttpResponseRedirect(newpath)",
            "    fullpath = os.path.join(document_root, newpath)",
            "    if os.path.isdir(fullpath):",
            "        if show_indexes:",
            "            return directory_index(newpath, fullpath)",
            "        raise Http404(_(\"Directory indexes are not allowed here.\"))",
            "    if not os.path.exists(fullpath):",
            "        raise Http404(_('\"%(path)s\" does not exist') % {'path': fullpath})",
            "    # Respect the If-Modified-Since header.",
            "    statobj = os.stat(fullpath)",
            "    if not was_modified_since(request.META.get('HTTP_IF_MODIFIED_SINCE'),",
            "                              statobj.st_mtime, statobj.st_size):",
            "        return HttpResponseNotModified()",
            "    content_type, encoding = mimetypes.guess_type(fullpath)",
            "    content_type = content_type or 'application/octet-stream'",
            "    response = FileResponse(open(fullpath, 'rb'), content_type=content_type)",
            "    response[\"Last-Modified\"] = http_date(statobj.st_mtime)",
            "    if stat.S_ISREG(statobj.st_mode):",
            "        response[\"Content-Length\"] = statobj.st_size",
            "    if encoding:",
            "        response[\"Content-Encoding\"] = encoding",
            "    return response",
            "",
            "",
            "DEFAULT_DIRECTORY_INDEX_TEMPLATE = \"\"\"",
            "{% load i18n %}",
            "<!DOCTYPE html>",
            "<html lang=\"en\">",
            "  <head>",
            "    <meta http-equiv=\"Content-type\" content=\"text/html; charset=utf-8\" />",
            "    <meta http-equiv=\"Content-Language\" content=\"en-us\" />",
            "    <meta name=\"robots\" content=\"NONE,NOARCHIVE\" />",
            "    <title>{% blocktrans %}Index of {{ directory }}{% endblocktrans %}</title>",
            "  </head>",
            "  <body>",
            "    <h1>{% blocktrans %}Index of {{ directory }}{% endblocktrans %}</h1>",
            "    <ul>",
            "      {% if directory != \"/\" %}",
            "      <li><a href=\"../\">../</a></li>",
            "      {% endif %}",
            "      {% for f in file_list %}",
            "      <li><a href=\"{{ f|urlencode }}\">{{ f }}</a></li>",
            "      {% endfor %}",
            "    </ul>",
            "  </body>",
            "</html>",
            "\"\"\"",
            "template_translatable = ugettext_lazy(\"Index of %(directory)s\")",
            "",
            "",
            "def directory_index(path, fullpath):",
            "    try:",
            "        t = loader.select_template([",
            "            'static/directory_index.html',",
            "            'static/directory_index',",
            "        ])",
            "    except TemplateDoesNotExist:",
            "        t = Engine(libraries={'i18n': 'django.templatetags.i18n'}).from_string(DEFAULT_DIRECTORY_INDEX_TEMPLATE)",
            "    files = []",
            "    for f in os.listdir(fullpath):",
            "        if not f.startswith('.'):",
            "            if os.path.isdir(os.path.join(fullpath, f)):",
            "                f += '/'",
            "            files.append(f)",
            "    c = Context({",
            "        'directory': path + '/',",
            "        'file_list': files,",
            "    })",
            "    return HttpResponse(t.render(c))",
            "",
            "",
            "def was_modified_since(header=None, mtime=0, size=0):",
            "    \"\"\"",
            "    Was something modified since the user last downloaded it?",
            "",
            "    header",
            "      This is the value of the If-Modified-Since header.  If this is None,",
            "      I'll just return True.",
            "",
            "    mtime",
            "      This is the modification time of the item we're talking about.",
            "",
            "    size",
            "      This is the size of the item we're talking about.",
            "    \"\"\"",
            "    try:",
            "        if header is None:",
            "            raise ValueError",
            "        matches = re.match(r\"^([^;]+)(; length=([0-9]+))?$\", header,",
            "                           re.IGNORECASE)",
            "        header_mtime = parse_http_date(matches.group(1))",
            "        header_len = matches.group(3)",
            "        if header_len and int(header_len) != size:",
            "            raise ValueError",
            "        if int(mtime) > header_mtime:",
            "            raise ValueError",
            "    except (AttributeError, ValueError, OverflowError):",
            "        return True",
            "    return False"
        ],
        "afterPatchFile": [
            "\"\"\"",
            "Views and functions for serving static files. These are only to be used",
            "during development, and SHOULD NOT be used in a production setting.",
            "\"\"\"",
            "from __future__ import unicode_literals",
            "",
            "import mimetypes",
            "import os",
            "import posixpath",
            "import re",
            "import stat",
            "",
            "from django.http import (",
            "    FileResponse, Http404, HttpResponse, HttpResponseNotModified,",
            ")",
            "from django.template import Context, Engine, TemplateDoesNotExist, loader",
            "from django.utils._os import safe_join",
            "from django.utils.http import http_date, parse_http_date",
            "from django.utils.six.moves.urllib.parse import unquote",
            "from django.utils.translation import ugettext as _, ugettext_lazy",
            "",
            "",
            "def serve(request, path, document_root=None, show_indexes=False):",
            "    \"\"\"",
            "    Serve static files below a given point in the directory structure.",
            "",
            "    To use, put a URL pattern such as::",
            "",
            "        from django.views.static import serve",
            "",
            "        url(r'^(?P<path>.*)$', serve, {'document_root': '/path/to/my/files/'})",
            "",
            "    in your URLconf. You must provide the ``document_root`` param. You may",
            "    also set ``show_indexes`` to ``True`` if you'd like to serve a basic index",
            "    of the directory.  This index view will use the template hardcoded below,",
            "    but if you'd like to override it, you can create a template called",
            "    ``static/directory_index.html``.",
            "    \"\"\"",
            "    path = posixpath.normpath(unquote(path)).lstrip('/')",
            "    fullpath = safe_join(document_root, path)",
            "    if os.path.isdir(fullpath):",
            "        if show_indexes:",
            "            return directory_index(path, fullpath)",
            "        raise Http404(_(\"Directory indexes are not allowed here.\"))",
            "    if not os.path.exists(fullpath):",
            "        raise Http404(_('\"%(path)s\" does not exist') % {'path': fullpath})",
            "    # Respect the If-Modified-Since header.",
            "    statobj = os.stat(fullpath)",
            "    if not was_modified_since(request.META.get('HTTP_IF_MODIFIED_SINCE'),",
            "                              statobj.st_mtime, statobj.st_size):",
            "        return HttpResponseNotModified()",
            "    content_type, encoding = mimetypes.guess_type(fullpath)",
            "    content_type = content_type or 'application/octet-stream'",
            "    response = FileResponse(open(fullpath, 'rb'), content_type=content_type)",
            "    response[\"Last-Modified\"] = http_date(statobj.st_mtime)",
            "    if stat.S_ISREG(statobj.st_mode):",
            "        response[\"Content-Length\"] = statobj.st_size",
            "    if encoding:",
            "        response[\"Content-Encoding\"] = encoding",
            "    return response",
            "",
            "",
            "DEFAULT_DIRECTORY_INDEX_TEMPLATE = \"\"\"",
            "{% load i18n %}",
            "<!DOCTYPE html>",
            "<html lang=\"en\">",
            "  <head>",
            "    <meta http-equiv=\"Content-type\" content=\"text/html; charset=utf-8\" />",
            "    <meta http-equiv=\"Content-Language\" content=\"en-us\" />",
            "    <meta name=\"robots\" content=\"NONE,NOARCHIVE\" />",
            "    <title>{% blocktrans %}Index of {{ directory }}{% endblocktrans %}</title>",
            "  </head>",
            "  <body>",
            "    <h1>{% blocktrans %}Index of {{ directory }}{% endblocktrans %}</h1>",
            "    <ul>",
            "      {% if directory != \"/\" %}",
            "      <li><a href=\"../\">../</a></li>",
            "      {% endif %}",
            "      {% for f in file_list %}",
            "      <li><a href=\"{{ f|urlencode }}\">{{ f }}</a></li>",
            "      {% endfor %}",
            "    </ul>",
            "  </body>",
            "</html>",
            "\"\"\"",
            "template_translatable = ugettext_lazy(\"Index of %(directory)s\")",
            "",
            "",
            "def directory_index(path, fullpath):",
            "    try:",
            "        t = loader.select_template([",
            "            'static/directory_index.html',",
            "            'static/directory_index',",
            "        ])",
            "    except TemplateDoesNotExist:",
            "        t = Engine(libraries={'i18n': 'django.templatetags.i18n'}).from_string(DEFAULT_DIRECTORY_INDEX_TEMPLATE)",
            "    files = []",
            "    for f in os.listdir(fullpath):",
            "        if not f.startswith('.'):",
            "            if os.path.isdir(os.path.join(fullpath, f)):",
            "                f += '/'",
            "            files.append(f)",
            "    c = Context({",
            "        'directory': path + '/',",
            "        'file_list': files,",
            "    })",
            "    return HttpResponse(t.render(c))",
            "",
            "",
            "def was_modified_since(header=None, mtime=0, size=0):",
            "    \"\"\"",
            "    Was something modified since the user last downloaded it?",
            "",
            "    header",
            "      This is the value of the If-Modified-Since header.  If this is None,",
            "      I'll just return True.",
            "",
            "    mtime",
            "      This is the modification time of the item we're talking about.",
            "",
            "    size",
            "      This is the size of the item we're talking about.",
            "    \"\"\"",
            "    try:",
            "        if header is None:",
            "            raise ValueError",
            "        matches = re.match(r\"^([^;]+)(; length=([0-9]+))?$\", header,",
            "                           re.IGNORECASE)",
            "        header_mtime = parse_http_date(matches.group(1))",
            "        header_len = matches.group(3)",
            "        if header_len and int(header_len) != size:",
            "            raise ValueError",
            "        if int(mtime) > header_mtime:",
            "            raise ValueError",
            "    except (AttributeError, ValueError, OverflowError):",
            "        return True",
            "    return False"
        ],
        "action": [
            "0",
            "0",
            "0",
            "1",
            "0",
            "0",
            "2",
            "0",
            "0",
            "0",
            "0",
            "0",
            "0",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "15": [],
            "39": [
                "serve"
            ],
            "40": [
                "serve"
            ],
            "41": [
                "serve"
            ],
            "42": [
                "serve"
            ],
            "43": [
                "serve"
            ],
            "44": [
                "serve"
            ],
            "45": [
                "serve"
            ],
            "46": [
                "serve"
            ],
            "47": [
                "serve"
            ],
            "48": [
                "serve"
            ],
            "49": [
                "serve"
            ],
            "50": [
                "serve"
            ],
            "51": [
                "serve"
            ],
            "52": [
                "serve"
            ],
            "53": [
                "serve"
            ],
            "54": [
                "serve"
            ],
            "57": [
                "serve"
            ]
        },
        "addLocation": []
    }
}