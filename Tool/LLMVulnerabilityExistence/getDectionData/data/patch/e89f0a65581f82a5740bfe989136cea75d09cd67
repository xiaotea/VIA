{
    "django/contrib/auth/middleware.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 1,
                "afterPatchRowNumber": 1,
                "PatchRowcode": " class LazyUser(object):"
            },
            "1": {
                "beforePatchRowNumber": 2,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    def __init__(self):"
            },
            "2": {
                "beforePatchRowNumber": 3,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        self._user = None"
            },
            "3": {
                "beforePatchRowNumber": 4,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-"
            },
            "4": {
                "beforePatchRowNumber": 5,
                "afterPatchRowNumber": 2,
                "PatchRowcode": "     def __get__(self, request, obj_type=None):"
            },
            "5": {
                "beforePatchRowNumber": 6,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        if self._user is None:"
            },
            "6": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 3,
                "PatchRowcode": "+        if not hasattr(request, '_cached_user'):"
            },
            "7": {
                "beforePatchRowNumber": 7,
                "afterPatchRowNumber": 4,
                "PatchRowcode": "             from django.contrib.auth import get_user"
            },
            "8": {
                "beforePatchRowNumber": 8,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            self._user = get_user(request)"
            },
            "9": {
                "beforePatchRowNumber": 9,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        return self._user"
            },
            "10": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 5,
                "PatchRowcode": "+            request._cached_user = get_user(request)"
            },
            "11": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 6,
                "PatchRowcode": "+        return request._cached_user"
            },
            "12": {
                "beforePatchRowNumber": 10,
                "afterPatchRowNumber": 7,
                "PatchRowcode": " "
            },
            "13": {
                "beforePatchRowNumber": 11,
                "afterPatchRowNumber": 8,
                "PatchRowcode": " class AuthenticationMiddleware(object):"
            },
            "14": {
                "beforePatchRowNumber": 12,
                "afterPatchRowNumber": 9,
                "PatchRowcode": "     def process_request(self, request):"
            }
        },
        "frontPatchFile": [
            "class LazyUser(object):",
            "    def __init__(self):",
            "        self._user = None",
            "",
            "    def __get__(self, request, obj_type=None):",
            "        if self._user is None:",
            "            from django.contrib.auth import get_user",
            "            self._user = get_user(request)",
            "        return self._user",
            "",
            "class AuthenticationMiddleware(object):",
            "    def process_request(self, request):",
            "        assert hasattr(request, 'session'), \"The Django authentication middleware requires session middleware to be installed. Edit your MIDDLEWARE_CLASSES setting to insert 'django.contrib.sessions.middleware.SessionMiddleware'.\"",
            "        request.__class__.user = LazyUser()",
            "        return None"
        ],
        "afterPatchFile": [
            "class LazyUser(object):",
            "    def __get__(self, request, obj_type=None):",
            "        if not hasattr(request, '_cached_user'):",
            "            from django.contrib.auth import get_user",
            "            request._cached_user = get_user(request)",
            "        return request._cached_user",
            "",
            "class AuthenticationMiddleware(object):",
            "    def process_request(self, request):",
            "        assert hasattr(request, 'session'), \"The Django authentication middleware requires session middleware to be installed. Edit your MIDDLEWARE_CLASSES setting to insert 'django.contrib.sessions.middleware.SessionMiddleware'.\"",
            "        request.__class__.user = LazyUser()",
            "        return None"
        ],
        "action": [
            "0",
            "1",
            "1",
            "1",
            "0",
            "2",
            "2",
            "0",
            "2",
            "2",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "2": [
                "LazyUser",
                "__init__"
            ],
            "3": [
                "LazyUser",
                "__init__"
            ],
            "4": [
                "LazyUser"
            ],
            "6": [
                "LazyUser",
                "__get__"
            ],
            "8": [
                "LazyUser",
                "__get__"
            ],
            "9": [
                "LazyUser",
                "__get__"
            ]
        },
        "addLocation": []
    }
}