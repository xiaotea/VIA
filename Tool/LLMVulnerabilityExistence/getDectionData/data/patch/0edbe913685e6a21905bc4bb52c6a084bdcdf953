{
    "airflow/providers/jdbc/hooks/jdbc.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 31,
                "afterPatchRowNumber": 31,
                "PatchRowcode": "     JDBC URL, username and password will be taken from the predefined connection."
            },
            "1": {
                "beforePatchRowNumber": 32,
                "afterPatchRowNumber": 32,
                "PatchRowcode": "     Note that the whole JDBC URL must be specified in the \"host\" field in the DB."
            },
            "2": {
                "beforePatchRowNumber": 33,
                "afterPatchRowNumber": 33,
                "PatchRowcode": "     Raises an airflow error if the given connection id doesn't exist."
            },
            "3": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 34,
                "PatchRowcode": "+"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 35,
                "PatchRowcode": "+    To configure driver parameters, you can use the following methods:"
            },
            "5": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 36,
                "PatchRowcode": "+        1. Supply them as constructor arguments when instantiating the hook."
            },
            "6": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 37,
                "PatchRowcode": "+        2. Set the \"driver_path\" and/or \"driver_class\" parameters in the \"hook_params\" dictionary when"
            },
            "7": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 38,
                "PatchRowcode": "+           creating the hook using SQL operators."
            },
            "8": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 39,
                "PatchRowcode": "+        3. Set the \"driver_path\" and/or \"driver_class\" extra in the connection and correspondingly enable"
            },
            "9": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 40,
                "PatchRowcode": "+           the \"allow_driver_path_in_extra\" and/or \"allow_driver_class_in_extra\" options in the"
            },
            "10": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 41,
                "PatchRowcode": "+           \"providers.jdbc\" section of the Airflow configuration. If you're enabling these options in Airflow"
            },
            "11": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 42,
                "PatchRowcode": "+           configuration, you should make sure that you trust the users who can edit connections in the UI"
            },
            "12": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 43,
                "PatchRowcode": "+           to not use it maliciously."
            },
            "13": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 44,
                "PatchRowcode": "+        4. Patch the ``JdbcHook.default_driver_path`` and/or ``JdbcHook.default_driver_class`` values in the"
            },
            "14": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 45,
                "PatchRowcode": "+           \"local_settings.py\" file."
            },
            "15": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 46,
                "PatchRowcode": "+"
            },
            "16": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 47,
                "PatchRowcode": "+    See :doc:`/connections/jdbc` for full documentation."
            },
            "17": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 48,
                "PatchRowcode": "+"
            },
            "18": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 49,
                "PatchRowcode": "+    :param args: passed to DbApiHook"
            },
            "19": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 50,
                "PatchRowcode": "+    :param driver_path: path to the JDBC driver jar file. See above for more info"
            },
            "20": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 51,
                "PatchRowcode": "+    :param driver_class: name of the JDBC driver class. See above for more info"
            },
            "21": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 52,
                "PatchRowcode": "+    :param kwargs: passed to DbApiHook"
            },
            "22": {
                "beforePatchRowNumber": 34,
                "afterPatchRowNumber": 53,
                "PatchRowcode": "     \"\"\""
            },
            "23": {
                "beforePatchRowNumber": 35,
                "afterPatchRowNumber": 54,
                "PatchRowcode": " "
            },
            "24": {
                "beforePatchRowNumber": 36,
                "afterPatchRowNumber": 55,
                "PatchRowcode": "     conn_name_attr = \"jdbc_conn_id\""
            },
            "25": {
                "beforePatchRowNumber": 39,
                "afterPatchRowNumber": 58,
                "PatchRowcode": "     hook_name = \"JDBC Connection\""
            },
            "26": {
                "beforePatchRowNumber": 40,
                "afterPatchRowNumber": 59,
                "PatchRowcode": "     supports_autocommit = True"
            },
            "27": {
                "beforePatchRowNumber": 41,
                "afterPatchRowNumber": 60,
                "PatchRowcode": " "
            },
            "28": {
                "beforePatchRowNumber": 42,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    @staticmethod"
            },
            "29": {
                "beforePatchRowNumber": 43,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    def get_connection_form_widgets() -> dict[str, Any]:"
            },
            "30": {
                "beforePatchRowNumber": 44,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        \"\"\"Get connection widgets to add to connection form.\"\"\""
            },
            "31": {
                "beforePatchRowNumber": 45,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        from flask_appbuilder.fieldwidgets import BS3TextFieldWidget"
            },
            "32": {
                "beforePatchRowNumber": 46,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        from flask_babel import lazy_gettext"
            },
            "33": {
                "beforePatchRowNumber": 47,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        from wtforms import StringField"
            },
            "34": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 61,
                "PatchRowcode": "+    default_driver_path: str | None = None"
            },
            "35": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 62,
                "PatchRowcode": "+    default_driver_class: str | None = None"
            },
            "36": {
                "beforePatchRowNumber": 48,
                "afterPatchRowNumber": 63,
                "PatchRowcode": " "
            },
            "37": {
                "beforePatchRowNumber": 49,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        return {"
            },
            "38": {
                "beforePatchRowNumber": 50,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            \"drv_path\": StringField(lazy_gettext(\"Driver Path\"), widget=BS3TextFieldWidget()),"
            },
            "39": {
                "beforePatchRowNumber": 51,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            \"drv_clsname\": StringField(lazy_gettext(\"Driver Class\"), widget=BS3TextFieldWidget()),"
            },
            "40": {
                "beforePatchRowNumber": 52,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        }"
            },
            "41": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 64,
                "PatchRowcode": "+    def __init__("
            },
            "42": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 65,
                "PatchRowcode": "+        self,"
            },
            "43": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 66,
                "PatchRowcode": "+        *args,"
            },
            "44": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 67,
                "PatchRowcode": "+        driver_path: str | None = None,"
            },
            "45": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 68,
                "PatchRowcode": "+        driver_class: str | None = None,"
            },
            "46": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 69,
                "PatchRowcode": "+        **kwargs,"
            },
            "47": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 70,
                "PatchRowcode": "+    ) -> None:"
            },
            "48": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 71,
                "PatchRowcode": "+        super().__init__(*args, **kwargs)"
            },
            "49": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 72,
                "PatchRowcode": "+        self._driver_path = driver_path"
            },
            "50": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 73,
                "PatchRowcode": "+        self._driver_class = driver_class"
            },
            "51": {
                "beforePatchRowNumber": 53,
                "afterPatchRowNumber": 74,
                "PatchRowcode": " "
            },
            "52": {
                "beforePatchRowNumber": 54,
                "afterPatchRowNumber": 75,
                "PatchRowcode": "     @staticmethod"
            },
            "53": {
                "beforePatchRowNumber": 55,
                "afterPatchRowNumber": 76,
                "PatchRowcode": "     def get_ui_field_behaviour() -> dict[str, Any]:"
            },
            "54": {
                "beforePatchRowNumber": 56,
                "afterPatchRowNumber": 77,
                "PatchRowcode": "         \"\"\"Get custom field behaviour.\"\"\""
            },
            "55": {
                "beforePatchRowNumber": 57,
                "afterPatchRowNumber": 78,
                "PatchRowcode": "         return {"
            },
            "56": {
                "beforePatchRowNumber": 58,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            \"hidden_fields\": [\"port\", \"schema\", \"extra\"],"
            },
            "57": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 79,
                "PatchRowcode": "+            \"hidden_fields\": [\"port\", \"schema\"],"
            },
            "58": {
                "beforePatchRowNumber": 59,
                "afterPatchRowNumber": 80,
                "PatchRowcode": "             \"relabeling\": {\"host\": \"Connection URL\"},"
            },
            "59": {
                "beforePatchRowNumber": 60,
                "afterPatchRowNumber": 81,
                "PatchRowcode": "         }"
            },
            "60": {
                "beforePatchRowNumber": 61,
                "afterPatchRowNumber": 82,
                "PatchRowcode": " "
            },
            "61": {
                "beforePatchRowNumber": 62,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    def _get_field(self, extras: dict, field_name: str):"
            },
            "62": {
                "beforePatchRowNumber": 63,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        \"\"\"Get field from extra."
            },
            "63": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 83,
                "PatchRowcode": "+    @property"
            },
            "64": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 84,
                "PatchRowcode": "+    def connection_extra_lower(self) -> dict:"
            },
            "65": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 85,
                "PatchRowcode": "+        \"\"\""
            },
            "66": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 86,
                "PatchRowcode": "+        ``connection.extra_dejson`` but where keys are converted to lower case."
            },
            "67": {
                "beforePatchRowNumber": 64,
                "afterPatchRowNumber": 87,
                "PatchRowcode": " "
            },
            "68": {
                "beforePatchRowNumber": 65,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        This first checks the short name, then check for prefixed name for"
            },
            "69": {
                "beforePatchRowNumber": 66,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        backward compatibility."
            },
            "70": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 88,
                "PatchRowcode": "+        This is used internally for case-insensitive access of jdbc params."
            },
            "71": {
                "beforePatchRowNumber": 67,
                "afterPatchRowNumber": 89,
                "PatchRowcode": "         \"\"\""
            },
            "72": {
                "beforePatchRowNumber": 68,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        backcompat_prefix = \"extra__jdbc__\""
            },
            "73": {
                "beforePatchRowNumber": 69,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        if field_name.startswith(\"extra__\"):"
            },
            "74": {
                "beforePatchRowNumber": 70,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            raise ValueError("
            },
            "75": {
                "beforePatchRowNumber": 71,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-                f\"Got prefixed name {field_name}; please remove the '{backcompat_prefix}' prefix \""
            },
            "76": {
                "beforePatchRowNumber": 72,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-                \"when using this method.\""
            },
            "77": {
                "beforePatchRowNumber": 73,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            )"
            },
            "78": {
                "beforePatchRowNumber": 74,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        if field_name in extras:"
            },
            "79": {
                "beforePatchRowNumber": 75,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            return extras[field_name] or None"
            },
            "80": {
                "beforePatchRowNumber": 76,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        prefixed_name = f\"{backcompat_prefix}{field_name}\""
            },
            "81": {
                "beforePatchRowNumber": 77,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        return extras.get(prefixed_name) or None"
            },
            "82": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 90,
                "PatchRowcode": "+        conn = self.get_connection(getattr(self, self.conn_name_attr))"
            },
            "83": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 91,
                "PatchRowcode": "+        return {k.lower(): v for k, v in conn.extra_dejson.items()}"
            },
            "84": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 92,
                "PatchRowcode": "+"
            },
            "85": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 93,
                "PatchRowcode": "+    @property"
            },
            "86": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 94,
                "PatchRowcode": "+    def driver_path(self) -> str | None:"
            },
            "87": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 95,
                "PatchRowcode": "+        from airflow.configuration import conf"
            },
            "88": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 96,
                "PatchRowcode": "+"
            },
            "89": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 97,
                "PatchRowcode": "+        extra_driver_path = self.connection_extra_lower.get(\"driver_path\")"
            },
            "90": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 98,
                "PatchRowcode": "+        if extra_driver_path:"
            },
            "91": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 99,
                "PatchRowcode": "+            if conf.getboolean(\"providers.jdbc\", \"allow_driver_path_in_extra\", fallback=False):"
            },
            "92": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 100,
                "PatchRowcode": "+                self._driver_path = extra_driver_path"
            },
            "93": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 101,
                "PatchRowcode": "+            else:"
            },
            "94": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 102,
                "PatchRowcode": "+                self.log.warning("
            },
            "95": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 103,
                "PatchRowcode": "+                    \"You have supplied 'driver_path' via connection extra but it will not be used. In order \""
            },
            "96": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 104,
                "PatchRowcode": "+                    \"to use 'driver_path' from extra you must set airflow config setting \""
            },
            "97": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 105,
                "PatchRowcode": "+                    \"`allow_driver_path_in_extra = True` in section `providers.jdbc`. Alternatively you may \""
            },
            "98": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 106,
                "PatchRowcode": "+                    \"specify it via 'driver_path' parameter of the hook constructor or via 'hook_params' \""
            },
            "99": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 107,
                "PatchRowcode": "+                    \"dictionary with key 'driver_path' if using SQL operators.\""
            },
            "100": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 108,
                "PatchRowcode": "+                )"
            },
            "101": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 109,
                "PatchRowcode": "+        if not self._driver_path:"
            },
            "102": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 110,
                "PatchRowcode": "+            self._driver_path = self.default_driver_path"
            },
            "103": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 111,
                "PatchRowcode": "+        return self._driver_path"
            },
            "104": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 112,
                "PatchRowcode": "+"
            },
            "105": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 113,
                "PatchRowcode": "+    @property"
            },
            "106": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 114,
                "PatchRowcode": "+    def driver_class(self) -> str | None:"
            },
            "107": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 115,
                "PatchRowcode": "+        from airflow.configuration import conf"
            },
            "108": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 116,
                "PatchRowcode": "+"
            },
            "109": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 117,
                "PatchRowcode": "+        extra_driver_class = self.connection_extra_lower.get(\"driver_class\")"
            },
            "110": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 118,
                "PatchRowcode": "+        if extra_driver_class:"
            },
            "111": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 119,
                "PatchRowcode": "+            if conf.getboolean(\"providers.jdbc\", \"allow_driver_class_in_extra\", fallback=False):"
            },
            "112": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 120,
                "PatchRowcode": "+                self._driver_class = extra_driver_class"
            },
            "113": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 121,
                "PatchRowcode": "+            else:"
            },
            "114": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 122,
                "PatchRowcode": "+                self.log.warning("
            },
            "115": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 123,
                "PatchRowcode": "+                    \"You have supplied 'driver_class' via connection extra but it will not be used. In order \""
            },
            "116": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 124,
                "PatchRowcode": "+                    \"to use 'driver_class' from extra you must set airflow config setting \""
            },
            "117": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 125,
                "PatchRowcode": "+                    \"`allow_driver_class_in_extra = True` in section `providers.jdbc`. Alternatively you may \""
            },
            "118": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 126,
                "PatchRowcode": "+                    \"specify it via 'driver_class' parameter of the hook constructor or via 'hook_params' \""
            },
            "119": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 127,
                "PatchRowcode": "+                    \"dictionary with key 'driver_class' if using SQL operators.\""
            },
            "120": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 128,
                "PatchRowcode": "+                )"
            },
            "121": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 129,
                "PatchRowcode": "+        if not self._driver_class:"
            },
            "122": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 130,
                "PatchRowcode": "+            self._driver_class = self.default_driver_class"
            },
            "123": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 131,
                "PatchRowcode": "+        return self._driver_class"
            },
            "124": {
                "beforePatchRowNumber": 78,
                "afterPatchRowNumber": 132,
                "PatchRowcode": " "
            },
            "125": {
                "beforePatchRowNumber": 79,
                "afterPatchRowNumber": 133,
                "PatchRowcode": "     def get_conn(self) -> jaydebeapi.Connection:"
            },
            "126": {
                "beforePatchRowNumber": 80,
                "afterPatchRowNumber": 134,
                "PatchRowcode": "         conn: Connection = self.get_connection(getattr(self, self.conn_name_attr))"
            },
            "127": {
                "beforePatchRowNumber": 81,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        extras = conn.extra_dejson"
            },
            "128": {
                "beforePatchRowNumber": 82,
                "afterPatchRowNumber": 135,
                "PatchRowcode": "         host: str = conn.host"
            },
            "129": {
                "beforePatchRowNumber": 83,
                "afterPatchRowNumber": 136,
                "PatchRowcode": "         login: str = conn.login"
            },
            "130": {
                "beforePatchRowNumber": 84,
                "afterPatchRowNumber": 137,
                "PatchRowcode": "         psw: str = conn.password"
            },
            "131": {
                "beforePatchRowNumber": 85,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        jdbc_driver_loc: str | None = self._get_field(extras, \"drv_path\")"
            },
            "132": {
                "beforePatchRowNumber": 86,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        jdbc_driver_name: str | None = self._get_field(extras, \"drv_clsname\")"
            },
            "133": {
                "beforePatchRowNumber": 87,
                "afterPatchRowNumber": 138,
                "PatchRowcode": " "
            },
            "134": {
                "beforePatchRowNumber": 88,
                "afterPatchRowNumber": 139,
                "PatchRowcode": "         conn = jaydebeapi.connect("
            },
            "135": {
                "beforePatchRowNumber": 89,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            jclassname=jdbc_driver_name,"
            },
            "136": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 140,
                "PatchRowcode": "+            jclassname=self.driver_class,"
            },
            "137": {
                "beforePatchRowNumber": 90,
                "afterPatchRowNumber": 141,
                "PatchRowcode": "             url=str(host),"
            },
            "138": {
                "beforePatchRowNumber": 91,
                "afterPatchRowNumber": 142,
                "PatchRowcode": "             driver_args=[str(login), str(psw)],"
            },
            "139": {
                "beforePatchRowNumber": 92,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            jars=jdbc_driver_loc.split(\",\") if jdbc_driver_loc else None,"
            },
            "140": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 143,
                "PatchRowcode": "+            jars=self.driver_path.split(\",\") if self.driver_path else None,"
            },
            "141": {
                "beforePatchRowNumber": 93,
                "afterPatchRowNumber": 144,
                "PatchRowcode": "         )"
            },
            "142": {
                "beforePatchRowNumber": 94,
                "afterPatchRowNumber": 145,
                "PatchRowcode": "         return conn"
            },
            "143": {
                "beforePatchRowNumber": 95,
                "afterPatchRowNumber": 146,
                "PatchRowcode": " "
            }
        },
        "frontPatchFile": [
            "#",
            "# Licensed to the Apache Software Foundation (ASF) under one",
            "# or more contributor license agreements.  See the NOTICE file",
            "# distributed with this work for additional information",
            "# regarding copyright ownership.  The ASF licenses this file",
            "# to you under the Apache License, Version 2.0 (the",
            "# \"License\"); you may not use this file except in compliance",
            "# with the License.  You may obtain a copy of the License at",
            "#",
            "#   http://www.apache.org/licenses/LICENSE-2.0",
            "#",
            "# Unless required by applicable law or agreed to in writing,",
            "# software distributed under the License is distributed on an",
            "# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY",
            "# KIND, either express or implied.  See the License for the",
            "# specific language governing permissions and limitations",
            "# under the License.",
            "from __future__ import annotations",
            "",
            "from typing import Any",
            "",
            "import jaydebeapi",
            "",
            "from airflow.models.connection import Connection",
            "from airflow.providers.common.sql.hooks.sql import DbApiHook",
            "",
            "",
            "class JdbcHook(DbApiHook):",
            "    \"\"\"General hook for JDBC access.",
            "",
            "    JDBC URL, username and password will be taken from the predefined connection.",
            "    Note that the whole JDBC URL must be specified in the \"host\" field in the DB.",
            "    Raises an airflow error if the given connection id doesn't exist.",
            "    \"\"\"",
            "",
            "    conn_name_attr = \"jdbc_conn_id\"",
            "    default_conn_name = \"jdbc_default\"",
            "    conn_type = \"jdbc\"",
            "    hook_name = \"JDBC Connection\"",
            "    supports_autocommit = True",
            "",
            "    @staticmethod",
            "    def get_connection_form_widgets() -> dict[str, Any]:",
            "        \"\"\"Get connection widgets to add to connection form.\"\"\"",
            "        from flask_appbuilder.fieldwidgets import BS3TextFieldWidget",
            "        from flask_babel import lazy_gettext",
            "        from wtforms import StringField",
            "",
            "        return {",
            "            \"drv_path\": StringField(lazy_gettext(\"Driver Path\"), widget=BS3TextFieldWidget()),",
            "            \"drv_clsname\": StringField(lazy_gettext(\"Driver Class\"), widget=BS3TextFieldWidget()),",
            "        }",
            "",
            "    @staticmethod",
            "    def get_ui_field_behaviour() -> dict[str, Any]:",
            "        \"\"\"Get custom field behaviour.\"\"\"",
            "        return {",
            "            \"hidden_fields\": [\"port\", \"schema\", \"extra\"],",
            "            \"relabeling\": {\"host\": \"Connection URL\"},",
            "        }",
            "",
            "    def _get_field(self, extras: dict, field_name: str):",
            "        \"\"\"Get field from extra.",
            "",
            "        This first checks the short name, then check for prefixed name for",
            "        backward compatibility.",
            "        \"\"\"",
            "        backcompat_prefix = \"extra__jdbc__\"",
            "        if field_name.startswith(\"extra__\"):",
            "            raise ValueError(",
            "                f\"Got prefixed name {field_name}; please remove the '{backcompat_prefix}' prefix \"",
            "                \"when using this method.\"",
            "            )",
            "        if field_name in extras:",
            "            return extras[field_name] or None",
            "        prefixed_name = f\"{backcompat_prefix}{field_name}\"",
            "        return extras.get(prefixed_name) or None",
            "",
            "    def get_conn(self) -> jaydebeapi.Connection:",
            "        conn: Connection = self.get_connection(getattr(self, self.conn_name_attr))",
            "        extras = conn.extra_dejson",
            "        host: str = conn.host",
            "        login: str = conn.login",
            "        psw: str = conn.password",
            "        jdbc_driver_loc: str | None = self._get_field(extras, \"drv_path\")",
            "        jdbc_driver_name: str | None = self._get_field(extras, \"drv_clsname\")",
            "",
            "        conn = jaydebeapi.connect(",
            "            jclassname=jdbc_driver_name,",
            "            url=str(host),",
            "            driver_args=[str(login), str(psw)],",
            "            jars=jdbc_driver_loc.split(\",\") if jdbc_driver_loc else None,",
            "        )",
            "        return conn",
            "",
            "    def set_autocommit(self, conn: jaydebeapi.Connection, autocommit: bool) -> None:",
            "        \"\"\"Set autocommit for the given connection.",
            "",
            "        :param conn: The connection.",
            "        :param autocommit: The connection's autocommit setting.",
            "        \"\"\"",
            "        conn.jconn.setAutoCommit(autocommit)",
            "",
            "    def get_autocommit(self, conn: jaydebeapi.Connection) -> bool:",
            "        \"\"\"Get autocommit setting for the provided connection.",
            "",
            "        :param conn: Connection to get autocommit setting from.",
            "        :return: connection autocommit setting. True if ``autocommit`` is set",
            "            to True on the connection. False if it is either not set, set to",
            "            False, or the connection does not support auto-commit.",
            "        \"\"\"",
            "        return conn.jconn.getAutoCommit()"
        ],
        "afterPatchFile": [
            "#",
            "# Licensed to the Apache Software Foundation (ASF) under one",
            "# or more contributor license agreements.  See the NOTICE file",
            "# distributed with this work for additional information",
            "# regarding copyright ownership.  The ASF licenses this file",
            "# to you under the Apache License, Version 2.0 (the",
            "# \"License\"); you may not use this file except in compliance",
            "# with the License.  You may obtain a copy of the License at",
            "#",
            "#   http://www.apache.org/licenses/LICENSE-2.0",
            "#",
            "# Unless required by applicable law or agreed to in writing,",
            "# software distributed under the License is distributed on an",
            "# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY",
            "# KIND, either express or implied.  See the License for the",
            "# specific language governing permissions and limitations",
            "# under the License.",
            "from __future__ import annotations",
            "",
            "from typing import Any",
            "",
            "import jaydebeapi",
            "",
            "from airflow.models.connection import Connection",
            "from airflow.providers.common.sql.hooks.sql import DbApiHook",
            "",
            "",
            "class JdbcHook(DbApiHook):",
            "    \"\"\"General hook for JDBC access.",
            "",
            "    JDBC URL, username and password will be taken from the predefined connection.",
            "    Note that the whole JDBC URL must be specified in the \"host\" field in the DB.",
            "    Raises an airflow error if the given connection id doesn't exist.",
            "",
            "    To configure driver parameters, you can use the following methods:",
            "        1. Supply them as constructor arguments when instantiating the hook.",
            "        2. Set the \"driver_path\" and/or \"driver_class\" parameters in the \"hook_params\" dictionary when",
            "           creating the hook using SQL operators.",
            "        3. Set the \"driver_path\" and/or \"driver_class\" extra in the connection and correspondingly enable",
            "           the \"allow_driver_path_in_extra\" and/or \"allow_driver_class_in_extra\" options in the",
            "           \"providers.jdbc\" section of the Airflow configuration. If you're enabling these options in Airflow",
            "           configuration, you should make sure that you trust the users who can edit connections in the UI",
            "           to not use it maliciously.",
            "        4. Patch the ``JdbcHook.default_driver_path`` and/or ``JdbcHook.default_driver_class`` values in the",
            "           \"local_settings.py\" file.",
            "",
            "    See :doc:`/connections/jdbc` for full documentation.",
            "",
            "    :param args: passed to DbApiHook",
            "    :param driver_path: path to the JDBC driver jar file. See above for more info",
            "    :param driver_class: name of the JDBC driver class. See above for more info",
            "    :param kwargs: passed to DbApiHook",
            "    \"\"\"",
            "",
            "    conn_name_attr = \"jdbc_conn_id\"",
            "    default_conn_name = \"jdbc_default\"",
            "    conn_type = \"jdbc\"",
            "    hook_name = \"JDBC Connection\"",
            "    supports_autocommit = True",
            "",
            "    default_driver_path: str | None = None",
            "    default_driver_class: str | None = None",
            "",
            "    def __init__(",
            "        self,",
            "        *args,",
            "        driver_path: str | None = None,",
            "        driver_class: str | None = None,",
            "        **kwargs,",
            "    ) -> None:",
            "        super().__init__(*args, **kwargs)",
            "        self._driver_path = driver_path",
            "        self._driver_class = driver_class",
            "",
            "    @staticmethod",
            "    def get_ui_field_behaviour() -> dict[str, Any]:",
            "        \"\"\"Get custom field behaviour.\"\"\"",
            "        return {",
            "            \"hidden_fields\": [\"port\", \"schema\"],",
            "            \"relabeling\": {\"host\": \"Connection URL\"},",
            "        }",
            "",
            "    @property",
            "    def connection_extra_lower(self) -> dict:",
            "        \"\"\"",
            "        ``connection.extra_dejson`` but where keys are converted to lower case.",
            "",
            "        This is used internally for case-insensitive access of jdbc params.",
            "        \"\"\"",
            "        conn = self.get_connection(getattr(self, self.conn_name_attr))",
            "        return {k.lower(): v for k, v in conn.extra_dejson.items()}",
            "",
            "    @property",
            "    def driver_path(self) -> str | None:",
            "        from airflow.configuration import conf",
            "",
            "        extra_driver_path = self.connection_extra_lower.get(\"driver_path\")",
            "        if extra_driver_path:",
            "            if conf.getboolean(\"providers.jdbc\", \"allow_driver_path_in_extra\", fallback=False):",
            "                self._driver_path = extra_driver_path",
            "            else:",
            "                self.log.warning(",
            "                    \"You have supplied 'driver_path' via connection extra but it will not be used. In order \"",
            "                    \"to use 'driver_path' from extra you must set airflow config setting \"",
            "                    \"`allow_driver_path_in_extra = True` in section `providers.jdbc`. Alternatively you may \"",
            "                    \"specify it via 'driver_path' parameter of the hook constructor or via 'hook_params' \"",
            "                    \"dictionary with key 'driver_path' if using SQL operators.\"",
            "                )",
            "        if not self._driver_path:",
            "            self._driver_path = self.default_driver_path",
            "        return self._driver_path",
            "",
            "    @property",
            "    def driver_class(self) -> str | None:",
            "        from airflow.configuration import conf",
            "",
            "        extra_driver_class = self.connection_extra_lower.get(\"driver_class\")",
            "        if extra_driver_class:",
            "            if conf.getboolean(\"providers.jdbc\", \"allow_driver_class_in_extra\", fallback=False):",
            "                self._driver_class = extra_driver_class",
            "            else:",
            "                self.log.warning(",
            "                    \"You have supplied 'driver_class' via connection extra but it will not be used. In order \"",
            "                    \"to use 'driver_class' from extra you must set airflow config setting \"",
            "                    \"`allow_driver_class_in_extra = True` in section `providers.jdbc`. Alternatively you may \"",
            "                    \"specify it via 'driver_class' parameter of the hook constructor or via 'hook_params' \"",
            "                    \"dictionary with key 'driver_class' if using SQL operators.\"",
            "                )",
            "        if not self._driver_class:",
            "            self._driver_class = self.default_driver_class",
            "        return self._driver_class",
            "",
            "    def get_conn(self) -> jaydebeapi.Connection:",
            "        conn: Connection = self.get_connection(getattr(self, self.conn_name_attr))",
            "        host: str = conn.host",
            "        login: str = conn.login",
            "        psw: str = conn.password",
            "",
            "        conn = jaydebeapi.connect(",
            "            jclassname=self.driver_class,",
            "            url=str(host),",
            "            driver_args=[str(login), str(psw)],",
            "            jars=self.driver_path.split(\",\") if self.driver_path else None,",
            "        )",
            "        return conn",
            "",
            "    def set_autocommit(self, conn: jaydebeapi.Connection, autocommit: bool) -> None:",
            "        \"\"\"Set autocommit for the given connection.",
            "",
            "        :param conn: The connection.",
            "        :param autocommit: The connection's autocommit setting.",
            "        \"\"\"",
            "        conn.jconn.setAutoCommit(autocommit)",
            "",
            "    def get_autocommit(self, conn: jaydebeapi.Connection) -> bool:",
            "        \"\"\"Get autocommit setting for the provided connection.",
            "",
            "        :param conn: Connection to get autocommit setting from.",
            "        :return: connection autocommit setting. True if ``autocommit`` is set",
            "            to True on the connection. False if it is either not set, set to",
            "            False, or the connection does not support auto-commit.",
            "        \"\"\"",
            "        return conn.jconn.getAutoCommit()"
        ],
        "action": [
            "0",
            "0",
            "0",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "0",
            "0",
            "0",
            "0",
            "0",
            "0",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "0",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "0",
            "0",
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "0",
            "2",
            "2",
            "2",
            "0",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "0",
            "0",
            "0",
            "2",
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "42": [
                "JdbcHook"
            ],
            "43": [
                "JdbcHook",
                "get_connection_form_widgets"
            ],
            "44": [
                "JdbcHook",
                "get_connection_form_widgets"
            ],
            "45": [
                "JdbcHook",
                "get_connection_form_widgets"
            ],
            "46": [
                "JdbcHook",
                "get_connection_form_widgets"
            ],
            "47": [
                "JdbcHook",
                "get_connection_form_widgets"
            ],
            "49": [
                "JdbcHook",
                "get_connection_form_widgets"
            ],
            "50": [
                "JdbcHook",
                "get_connection_form_widgets"
            ],
            "51": [
                "JdbcHook",
                "get_connection_form_widgets"
            ],
            "52": [
                "JdbcHook",
                "get_connection_form_widgets"
            ],
            "58": [
                "JdbcHook",
                "get_ui_field_behaviour"
            ],
            "62": [
                "JdbcHook",
                "_get_field"
            ],
            "63": [
                "JdbcHook",
                "_get_field"
            ],
            "65": [
                "JdbcHook",
                "_get_field"
            ],
            "66": [
                "JdbcHook",
                "_get_field"
            ],
            "68": [
                "JdbcHook",
                "_get_field"
            ],
            "69": [
                "JdbcHook",
                "_get_field"
            ],
            "70": [
                "JdbcHook",
                "_get_field"
            ],
            "71": [
                "JdbcHook",
                "_get_field"
            ],
            "72": [
                "JdbcHook",
                "_get_field"
            ],
            "73": [
                "JdbcHook",
                "_get_field"
            ],
            "74": [
                "JdbcHook",
                "_get_field"
            ],
            "75": [
                "JdbcHook",
                "_get_field"
            ],
            "76": [
                "JdbcHook",
                "_get_field"
            ],
            "77": [
                "JdbcHook",
                "_get_field"
            ],
            "81": [
                "JdbcHook",
                "get_conn"
            ],
            "85": [
                "JdbcHook",
                "get_conn"
            ],
            "86": [
                "JdbcHook",
                "get_conn"
            ],
            "89": [
                "JdbcHook",
                "get_conn"
            ],
            "92": [
                "JdbcHook",
                "get_conn"
            ]
        },
        "addLocation": [
            "airflow.providers.jdbc.hooks.jdbc.JdbcHook.self"
        ]
    }
}