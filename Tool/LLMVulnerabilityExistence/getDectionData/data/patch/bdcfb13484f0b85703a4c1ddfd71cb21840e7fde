{
    "plotai/code/executor.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 12,
                "afterPatchRowNumber": 12,
                "PatchRowcode": "                 if not line.startswith(\"```\"):"
            },
            "1": {
                "beforePatchRowNumber": 13,
                "afterPatchRowNumber": 13,
                "PatchRowcode": "                     tmp_code += line + \"\\n\""
            },
            "2": {
                "beforePatchRowNumber": 14,
                "afterPatchRowNumber": 14,
                "PatchRowcode": " "
            },
            "3": {
                "beforePatchRowNumber": 15,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            exec(tmp_code, globals_env, locals_env)"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 15,
                "PatchRowcode": "+            # please be aware of security issue with exec functions"
            },
            "5": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 16,
                "PatchRowcode": "+            # LLM can execute arbitrary code"
            },
            "6": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 17,
                "PatchRowcode": "+            # if you are aware of security issues, please uncomment below line"
            },
            "7": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 18,
                "PatchRowcode": "+"
            },
            "8": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 19,
                "PatchRowcode": "+            # exec(tmp_code, globals_env, locals_env)"
            },
            "9": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 20,
                "PatchRowcode": "+            "
            },
            "10": {
                "beforePatchRowNumber": 16,
                "afterPatchRowNumber": 21,
                "PatchRowcode": "         except Exception as e:"
            },
            "11": {
                "beforePatchRowNumber": 17,
                "afterPatchRowNumber": 22,
                "PatchRowcode": "             return str(e)"
            },
            "12": {
                "beforePatchRowNumber": 18,
                "afterPatchRowNumber": 23,
                "PatchRowcode": "         return None"
            }
        },
        "frontPatchFile": [
            "",
            "",
            "from tempfile import TemporaryFile",
            "",
            "",
            "class Executor:",
            "",
            "    def run(self, code, globals_env=None, locals_env=None):",
            "        try:",
            "            tmp_code = \"\"",
            "            for line in code.split(\"\\n\"):",
            "                if not line.startswith(\"```\"):",
            "                    tmp_code += line + \"\\n\"",
            "",
            "            exec(tmp_code, globals_env, locals_env)",
            "        except Exception as e:",
            "            return str(e)",
            "        return None"
        ],
        "afterPatchFile": [
            "",
            "",
            "from tempfile import TemporaryFile",
            "",
            "",
            "class Executor:",
            "",
            "    def run(self, code, globals_env=None, locals_env=None):",
            "        try:",
            "            tmp_code = \"\"",
            "            for line in code.split(\"\\n\"):",
            "                if not line.startswith(\"```\"):",
            "                    tmp_code += line + \"\\n\"",
            "",
            "            # please be aware of security issue with exec functions",
            "            # LLM can execute arbitrary code",
            "            # if you are aware of security issues, please uncomment below line",
            "",
            "            # exec(tmp_code, globals_env, locals_env)",
            "            ",
            "        except Exception as e:",
            "            return str(e)",
            "        return None"
        ],
        "action": [
            "0",
            "0",
            "0",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "15": [
                "Executor",
                "run"
            ]
        },
        "addLocation": []
    }
}