{
    "airflow/api_connexion/endpoints/config_endpoint.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 74,
                "afterPatchRowNumber": 74,
                "PatchRowcode": "         \"application/json\": _config_to_json,"
            },
            "1": {
                "beforePatchRowNumber": 75,
                "afterPatchRowNumber": 75,
                "PatchRowcode": "     }"
            },
            "2": {
                "beforePatchRowNumber": 76,
                "afterPatchRowNumber": 76,
                "PatchRowcode": "     return_type = request.accept_mimetypes.best_match(serializer.keys())"
            },
            "3": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 77,
                "PatchRowcode": "+    if conf.get(\"webserver\", \"expose_config\").lower() == \"non-sensitive-only\":"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 78,
                "PatchRowcode": "+        expose_config = True"
            },
            "5": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 79,
                "PatchRowcode": "+        display_sensitive = False"
            },
            "6": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 80,
                "PatchRowcode": "+    else:"
            },
            "7": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 81,
                "PatchRowcode": "+        expose_config = conf.getboolean(\"webserver\", \"expose_config\")"
            },
            "8": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 82,
                "PatchRowcode": "+        display_sensitive = True"
            },
            "9": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 83,
                "PatchRowcode": "+"
            },
            "10": {
                "beforePatchRowNumber": 77,
                "afterPatchRowNumber": 84,
                "PatchRowcode": "     if return_type not in serializer:"
            },
            "11": {
                "beforePatchRowNumber": 78,
                "afterPatchRowNumber": 85,
                "PatchRowcode": "         return Response(status=HTTPStatus.NOT_ACCEPTABLE)"
            },
            "12": {
                "beforePatchRowNumber": 79,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    elif conf.getboolean(\"webserver\", \"expose_config\"):"
            },
            "13": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 86,
                "PatchRowcode": "+    elif expose_config:"
            },
            "14": {
                "beforePatchRowNumber": 80,
                "afterPatchRowNumber": 87,
                "PatchRowcode": "         if section and not conf.has_section(section):"
            },
            "15": {
                "beforePatchRowNumber": 81,
                "afterPatchRowNumber": 88,
                "PatchRowcode": "             raise NotFound(\"section not found.\", detail=f\"section={section} not found.\")"
            },
            "16": {
                "beforePatchRowNumber": 82,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        conf_dict = conf.as_dict(display_source=False, display_sensitive=True)"
            },
            "17": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 89,
                "PatchRowcode": "+        conf_dict = conf.as_dict(display_source=False, display_sensitive=display_sensitive)"
            },
            "18": {
                "beforePatchRowNumber": 83,
                "afterPatchRowNumber": 90,
                "PatchRowcode": "         if section:"
            },
            "19": {
                "beforePatchRowNumber": 84,
                "afterPatchRowNumber": 91,
                "PatchRowcode": "             conf_section_value = conf_dict[section]"
            },
            "20": {
                "beforePatchRowNumber": 85,
                "afterPatchRowNumber": 92,
                "PatchRowcode": "             conf_dict.clear()"
            },
            "21": {
                "beforePatchRowNumber": 103,
                "afterPatchRowNumber": 110,
                "PatchRowcode": "         \"application/json\": _config_to_json,"
            },
            "22": {
                "beforePatchRowNumber": 104,
                "afterPatchRowNumber": 111,
                "PatchRowcode": "     }"
            },
            "23": {
                "beforePatchRowNumber": 105,
                "afterPatchRowNumber": 112,
                "PatchRowcode": "     return_type = request.accept_mimetypes.best_match(serializer.keys())"
            },
            "24": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 113,
                "PatchRowcode": "+    if conf.get(\"webserver\", \"expose_config\").lower() == \"non-sensitive-only\":"
            },
            "25": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 114,
                "PatchRowcode": "+        expose_config = True"
            },
            "26": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 115,
                "PatchRowcode": "+    else:"
            },
            "27": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 116,
                "PatchRowcode": "+        expose_config = conf.getboolean(\"webserver\", \"expose_config\")"
            },
            "28": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 117,
                "PatchRowcode": "+"
            },
            "29": {
                "beforePatchRowNumber": 106,
                "afterPatchRowNumber": 118,
                "PatchRowcode": "     if return_type not in serializer:"
            },
            "30": {
                "beforePatchRowNumber": 107,
                "afterPatchRowNumber": 119,
                "PatchRowcode": "         return Response(status=HTTPStatus.NOT_ACCEPTABLE)"
            },
            "31": {
                "beforePatchRowNumber": 108,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    elif conf.getboolean(\"webserver\", \"expose_config\"):"
            },
            "32": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 120,
                "PatchRowcode": "+    elif expose_config:"
            },
            "33": {
                "beforePatchRowNumber": 109,
                "afterPatchRowNumber": 121,
                "PatchRowcode": "         if not conf.has_option(section, option):"
            },
            "34": {
                "beforePatchRowNumber": 110,
                "afterPatchRowNumber": 122,
                "PatchRowcode": "             raise NotFound("
            },
            "35": {
                "beforePatchRowNumber": 111,
                "afterPatchRowNumber": 123,
                "PatchRowcode": "                 \"Config not found.\", detail=f\"The option [{section}/{option}] is not found in config.\""
            },
            "36": {
                "beforePatchRowNumber": 112,
                "afterPatchRowNumber": 124,
                "PatchRowcode": "             )"
            },
            "37": {
                "beforePatchRowNumber": 113,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        value = conf.get(section, option)"
            },
            "38": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 125,
                "PatchRowcode": "+"
            },
            "39": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 126,
                "PatchRowcode": "+        print(conf.sensitive_config_values)"
            },
            "40": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 127,
                "PatchRowcode": "+        if (section, option) in conf.sensitive_config_values:"
            },
            "41": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 128,
                "PatchRowcode": "+            value = \"< hidden >\""
            },
            "42": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 129,
                "PatchRowcode": "+        else:"
            },
            "43": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 130,
                "PatchRowcode": "+            value = conf.get(section, option)"
            },
            "44": {
                "beforePatchRowNumber": 114,
                "afterPatchRowNumber": 131,
                "PatchRowcode": " "
            },
            "45": {
                "beforePatchRowNumber": 115,
                "afterPatchRowNumber": 132,
                "PatchRowcode": "         config = Config("
            },
            "46": {
                "beforePatchRowNumber": 116,
                "afterPatchRowNumber": 133,
                "PatchRowcode": "             sections=[ConfigSection(name=section, options=[ConfigOption(key=option, value=value)])]"
            }
        },
        "frontPatchFile": [
            "# Licensed to the Apache Software Foundation (ASF) under one",
            "# or more contributor license agreements.  See the NOTICE file",
            "# distributed with this work for additional information",
            "# regarding copyright ownership.  The ASF licenses this file",
            "# to you under the Apache License, Version 2.0 (the",
            "# \"License\"); you may not use this file except in compliance",
            "# with the License.  You may obtain a copy of the License at",
            "#",
            "#   http://www.apache.org/licenses/LICENSE-2.0",
            "#",
            "# Unless required by applicable law or agreed to in writing,",
            "# software distributed under the License is distributed on an",
            "# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY",
            "# KIND, either express or implied.  See the License for the",
            "# specific language governing permissions and limitations",
            "# under the License.",
            "from __future__ import annotations",
            "",
            "from http import HTTPStatus",
            "",
            "from flask import Response, request",
            "",
            "from airflow.api_connexion import security",
            "from airflow.api_connexion.exceptions import NotFound, PermissionDenied",
            "from airflow.api_connexion.schemas.config_schema import Config, ConfigOption, ConfigSection, config_schema",
            "from airflow.configuration import conf",
            "from airflow.security import permissions",
            "from airflow.settings import json",
            "",
            "LINE_SEP = \"\\n\"  # `\\n` cannot appear in f-strings",
            "",
            "",
            "def _conf_dict_to_config(conf_dict: dict) -> Config:",
            "    \"\"\"Convert config dict to a Config object.\"\"\"",
            "    config = Config(",
            "        sections=[",
            "            ConfigSection(",
            "                name=section, options=[ConfigOption(key=key, value=value) for key, value in options.items()]",
            "            )",
            "            for section, options in conf_dict.items()",
            "        ]",
            "    )",
            "    return config",
            "",
            "",
            "def _option_to_text(config_option: ConfigOption) -> str:",
            "    \"\"\"Convert a single config option to text.\"\"\"",
            "    return f\"{config_option.key} = {config_option.value}\"",
            "",
            "",
            "def _section_to_text(config_section: ConfigSection) -> str:",
            "    \"\"\"Convert a single config section to text.\"\"\"",
            "    return (",
            "        f\"[{config_section.name}]{LINE_SEP}\"",
            "        f\"{LINE_SEP.join(_option_to_text(option) for option in config_section.options)}{LINE_SEP}\"",
            "    )",
            "",
            "",
            "def _config_to_text(config: Config) -> str:",
            "    \"\"\"Convert the entire config to text.\"\"\"",
            "    return LINE_SEP.join(_section_to_text(s) for s in config.sections)",
            "",
            "",
            "def _config_to_json(config: Config) -> str:",
            "    \"\"\"Convert a Config object to a JSON formatted string.\"\"\"",
            "    return json.dumps(config_schema.dump(config), indent=4)",
            "",
            "",
            "@security.requires_access([(permissions.ACTION_CAN_READ, permissions.RESOURCE_CONFIG)])",
            "def get_config(*, section: str | None = None) -> Response:",
            "    \"\"\"Get current configuration.\"\"\"",
            "    serializer = {",
            "        \"text/plain\": _config_to_text,",
            "        \"application/json\": _config_to_json,",
            "    }",
            "    return_type = request.accept_mimetypes.best_match(serializer.keys())",
            "    if return_type not in serializer:",
            "        return Response(status=HTTPStatus.NOT_ACCEPTABLE)",
            "    elif conf.getboolean(\"webserver\", \"expose_config\"):",
            "        if section and not conf.has_section(section):",
            "            raise NotFound(\"section not found.\", detail=f\"section={section} not found.\")",
            "        conf_dict = conf.as_dict(display_source=False, display_sensitive=True)",
            "        if section:",
            "            conf_section_value = conf_dict[section]",
            "            conf_dict.clear()",
            "            conf_dict[section] = conf_section_value",
            "        config = _conf_dict_to_config(conf_dict)",
            "        config_text = serializer[return_type](config)",
            "        return Response(config_text, headers={\"Content-Type\": return_type})",
            "    else:",
            "        raise PermissionDenied(",
            "            detail=(",
            "                \"Your Airflow administrator chose not to expose the configuration, most likely for security\"",
            "                \" reasons.\"",
            "            )",
            "        )",
            "",
            "",
            "@security.requires_access([(permissions.ACTION_CAN_READ, permissions.RESOURCE_CONFIG)])",
            "def get_value(section: str, option: str) -> Response:",
            "    serializer = {",
            "        \"text/plain\": _config_to_text,",
            "        \"application/json\": _config_to_json,",
            "    }",
            "    return_type = request.accept_mimetypes.best_match(serializer.keys())",
            "    if return_type not in serializer:",
            "        return Response(status=HTTPStatus.NOT_ACCEPTABLE)",
            "    elif conf.getboolean(\"webserver\", \"expose_config\"):",
            "        if not conf.has_option(section, option):",
            "            raise NotFound(",
            "                \"Config not found.\", detail=f\"The option [{section}/{option}] is not found in config.\"",
            "            )",
            "        value = conf.get(section, option)",
            "",
            "        config = Config(",
            "            sections=[ConfigSection(name=section, options=[ConfigOption(key=option, value=value)])]",
            "        )",
            "        config_text = serializer[return_type](config)",
            "        return Response(config_text, headers={\"Content-Type\": return_type})",
            "    else:",
            "        raise PermissionDenied(",
            "            detail=(",
            "                \"Your Airflow administrator chose not to expose the configuration, most likely for security\"",
            "                \" reasons.\"",
            "            )",
            "        )"
        ],
        "afterPatchFile": [
            "# Licensed to the Apache Software Foundation (ASF) under one",
            "# or more contributor license agreements.  See the NOTICE file",
            "# distributed with this work for additional information",
            "# regarding copyright ownership.  The ASF licenses this file",
            "# to you under the Apache License, Version 2.0 (the",
            "# \"License\"); you may not use this file except in compliance",
            "# with the License.  You may obtain a copy of the License at",
            "#",
            "#   http://www.apache.org/licenses/LICENSE-2.0",
            "#",
            "# Unless required by applicable law or agreed to in writing,",
            "# software distributed under the License is distributed on an",
            "# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY",
            "# KIND, either express or implied.  See the License for the",
            "# specific language governing permissions and limitations",
            "# under the License.",
            "from __future__ import annotations",
            "",
            "from http import HTTPStatus",
            "",
            "from flask import Response, request",
            "",
            "from airflow.api_connexion import security",
            "from airflow.api_connexion.exceptions import NotFound, PermissionDenied",
            "from airflow.api_connexion.schemas.config_schema import Config, ConfigOption, ConfigSection, config_schema",
            "from airflow.configuration import conf",
            "from airflow.security import permissions",
            "from airflow.settings import json",
            "",
            "LINE_SEP = \"\\n\"  # `\\n` cannot appear in f-strings",
            "",
            "",
            "def _conf_dict_to_config(conf_dict: dict) -> Config:",
            "    \"\"\"Convert config dict to a Config object.\"\"\"",
            "    config = Config(",
            "        sections=[",
            "            ConfigSection(",
            "                name=section, options=[ConfigOption(key=key, value=value) for key, value in options.items()]",
            "            )",
            "            for section, options in conf_dict.items()",
            "        ]",
            "    )",
            "    return config",
            "",
            "",
            "def _option_to_text(config_option: ConfigOption) -> str:",
            "    \"\"\"Convert a single config option to text.\"\"\"",
            "    return f\"{config_option.key} = {config_option.value}\"",
            "",
            "",
            "def _section_to_text(config_section: ConfigSection) -> str:",
            "    \"\"\"Convert a single config section to text.\"\"\"",
            "    return (",
            "        f\"[{config_section.name}]{LINE_SEP}\"",
            "        f\"{LINE_SEP.join(_option_to_text(option) for option in config_section.options)}{LINE_SEP}\"",
            "    )",
            "",
            "",
            "def _config_to_text(config: Config) -> str:",
            "    \"\"\"Convert the entire config to text.\"\"\"",
            "    return LINE_SEP.join(_section_to_text(s) for s in config.sections)",
            "",
            "",
            "def _config_to_json(config: Config) -> str:",
            "    \"\"\"Convert a Config object to a JSON formatted string.\"\"\"",
            "    return json.dumps(config_schema.dump(config), indent=4)",
            "",
            "",
            "@security.requires_access([(permissions.ACTION_CAN_READ, permissions.RESOURCE_CONFIG)])",
            "def get_config(*, section: str | None = None) -> Response:",
            "    \"\"\"Get current configuration.\"\"\"",
            "    serializer = {",
            "        \"text/plain\": _config_to_text,",
            "        \"application/json\": _config_to_json,",
            "    }",
            "    return_type = request.accept_mimetypes.best_match(serializer.keys())",
            "    if conf.get(\"webserver\", \"expose_config\").lower() == \"non-sensitive-only\":",
            "        expose_config = True",
            "        display_sensitive = False",
            "    else:",
            "        expose_config = conf.getboolean(\"webserver\", \"expose_config\")",
            "        display_sensitive = True",
            "",
            "    if return_type not in serializer:",
            "        return Response(status=HTTPStatus.NOT_ACCEPTABLE)",
            "    elif expose_config:",
            "        if section and not conf.has_section(section):",
            "            raise NotFound(\"section not found.\", detail=f\"section={section} not found.\")",
            "        conf_dict = conf.as_dict(display_source=False, display_sensitive=display_sensitive)",
            "        if section:",
            "            conf_section_value = conf_dict[section]",
            "            conf_dict.clear()",
            "            conf_dict[section] = conf_section_value",
            "        config = _conf_dict_to_config(conf_dict)",
            "        config_text = serializer[return_type](config)",
            "        return Response(config_text, headers={\"Content-Type\": return_type})",
            "    else:",
            "        raise PermissionDenied(",
            "            detail=(",
            "                \"Your Airflow administrator chose not to expose the configuration, most likely for security\"",
            "                \" reasons.\"",
            "            )",
            "        )",
            "",
            "",
            "@security.requires_access([(permissions.ACTION_CAN_READ, permissions.RESOURCE_CONFIG)])",
            "def get_value(section: str, option: str) -> Response:",
            "    serializer = {",
            "        \"text/plain\": _config_to_text,",
            "        \"application/json\": _config_to_json,",
            "    }",
            "    return_type = request.accept_mimetypes.best_match(serializer.keys())",
            "    if conf.get(\"webserver\", \"expose_config\").lower() == \"non-sensitive-only\":",
            "        expose_config = True",
            "    else:",
            "        expose_config = conf.getboolean(\"webserver\", \"expose_config\")",
            "",
            "    if return_type not in serializer:",
            "        return Response(status=HTTPStatus.NOT_ACCEPTABLE)",
            "    elif expose_config:",
            "        if not conf.has_option(section, option):",
            "            raise NotFound(",
            "                \"Config not found.\", detail=f\"The option [{section}/{option}] is not found in config.\"",
            "            )",
            "",
            "        print(conf.sensitive_config_values)",
            "        if (section, option) in conf.sensitive_config_values:",
            "            value = \"< hidden >\"",
            "        else:",
            "            value = conf.get(section, option)",
            "",
            "        config = Config(",
            "            sections=[ConfigSection(name=section, options=[ConfigOption(key=option, value=value)])]",
            "        )",
            "        config_text = serializer[return_type](config)",
            "        return Response(config_text, headers={\"Content-Type\": return_type})",
            "    else:",
            "        raise PermissionDenied(",
            "            detail=(",
            "                \"Your Airflow administrator chose not to expose the configuration, most likely for security\"",
            "                \" reasons.\"",
            "            )",
            "        )"
        ],
        "action": [
            "0",
            "0",
            "0",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0",
            "0",
            "0",
            "0",
            "2",
            "2",
            "2",
            "2",
            "2",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0",
            "0",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "79": [
                "get_config"
            ],
            "82": [
                "get_config"
            ],
            "108": [
                "get_value"
            ],
            "113": [
                "get_value"
            ]
        },
        "addLocation": [
            "airflow.api_connexion.endpoints.config_endpoint.get_config.serializer",
            "web.pgadmin.tools.import_export.create_import_export_job"
        ]
    }
}