{
    "src/virtualenv/activation/batch/__init__.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 15,
                "afterPatchRowNumber": 15,
                "PatchRowcode": "         yield \"deactivate.bat\""
            },
            "1": {
                "beforePatchRowNumber": 16,
                "afterPatchRowNumber": 16,
                "PatchRowcode": "         yield \"pydoc.bat\""
            },
            "2": {
                "beforePatchRowNumber": 17,
                "afterPatchRowNumber": 17,
                "PatchRowcode": " "
            },
            "3": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 18,
                "PatchRowcode": "+    @staticmethod"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 19,
                "PatchRowcode": "+    def quote(string):"
            },
            "5": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 20,
                "PatchRowcode": "+        return string"
            },
            "6": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 21,
                "PatchRowcode": "+"
            },
            "7": {
                "beforePatchRowNumber": 18,
                "afterPatchRowNumber": 22,
                "PatchRowcode": "     def instantiate_template(self, replacements, template, creator):"
            },
            "8": {
                "beforePatchRowNumber": 19,
                "afterPatchRowNumber": 23,
                "PatchRowcode": "         # ensure the text has all newlines as \\r\\n - required by batch"
            },
            "9": {
                "beforePatchRowNumber": 20,
                "afterPatchRowNumber": 24,
                "PatchRowcode": "         base = super().instantiate_template(replacements, template, creator)"
            }
        },
        "frontPatchFile": [
            "from __future__ import annotations",
            "",
            "import os",
            "",
            "from virtualenv.activation.via_template import ViaTemplateActivator",
            "",
            "",
            "class BatchActivator(ViaTemplateActivator):",
            "    @classmethod",
            "    def supports(cls, interpreter):",
            "        return interpreter.os == \"nt\"",
            "",
            "    def templates(self):",
            "        yield \"activate.bat\"",
            "        yield \"deactivate.bat\"",
            "        yield \"pydoc.bat\"",
            "",
            "    def instantiate_template(self, replacements, template, creator):",
            "        # ensure the text has all newlines as \\r\\n - required by batch",
            "        base = super().instantiate_template(replacements, template, creator)",
            "        return base.replace(os.linesep, \"\\n\").replace(\"\\n\", os.linesep)",
            "",
            "",
            "__all__ = [",
            "    \"BatchActivator\",",
            "]"
        ],
        "afterPatchFile": [
            "from __future__ import annotations",
            "",
            "import os",
            "",
            "from virtualenv.activation.via_template import ViaTemplateActivator",
            "",
            "",
            "class BatchActivator(ViaTemplateActivator):",
            "    @classmethod",
            "    def supports(cls, interpreter):",
            "        return interpreter.os == \"nt\"",
            "",
            "    def templates(self):",
            "        yield \"activate.bat\"",
            "        yield \"deactivate.bat\"",
            "        yield \"pydoc.bat\"",
            "",
            "    @staticmethod",
            "    def quote(string):",
            "        return string",
            "",
            "    def instantiate_template(self, replacements, template, creator):",
            "        # ensure the text has all newlines as \\r\\n - required by batch",
            "        base = super().instantiate_template(replacements, template, creator)",
            "        return base.replace(os.linesep, \"\\n\").replace(\"\\n\", os.linesep)",
            "",
            "",
            "__all__ = [",
            "    \"BatchActivator\",",
            "]"
        ],
        "action": [
            "0",
            "0",
            "0",
            "-1",
            "-1",
            "-1",
            "-1",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {},
        "addLocation": [
            "openstack_dashboard.dashboards.project.stacks.forms.TemplateForm",
            "src.virtualenv.activation.batch.BatchActivator.self"
        ]
    },
    "src/virtualenv/activation/nushell/__init__.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 7,
                "afterPatchRowNumber": 7,
                "PatchRowcode": "     def templates(self):"
            },
            "1": {
                "beforePatchRowNumber": 8,
                "afterPatchRowNumber": 8,
                "PatchRowcode": "         yield \"activate.nu\""
            },
            "2": {
                "beforePatchRowNumber": 9,
                "afterPatchRowNumber": 9,
                "PatchRowcode": " "
            },
            "3": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 10,
                "PatchRowcode": "+    @staticmethod"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 11,
                "PatchRowcode": "+    def quote(string):"
            },
            "5": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 12,
                "PatchRowcode": "+        \"\"\""
            },
            "6": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 13,
                "PatchRowcode": "+        Nushell supports raw strings like: r###'this is a string'###."
            },
            "7": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 14,
                "PatchRowcode": "+"
            },
            "8": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 15,
                "PatchRowcode": "+        This method finds the maximum continuous sharps in the string and then"
            },
            "9": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 16,
                "PatchRowcode": "+        quote it with an extra sharp."
            },
            "10": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 17,
                "PatchRowcode": "+        \"\"\""
            },
            "11": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 18,
                "PatchRowcode": "+        max_sharps = 0"
            },
            "12": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 19,
                "PatchRowcode": "+        current_sharps = 0"
            },
            "13": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 20,
                "PatchRowcode": "+        for char in string:"
            },
            "14": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 21,
                "PatchRowcode": "+            if char == \"#\":"
            },
            "15": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 22,
                "PatchRowcode": "+                current_sharps += 1"
            },
            "16": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 23,
                "PatchRowcode": "+                max_sharps = max(current_sharps, max_sharps)"
            },
            "17": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 24,
                "PatchRowcode": "+            else:"
            },
            "18": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 25,
                "PatchRowcode": "+                current_sharps = 0"
            },
            "19": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 26,
                "PatchRowcode": "+        wrapping = \"#\" * (max_sharps + 1)"
            },
            "20": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 27,
                "PatchRowcode": "+        return f\"r{wrapping}'{string}'{wrapping}\""
            },
            "21": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 28,
                "PatchRowcode": "+"
            },
            "22": {
                "beforePatchRowNumber": 10,
                "afterPatchRowNumber": 29,
                "PatchRowcode": "     def replacements(self, creator, dest_folder):  # noqa: ARG002"
            },
            "23": {
                "beforePatchRowNumber": 11,
                "afterPatchRowNumber": 30,
                "PatchRowcode": "         return {"
            },
            "24": {
                "beforePatchRowNumber": 12,
                "afterPatchRowNumber": 31,
                "PatchRowcode": "             \"__VIRTUAL_PROMPT__\": \"\" if self.flag_prompt is None else self.flag_prompt,"
            }
        },
        "frontPatchFile": [
            "from __future__ import annotations",
            "",
            "from virtualenv.activation.via_template import ViaTemplateActivator",
            "",
            "",
            "class NushellActivator(ViaTemplateActivator):",
            "    def templates(self):",
            "        yield \"activate.nu\"",
            "",
            "    def replacements(self, creator, dest_folder):  # noqa: ARG002",
            "        return {",
            "            \"__VIRTUAL_PROMPT__\": \"\" if self.flag_prompt is None else self.flag_prompt,",
            "            \"__VIRTUAL_ENV__\": str(creator.dest),",
            "            \"__VIRTUAL_NAME__\": creator.env_name,",
            "            \"__BIN_NAME__\": str(creator.bin_dir.relative_to(creator.dest)),",
            "        }",
            "",
            "",
            "__all__ = [",
            "    \"NushellActivator\",",
            "]"
        ],
        "afterPatchFile": [
            "from __future__ import annotations",
            "",
            "from virtualenv.activation.via_template import ViaTemplateActivator",
            "",
            "",
            "class NushellActivator(ViaTemplateActivator):",
            "    def templates(self):",
            "        yield \"activate.nu\"",
            "",
            "    @staticmethod",
            "    def quote(string):",
            "        \"\"\"",
            "        Nushell supports raw strings like: r###'this is a string'###.",
            "",
            "        This method finds the maximum continuous sharps in the string and then",
            "        quote it with an extra sharp.",
            "        \"\"\"",
            "        max_sharps = 0",
            "        current_sharps = 0",
            "        for char in string:",
            "            if char == \"#\":",
            "                current_sharps += 1",
            "                max_sharps = max(current_sharps, max_sharps)",
            "            else:",
            "                current_sharps = 0",
            "        wrapping = \"#\" * (max_sharps + 1)",
            "        return f\"r{wrapping}'{string}'{wrapping}\"",
            "",
            "    def replacements(self, creator, dest_folder):  # noqa: ARG002",
            "        return {",
            "            \"__VIRTUAL_PROMPT__\": \"\" if self.flag_prompt is None else self.flag_prompt,",
            "            \"__VIRTUAL_ENV__\": str(creator.dest),",
            "            \"__VIRTUAL_NAME__\": creator.env_name,",
            "            \"__BIN_NAME__\": str(creator.bin_dir.relative_to(creator.dest)),",
            "        }",
            "",
            "",
            "__all__ = [",
            "    \"NushellActivator\",",
            "]"
        ],
        "action": [
            "0",
            "0",
            "0",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {},
        "addLocation": [
            "openstack_dashboard.dashboards.project.stacks.forms.TemplateForm",
            "src.virtualenv.activation.nushell.NushellActivator.self"
        ]
    },
    "src/virtualenv/activation/powershell/__init__.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 7,
                "afterPatchRowNumber": 7,
                "PatchRowcode": "     def templates(self):"
            },
            "1": {
                "beforePatchRowNumber": 8,
                "afterPatchRowNumber": 8,
                "PatchRowcode": "         yield \"activate.ps1\""
            },
            "2": {
                "beforePatchRowNumber": 9,
                "afterPatchRowNumber": 9,
                "PatchRowcode": " "
            },
            "3": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 10,
                "PatchRowcode": "+    @staticmethod"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 11,
                "PatchRowcode": "+    def quote(string):"
            },
            "5": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 12,
                "PatchRowcode": "+        \"\"\""
            },
            "6": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 13,
                "PatchRowcode": "+        This should satisfy PowerShell quoting rules [1], unless the quoted"
            },
            "7": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 14,
                "PatchRowcode": "+        string is passed directly to Windows native commands [2]."
            },
            "8": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 15,
                "PatchRowcode": "+"
            },
            "9": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 16,
                "PatchRowcode": "+        [1]: https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_quoting_rules"
            },
            "10": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 17,
                "PatchRowcode": "+        [2]: https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_parsing#passing-arguments-that-contain-quote-characters"
            },
            "11": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 18,
                "PatchRowcode": "+        \"\"\"  # noqa: D205"
            },
            "12": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 19,
                "PatchRowcode": "+        string = string.replace(\"'\", \"''\")"
            },
            "13": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 20,
                "PatchRowcode": "+        return f\"'{string}'\""
            },
            "14": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 21,
                "PatchRowcode": "+"
            },
            "15": {
                "beforePatchRowNumber": 10,
                "afterPatchRowNumber": 22,
                "PatchRowcode": " "
            },
            "16": {
                "beforePatchRowNumber": 11,
                "afterPatchRowNumber": 23,
                "PatchRowcode": " __all__ = ["
            },
            "17": {
                "beforePatchRowNumber": 12,
                "afterPatchRowNumber": 24,
                "PatchRowcode": "     \"PowerShellActivator\","
            }
        },
        "frontPatchFile": [
            "from __future__ import annotations",
            "",
            "from virtualenv.activation.via_template import ViaTemplateActivator",
            "",
            "",
            "class PowerShellActivator(ViaTemplateActivator):",
            "    def templates(self):",
            "        yield \"activate.ps1\"",
            "",
            "",
            "__all__ = [",
            "    \"PowerShellActivator\",",
            "]"
        ],
        "afterPatchFile": [
            "from __future__ import annotations",
            "",
            "from virtualenv.activation.via_template import ViaTemplateActivator",
            "",
            "",
            "class PowerShellActivator(ViaTemplateActivator):",
            "    def templates(self):",
            "        yield \"activate.ps1\"",
            "",
            "    @staticmethod",
            "    def quote(string):",
            "        \"\"\"",
            "        This should satisfy PowerShell quoting rules [1], unless the quoted",
            "        string is passed directly to Windows native commands [2].",
            "",
            "        [1]: https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_quoting_rules",
            "        [2]: https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_parsing#passing-arguments-that-contain-quote-characters",
            "        \"\"\"  # noqa: D205",
            "        string = string.replace(\"'\", \"''\")",
            "        return f\"'{string}'\"",
            "",
            "",
            "__all__ = [",
            "    \"PowerShellActivator\",",
            "]"
        ],
        "action": [
            "0",
            "0",
            "0",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {},
        "addLocation": [
            "openstack_dashboard.dashboards.project.stacks.forms.TemplateForm",
            "src.virtualenv.activation.powershell.PowerShellActivator.self"
        ]
    },
    "src/virtualenv/activation/python/__init__.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 10,
                "afterPatchRowNumber": 10,
                "PatchRowcode": "     def templates(self):"
            },
            "1": {
                "beforePatchRowNumber": 11,
                "afterPatchRowNumber": 11,
                "PatchRowcode": "         yield \"activate_this.py\""
            },
            "2": {
                "beforePatchRowNumber": 12,
                "afterPatchRowNumber": 12,
                "PatchRowcode": " "
            },
            "3": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 13,
                "PatchRowcode": "+    @staticmethod"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 14,
                "PatchRowcode": "+    def quote(string):"
            },
            "5": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 15,
                "PatchRowcode": "+        return repr(string)"
            },
            "6": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 16,
                "PatchRowcode": "+"
            },
            "7": {
                "beforePatchRowNumber": 13,
                "afterPatchRowNumber": 17,
                "PatchRowcode": "     def replacements(self, creator, dest_folder):"
            },
            "8": {
                "beforePatchRowNumber": 14,
                "afterPatchRowNumber": 18,
                "PatchRowcode": "         replacements = super().replacements(creator, dest_folder)"
            },
            "9": {
                "beforePatchRowNumber": 15,
                "afterPatchRowNumber": 19,
                "PatchRowcode": "         lib_folders = OrderedDict((os.path.relpath(str(i), str(dest_folder)), None) for i in creator.libs)"
            },
            "10": {
                "beforePatchRowNumber": 16,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        lib_folders = os.pathsep.join(lib_folders.keys()).replace(\"\\\\\", \"\\\\\\\\\")  # escape Windows path characters"
            },
            "11": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 20,
                "PatchRowcode": "+        lib_folders = os.pathsep.join(lib_folders.keys())"
            },
            "12": {
                "beforePatchRowNumber": 17,
                "afterPatchRowNumber": 21,
                "PatchRowcode": "         replacements.update("
            },
            "13": {
                "beforePatchRowNumber": 18,
                "afterPatchRowNumber": 22,
                "PatchRowcode": "             {"
            },
            "14": {
                "beforePatchRowNumber": 19,
                "afterPatchRowNumber": 23,
                "PatchRowcode": "                 \"__LIB_FOLDERS__\": lib_folders,"
            }
        },
        "frontPatchFile": [
            "from __future__ import annotations",
            "",
            "import os",
            "from collections import OrderedDict",
            "",
            "from virtualenv.activation.via_template import ViaTemplateActivator",
            "",
            "",
            "class PythonActivator(ViaTemplateActivator):",
            "    def templates(self):",
            "        yield \"activate_this.py\"",
            "",
            "    def replacements(self, creator, dest_folder):",
            "        replacements = super().replacements(creator, dest_folder)",
            "        lib_folders = OrderedDict((os.path.relpath(str(i), str(dest_folder)), None) for i in creator.libs)",
            "        lib_folders = os.pathsep.join(lib_folders.keys()).replace(\"\\\\\", \"\\\\\\\\\")  # escape Windows path characters",
            "        replacements.update(",
            "            {",
            "                \"__LIB_FOLDERS__\": lib_folders,",
            "                \"__DECODE_PATH__\": \"\",",
            "            },",
            "        )",
            "        return replacements",
            "",
            "",
            "__all__ = [",
            "    \"PythonActivator\",",
            "]"
        ],
        "afterPatchFile": [
            "from __future__ import annotations",
            "",
            "import os",
            "from collections import OrderedDict",
            "",
            "from virtualenv.activation.via_template import ViaTemplateActivator",
            "",
            "",
            "class PythonActivator(ViaTemplateActivator):",
            "    def templates(self):",
            "        yield \"activate_this.py\"",
            "",
            "    @staticmethod",
            "    def quote(string):",
            "        return repr(string)",
            "",
            "    def replacements(self, creator, dest_folder):",
            "        replacements = super().replacements(creator, dest_folder)",
            "        lib_folders = OrderedDict((os.path.relpath(str(i), str(dest_folder)), None) for i in creator.libs)",
            "        lib_folders = os.pathsep.join(lib_folders.keys())",
            "        replacements.update(",
            "            {",
            "                \"__LIB_FOLDERS__\": lib_folders,",
            "                \"__DECODE_PATH__\": \"\",",
            "            },",
            "        )",
            "        return replacements",
            "",
            "",
            "__all__ = [",
            "    \"PythonActivator\",",
            "]"
        ],
        "action": [
            "0",
            "0",
            "0",
            "-1",
            "-1",
            "-1",
            "-1",
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "16": [
                "PythonActivator",
                "replacements"
            ]
        },
        "addLocation": [
            "openstack_dashboard.dashboards.project.stacks.forms.TemplateForm",
            "src.virtualenv.activation.python.PythonActivator.self"
        ]
    },
    "src/virtualenv/activation/python/activate_this.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 20,
                "afterPatchRowNumber": 20,
                "PatchRowcode": "     raise AssertionError(msg) from exc"
            },
            "1": {
                "beforePatchRowNumber": 21,
                "afterPatchRowNumber": 21,
                "PatchRowcode": " "
            },
            "2": {
                "beforePatchRowNumber": 22,
                "afterPatchRowNumber": 22,
                "PatchRowcode": " bin_dir = os.path.dirname(abs_file)"
            },
            "3": {
                "beforePatchRowNumber": 23,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-base = bin_dir[: -len(\"__BIN_NAME__\") - 1]  # strip away the bin part from the __file__, plus the path separator"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 23,
                "PatchRowcode": "+base = bin_dir[: -len(__BIN_NAME__) - 1]  # strip away the bin part from the __file__, plus the path separator"
            },
            "5": {
                "beforePatchRowNumber": 24,
                "afterPatchRowNumber": 24,
                "PatchRowcode": " "
            },
            "6": {
                "beforePatchRowNumber": 25,
                "afterPatchRowNumber": 25,
                "PatchRowcode": " # prepend bin to PATH (this file is inside the bin directory)"
            },
            "7": {
                "beforePatchRowNumber": 26,
                "afterPatchRowNumber": 26,
                "PatchRowcode": " os.environ[\"PATH\"] = os.pathsep.join([bin_dir, *os.environ.get(\"PATH\", \"\").split(os.pathsep)])"
            },
            "8": {
                "beforePatchRowNumber": 27,
                "afterPatchRowNumber": 27,
                "PatchRowcode": " os.environ[\"VIRTUAL_ENV\"] = base  # virtual env is right above bin directory"
            },
            "9": {
                "beforePatchRowNumber": 28,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-os.environ[\"VIRTUAL_ENV_PROMPT\"] = \"__VIRTUAL_PROMPT__\" or os.path.basename(base)  # noqa: SIM222"
            },
            "10": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 28,
                "PatchRowcode": "+os.environ[\"VIRTUAL_ENV_PROMPT\"] = __VIRTUAL_PROMPT__ or os.path.basename(base)"
            },
            "11": {
                "beforePatchRowNumber": 29,
                "afterPatchRowNumber": 29,
                "PatchRowcode": " "
            },
            "12": {
                "beforePatchRowNumber": 30,
                "afterPatchRowNumber": 30,
                "PatchRowcode": " # add the virtual environments libraries to the host python import mechanism"
            },
            "13": {
                "beforePatchRowNumber": 31,
                "afterPatchRowNumber": 31,
                "PatchRowcode": " prev_length = len(sys.path)"
            },
            "14": {
                "beforePatchRowNumber": 32,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-for lib in \"__LIB_FOLDERS__\".split(os.pathsep):"
            },
            "15": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 32,
                "PatchRowcode": "+for lib in __LIB_FOLDERS__.split(os.pathsep):"
            },
            "16": {
                "beforePatchRowNumber": 33,
                "afterPatchRowNumber": 33,
                "PatchRowcode": "     path = os.path.realpath(os.path.join(bin_dir, lib))"
            },
            "17": {
                "beforePatchRowNumber": 34,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    site.addsitedir(path.decode(\"utf-8\") if \"__DECODE_PATH__\" else path)"
            },
            "18": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 34,
                "PatchRowcode": "+    site.addsitedir(path.decode(\"utf-8\") if __DECODE_PATH__ else path)"
            },
            "19": {
                "beforePatchRowNumber": 35,
                "afterPatchRowNumber": 35,
                "PatchRowcode": " sys.path[:] = sys.path[prev_length:] + sys.path[0:prev_length]"
            },
            "20": {
                "beforePatchRowNumber": 36,
                "afterPatchRowNumber": 36,
                "PatchRowcode": " "
            },
            "21": {
                "beforePatchRowNumber": 37,
                "afterPatchRowNumber": 37,
                "PatchRowcode": " sys.real_prefix = sys.prefix"
            }
        },
        "frontPatchFile": [
            "\"\"\"",
            "Activate virtualenv for current interpreter:",
            "",
            "import runpy",
            "runpy.run_path(this_file)",
            "",
            "This can be used when you must use an existing Python interpreter, not the virtualenv bin/python.",
            "\"\"\"  # noqa: D415",
            "",
            "from __future__ import annotations",
            "",
            "import os",
            "import site",
            "import sys",
            "",
            "try:",
            "    abs_file = os.path.abspath(__file__)",
            "except NameError as exc:",
            "    msg = \"You must use import runpy; runpy.run_path(this_file)\"",
            "    raise AssertionError(msg) from exc",
            "",
            "bin_dir = os.path.dirname(abs_file)",
            "base = bin_dir[: -len(\"__BIN_NAME__\") - 1]  # strip away the bin part from the __file__, plus the path separator",
            "",
            "# prepend bin to PATH (this file is inside the bin directory)",
            "os.environ[\"PATH\"] = os.pathsep.join([bin_dir, *os.environ.get(\"PATH\", \"\").split(os.pathsep)])",
            "os.environ[\"VIRTUAL_ENV\"] = base  # virtual env is right above bin directory",
            "os.environ[\"VIRTUAL_ENV_PROMPT\"] = \"__VIRTUAL_PROMPT__\" or os.path.basename(base)  # noqa: SIM222",
            "",
            "# add the virtual environments libraries to the host python import mechanism",
            "prev_length = len(sys.path)",
            "for lib in \"__LIB_FOLDERS__\".split(os.pathsep):",
            "    path = os.path.realpath(os.path.join(bin_dir, lib))",
            "    site.addsitedir(path.decode(\"utf-8\") if \"__DECODE_PATH__\" else path)",
            "sys.path[:] = sys.path[prev_length:] + sys.path[0:prev_length]",
            "",
            "sys.real_prefix = sys.prefix",
            "sys.prefix = base"
        ],
        "afterPatchFile": [
            "\"\"\"",
            "Activate virtualenv for current interpreter:",
            "",
            "import runpy",
            "runpy.run_path(this_file)",
            "",
            "This can be used when you must use an existing Python interpreter, not the virtualenv bin/python.",
            "\"\"\"  # noqa: D415",
            "",
            "from __future__ import annotations",
            "",
            "import os",
            "import site",
            "import sys",
            "",
            "try:",
            "    abs_file = os.path.abspath(__file__)",
            "except NameError as exc:",
            "    msg = \"You must use import runpy; runpy.run_path(this_file)\"",
            "    raise AssertionError(msg) from exc",
            "",
            "bin_dir = os.path.dirname(abs_file)",
            "base = bin_dir[: -len(__BIN_NAME__) - 1]  # strip away the bin part from the __file__, plus the path separator",
            "",
            "# prepend bin to PATH (this file is inside the bin directory)",
            "os.environ[\"PATH\"] = os.pathsep.join([bin_dir, *os.environ.get(\"PATH\", \"\").split(os.pathsep)])",
            "os.environ[\"VIRTUAL_ENV\"] = base  # virtual env is right above bin directory",
            "os.environ[\"VIRTUAL_ENV_PROMPT\"] = __VIRTUAL_PROMPT__ or os.path.basename(base)",
            "",
            "# add the virtual environments libraries to the host python import mechanism",
            "prev_length = len(sys.path)",
            "for lib in __LIB_FOLDERS__.split(os.pathsep):",
            "    path = os.path.realpath(os.path.join(bin_dir, lib))",
            "    site.addsitedir(path.decode(\"utf-8\") if __DECODE_PATH__ else path)",
            "sys.path[:] = sys.path[prev_length:] + sys.path[0:prev_length]",
            "",
            "sys.real_prefix = sys.prefix",
            "sys.prefix = base"
        ],
        "action": [
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "23": [
                "base"
            ],
            "28": [],
            "32": [],
            "34": []
        },
        "addLocation": []
    },
    "src/virtualenv/activation/via_template.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 1,
                "afterPatchRowNumber": 1,
                "PatchRowcode": " from __future__ import annotations"
            },
            "1": {
                "beforePatchRowNumber": 2,
                "afterPatchRowNumber": 2,
                "PatchRowcode": " "
            },
            "2": {
                "beforePatchRowNumber": 3,
                "afterPatchRowNumber": 3,
                "PatchRowcode": " import os"
            },
            "3": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 4,
                "PatchRowcode": "+import shlex"
            },
            "4": {
                "beforePatchRowNumber": 4,
                "afterPatchRowNumber": 5,
                "PatchRowcode": " import sys"
            },
            "5": {
                "beforePatchRowNumber": 5,
                "afterPatchRowNumber": 6,
                "PatchRowcode": " from abc import ABC, abstractmethod"
            },
            "6": {
                "beforePatchRowNumber": 6,
                "afterPatchRowNumber": 7,
                "PatchRowcode": " "
            },
            "7": {
                "beforePatchRowNumber": 21,
                "afterPatchRowNumber": 22,
                "PatchRowcode": "     def templates(self):"
            },
            "8": {
                "beforePatchRowNumber": 22,
                "afterPatchRowNumber": 23,
                "PatchRowcode": "         raise NotImplementedError"
            },
            "9": {
                "beforePatchRowNumber": 23,
                "afterPatchRowNumber": 24,
                "PatchRowcode": " "
            },
            "10": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 25,
                "PatchRowcode": "+    @staticmethod"
            },
            "11": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 26,
                "PatchRowcode": "+    def quote(string):"
            },
            "12": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 27,
                "PatchRowcode": "+        \"\"\""
            },
            "13": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 28,
                "PatchRowcode": "+        Quote strings in the activation script."
            },
            "14": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 29,
                "PatchRowcode": "+"
            },
            "15": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 30,
                "PatchRowcode": "+        :param string: the string to quote"
            },
            "16": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 31,
                "PatchRowcode": "+        :return: quoted string that works in the activation script"
            },
            "17": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 32,
                "PatchRowcode": "+        \"\"\""
            },
            "18": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 33,
                "PatchRowcode": "+        return shlex.quote(string)"
            },
            "19": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 34,
                "PatchRowcode": "+"
            },
            "20": {
                "beforePatchRowNumber": 24,
                "afterPatchRowNumber": 35,
                "PatchRowcode": "     def generate(self, creator):"
            },
            "21": {
                "beforePatchRowNumber": 25,
                "afterPatchRowNumber": 36,
                "PatchRowcode": "         dest_folder = creator.bin_dir"
            },
            "22": {
                "beforePatchRowNumber": 26,
                "afterPatchRowNumber": 37,
                "PatchRowcode": "         replacements = self.replacements(creator, dest_folder)"
            },
            "23": {
                "beforePatchRowNumber": 63,
                "afterPatchRowNumber": 74,
                "PatchRowcode": "         text = binary.decode(\"utf-8\", errors=\"strict\")"
            },
            "24": {
                "beforePatchRowNumber": 64,
                "afterPatchRowNumber": 75,
                "PatchRowcode": "         for key, value in replacements.items():"
            },
            "25": {
                "beforePatchRowNumber": 65,
                "afterPatchRowNumber": 76,
                "PatchRowcode": "             value_uni = self._repr_unicode(creator, value)"
            },
            "26": {
                "beforePatchRowNumber": 66,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            text = text.replace(key, value_uni)"
            },
            "27": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 77,
                "PatchRowcode": "+            text = text.replace(key, self.quote(value_uni))"
            },
            "28": {
                "beforePatchRowNumber": 67,
                "afterPatchRowNumber": 78,
                "PatchRowcode": "         return text"
            },
            "29": {
                "beforePatchRowNumber": 68,
                "afterPatchRowNumber": 79,
                "PatchRowcode": " "
            },
            "30": {
                "beforePatchRowNumber": 69,
                "afterPatchRowNumber": 80,
                "PatchRowcode": "     @staticmethod"
            }
        },
        "frontPatchFile": [
            "from __future__ import annotations",
            "",
            "import os",
            "import sys",
            "from abc import ABC, abstractmethod",
            "",
            "from .activator import Activator",
            "",
            "if sys.version_info >= (3, 10):",
            "    from importlib.resources import files",
            "",
            "    def read_binary(module_name: str, filename: str) -> bytes:",
            "        return (files(module_name) / filename).read_bytes()",
            "",
            "else:",
            "    from importlib.resources import read_binary",
            "",
            "",
            "class ViaTemplateActivator(Activator, ABC):",
            "    @abstractmethod",
            "    def templates(self):",
            "        raise NotImplementedError",
            "",
            "    def generate(self, creator):",
            "        dest_folder = creator.bin_dir",
            "        replacements = self.replacements(creator, dest_folder)",
            "        generated = self._generate(replacements, self.templates(), dest_folder, creator)",
            "        if self.flag_prompt is not None:",
            "            creator.pyenv_cfg[\"prompt\"] = self.flag_prompt",
            "        return generated",
            "",
            "    def replacements(self, creator, dest_folder):  # noqa: ARG002",
            "        return {",
            "            \"__VIRTUAL_PROMPT__\": \"\" if self.flag_prompt is None else self.flag_prompt,",
            "            \"__VIRTUAL_ENV__\": str(creator.dest),",
            "            \"__VIRTUAL_NAME__\": creator.env_name,",
            "            \"__BIN_NAME__\": str(creator.bin_dir.relative_to(creator.dest)),",
            "            \"__PATH_SEP__\": os.pathsep,",
            "        }",
            "",
            "    def _generate(self, replacements, templates, to_folder, creator):",
            "        generated = []",
            "        for template in templates:",
            "            text = self.instantiate_template(replacements, template, creator)",
            "            dest = to_folder / self.as_name(template)",
            "            # remove the file if it already exists - this prevents permission",
            "            # errors when the dest is not writable",
            "            if dest.exists():",
            "                dest.unlink()",
            "            # Powershell assumes Windows 1252 encoding when reading files without BOM",
            "            encoding = \"utf-8-sig\" if str(template).endswith(\".ps1\") else \"utf-8\"",
            "            # use write_bytes to avoid platform specific line normalization (\\n -> \\r\\n)",
            "            dest.write_bytes(text.encode(encoding))",
            "            generated.append(dest)",
            "        return generated",
            "",
            "    def as_name(self, template):",
            "        return template",
            "",
            "    def instantiate_template(self, replacements, template, creator):",
            "        # read content as binary to avoid platform specific line normalization (\\n -> \\r\\n)",
            "        binary = read_binary(self.__module__, template)",
            "        text = binary.decode(\"utf-8\", errors=\"strict\")",
            "        for key, value in replacements.items():",
            "            value_uni = self._repr_unicode(creator, value)",
            "            text = text.replace(key, value_uni)",
            "        return text",
            "",
            "    @staticmethod",
            "    def _repr_unicode(creator, value):  # noqa: ARG004",
            "        return value  # by default, we just let it be unicode",
            "",
            "",
            "__all__ = [",
            "    \"ViaTemplateActivator\",",
            "]"
        ],
        "afterPatchFile": [
            "from __future__ import annotations",
            "",
            "import os",
            "import shlex",
            "import sys",
            "from abc import ABC, abstractmethod",
            "",
            "from .activator import Activator",
            "",
            "if sys.version_info >= (3, 10):",
            "    from importlib.resources import files",
            "",
            "    def read_binary(module_name: str, filename: str) -> bytes:",
            "        return (files(module_name) / filename).read_bytes()",
            "",
            "else:",
            "    from importlib.resources import read_binary",
            "",
            "",
            "class ViaTemplateActivator(Activator, ABC):",
            "    @abstractmethod",
            "    def templates(self):",
            "        raise NotImplementedError",
            "",
            "    @staticmethod",
            "    def quote(string):",
            "        \"\"\"",
            "        Quote strings in the activation script.",
            "",
            "        :param string: the string to quote",
            "        :return: quoted string that works in the activation script",
            "        \"\"\"",
            "        return shlex.quote(string)",
            "",
            "    def generate(self, creator):",
            "        dest_folder = creator.bin_dir",
            "        replacements = self.replacements(creator, dest_folder)",
            "        generated = self._generate(replacements, self.templates(), dest_folder, creator)",
            "        if self.flag_prompt is not None:",
            "            creator.pyenv_cfg[\"prompt\"] = self.flag_prompt",
            "        return generated",
            "",
            "    def replacements(self, creator, dest_folder):  # noqa: ARG002",
            "        return {",
            "            \"__VIRTUAL_PROMPT__\": \"\" if self.flag_prompt is None else self.flag_prompt,",
            "            \"__VIRTUAL_ENV__\": str(creator.dest),",
            "            \"__VIRTUAL_NAME__\": creator.env_name,",
            "            \"__BIN_NAME__\": str(creator.bin_dir.relative_to(creator.dest)),",
            "            \"__PATH_SEP__\": os.pathsep,",
            "        }",
            "",
            "    def _generate(self, replacements, templates, to_folder, creator):",
            "        generated = []",
            "        for template in templates:",
            "            text = self.instantiate_template(replacements, template, creator)",
            "            dest = to_folder / self.as_name(template)",
            "            # remove the file if it already exists - this prevents permission",
            "            # errors when the dest is not writable",
            "            if dest.exists():",
            "                dest.unlink()",
            "            # Powershell assumes Windows 1252 encoding when reading files without BOM",
            "            encoding = \"utf-8-sig\" if str(template).endswith(\".ps1\") else \"utf-8\"",
            "            # use write_bytes to avoid platform specific line normalization (\\n -> \\r\\n)",
            "            dest.write_bytes(text.encode(encoding))",
            "            generated.append(dest)",
            "        return generated",
            "",
            "    def as_name(self, template):",
            "        return template",
            "",
            "    def instantiate_template(self, replacements, template, creator):",
            "        # read content as binary to avoid platform specific line normalization (\\n -> \\r\\n)",
            "        binary = read_binary(self.__module__, template)",
            "        text = binary.decode(\"utf-8\", errors=\"strict\")",
            "        for key, value in replacements.items():",
            "            value_uni = self._repr_unicode(creator, value)",
            "            text = text.replace(key, self.quote(value_uni))",
            "        return text",
            "",
            "    @staticmethod",
            "    def _repr_unicode(creator, value):  # noqa: ARG004",
            "        return value  # by default, we just let it be unicode",
            "",
            "",
            "__all__ = [",
            "    \"ViaTemplateActivator\",",
            "]"
        ],
        "action": [
            "0",
            "0",
            "0",
            "-1",
            "0",
            "0",
            "0",
            "0",
            "0",
            "0",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "0",
            "0",
            "0",
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "66": [
                "ViaTemplateActivator",
                "instantiate_template"
            ]
        },
        "addLocation": [
            "openstack_dashboard.dashboards.project.stacks.forms.TemplateForm",
            "src.virtualenv.activation.via_template.ViaTemplateActivator.instantiate_template",
            "src.virtualenv.activation.via_template.ViaTemplateActivator.self"
        ]
    }
}