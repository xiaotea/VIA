{
    "examples/app_based_example.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 124,
                "afterPatchRowNumber": 124,
                "PatchRowcode": "         Browsers will first make a preflight request to verify that the resource"
            },
            "1": {
                "beforePatchRowNumber": 125,
                "afterPatchRowNumber": 125,
                "PatchRowcode": "         allows cross-origin POSTs with a JSON Content-Type, which can be simulated"
            },
            "2": {
                "beforePatchRowNumber": 126,
                "afterPatchRowNumber": 126,
                "PatchRowcode": "         as:"
            },
            "3": {
                "beforePatchRowNumber": 127,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        $ curl --include -X OPTIONS http://127.0.0.1:5000/exception \\"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 127,
                "PatchRowcode": "+        $ curl --include -X OPTIONS http://127.0.0.1:5000/api/exception \\"
            },
            "5": {
                "beforePatchRowNumber": 128,
                "afterPatchRowNumber": 128,
                "PatchRowcode": "             --header Access-Control-Request-Method:POST \\"
            },
            "6": {
                "beforePatchRowNumber": 129,
                "afterPatchRowNumber": 129,
                "PatchRowcode": "             --header Access-Control-Request-Headers:Content-Type \\"
            },
            "7": {
                "beforePatchRowNumber": 130,
                "afterPatchRowNumber": 130,
                "PatchRowcode": "             --header Origin:www.examplesite.com"
            }
        },
        "frontPatchFile": [
            "\"\"\"",
            "Flask-Cors example",
            "===================",
            "This is a tiny Flask Application demonstrating Flask-Cors, making it simple",
            "to add cross origin support to your flask app!",
            "",
            ":copyright: (c) 2016 by Cory Dolphin.",
            ":license:   MIT/X11, see LICENSE for more details.",
            "\"\"\"",
            "from flask import Flask, jsonify",
            "import logging",
            "try:",
            "    from flask_cors import CORS  # The typical way to import flask-cors",
            "except ImportError:",
            "    # Path hack allows examples to be run without installation.",
            "    import os",
            "    parentdir = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))",
            "    os.sys.path.insert(0, parentdir)",
            "",
            "    from flask_cors import CORS",
            "",
            "",
            "app = Flask('FlaskCorsAppBasedExample')",
            "logging.basicConfig(level=logging.INFO)",
            "",
            "# To enable logging for flask-cors,",
            "logging.getLogger('flask_cors').level = logging.DEBUG",
            "",
            "# One of the simplest configurations. Exposes all resources matching /api/* to",
            "# CORS and allows the Content-Type header, which is necessary to POST JSON",
            "# cross origin.",
            "CORS(app, resources=r'/api/*')",
            "",
            "",
            "@app.route(\"/\")",
            "def helloWorld():",
            "    \"\"\"",
            "        Since the path '/' does not match the regular expression r'/api/*',",
            "        this route does not have CORS headers set.",
            "    \"\"\"",
            "    return '''",
            "<html>",
            "    <h1>Hello CORS!</h1>",
            "    <h3> End to end editable example with jquery! </h3>",
            "    <a class=\"jsbin-embed\" href=\"http://jsbin.com/zazitas/embed?js,console\">JS Bin on jsbin.com</a>",
            "    <script src=\"//static.jsbin.com/js/embed.min.js?3.35.12\"></script>",
            "",
            "</html>",
            "'''",
            "",
            "@app.route(\"/api/v1/users/\")",
            "def list_users():",
            "    \"\"\"",
            "        Since the path matches the regular expression r'/api/*', this resource",
            "        automatically has CORS headers set. The expected result is as follows:",
            "",
            "        $ curl --include -X GET http://127.0.0.1:5000/api/v1/users/ \\",
            "            --header Origin:www.examplesite.com",
            "        HTTP/1.0 200 OK",
            "        Access-Control-Allow-Headers: Content-Type",
            "        Access-Control-Allow-Origin: *",
            "        Content-Length: 21",
            "        Content-Type: application/json",
            "        Date: Sat, 09 Aug 2014 00:26:41 GMT",
            "        Server: Werkzeug/0.9.4 Python/2.7.8",
            "",
            "        {",
            "            \"success\": true",
            "        }",
            "",
            "    \"\"\"",
            "    return jsonify(user=\"joe\")",
            "",
            "",
            "@app.route(\"/api/v1/users/create\", methods=['POST'])",
            "def create_user():",
            "    \"\"\"",
            "        Since the path matches the regular expression r'/api/*', this resource",
            "        automatically has CORS headers set.",
            "",
            "        Browsers will first make a preflight request to verify that the resource",
            "        allows cross-origin POSTs with a JSON Content-Type, which can be simulated",
            "        as:",
            "        $ curl --include -X OPTIONS http://127.0.0.1:5000/api/v1/users/create \\",
            "            --header Access-Control-Request-Method:POST \\",
            "            --header Access-Control-Request-Headers:Content-Type \\",
            "            --header Origin:www.examplesite.com",
            "        >> HTTP/1.0 200 OK",
            "        Content-Type: text/html; charset=utf-8",
            "        Allow: POST, OPTIONS",
            "        Access-Control-Allow-Origin: *",
            "        Access-Control-Allow-Headers: Content-Type",
            "        Access-Control-Allow-Methods: DELETE, GET, HEAD, OPTIONS, PATCH, POST, PUT",
            "        Content-Length: 0",
            "        Server: Werkzeug/0.9.6 Python/2.7.9",
            "        Date: Sat, 31 Jan 2015 22:25:22 GMT",
            "",
            "",
            "        $ curl --include -X POST http://127.0.0.1:5000/api/v1/users/create \\",
            "            --header Content-Type:application/json \\",
            "            --header Origin:www.examplesite.com",
            "",
            "",
            "        >> HTTP/1.0 200 OK",
            "        Content-Type: application/json",
            "        Content-Length: 21",
            "        Access-Control-Allow-Origin: *",
            "        Server: Werkzeug/0.9.6 Python/2.7.9",
            "        Date: Sat, 31 Jan 2015 22:25:04 GMT",
            "",
            "        {",
            "          \"success\": true",
            "        }",
            "",
            "    \"\"\"",
            "    return jsonify(success=True)",
            "",
            "@app.route(\"/api/exception\")",
            "def get_exception():",
            "    \"\"\"",
            "        Since the path matches the regular expression r'/api/*', this resource",
            "        automatically has CORS headers set.",
            "",
            "        Browsers will first make a preflight request to verify that the resource",
            "        allows cross-origin POSTs with a JSON Content-Type, which can be simulated",
            "        as:",
            "        $ curl --include -X OPTIONS http://127.0.0.1:5000/exception \\",
            "            --header Access-Control-Request-Method:POST \\",
            "            --header Access-Control-Request-Headers:Content-Type \\",
            "            --header Origin:www.examplesite.com",
            "        >> HTTP/1.0 200 OK",
            "        Content-Type: text/html; charset=utf-8",
            "        Allow: POST, OPTIONS",
            "        Access-Control-Allow-Origin: *",
            "        Access-Control-Allow-Headers: Content-Type",
            "        Access-Control-Allow-Methods: DELETE, GET, HEAD, OPTIONS, PATCH, POST, PUT",
            "        Content-Length: 0",
            "        Server: Werkzeug/0.9.6 Python/2.7.9",
            "        Date: Sat, 31 Jan 2015 22:25:22 GMT",
            "    \"\"\"",
            "    raise Exception(\"example\")",
            "",
            "@app.errorhandler(500)",
            "def server_error(e):",
            "    logging.exception('An error occurred during a request. %s', e)",
            "    return \"An internal error occured\", 500",
            "",
            "",
            "if __name__ == \"__main__\":",
            "    app.run(debug=True)"
        ],
        "afterPatchFile": [
            "\"\"\"",
            "Flask-Cors example",
            "===================",
            "This is a tiny Flask Application demonstrating Flask-Cors, making it simple",
            "to add cross origin support to your flask app!",
            "",
            ":copyright: (c) 2016 by Cory Dolphin.",
            ":license:   MIT/X11, see LICENSE for more details.",
            "\"\"\"",
            "from flask import Flask, jsonify",
            "import logging",
            "try:",
            "    from flask_cors import CORS  # The typical way to import flask-cors",
            "except ImportError:",
            "    # Path hack allows examples to be run without installation.",
            "    import os",
            "    parentdir = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))",
            "    os.sys.path.insert(0, parentdir)",
            "",
            "    from flask_cors import CORS",
            "",
            "",
            "app = Flask('FlaskCorsAppBasedExample')",
            "logging.basicConfig(level=logging.INFO)",
            "",
            "# To enable logging for flask-cors,",
            "logging.getLogger('flask_cors').level = logging.DEBUG",
            "",
            "# One of the simplest configurations. Exposes all resources matching /api/* to",
            "# CORS and allows the Content-Type header, which is necessary to POST JSON",
            "# cross origin.",
            "CORS(app, resources=r'/api/*')",
            "",
            "",
            "@app.route(\"/\")",
            "def helloWorld():",
            "    \"\"\"",
            "        Since the path '/' does not match the regular expression r'/api/*',",
            "        this route does not have CORS headers set.",
            "    \"\"\"",
            "    return '''",
            "<html>",
            "    <h1>Hello CORS!</h1>",
            "    <h3> End to end editable example with jquery! </h3>",
            "    <a class=\"jsbin-embed\" href=\"http://jsbin.com/zazitas/embed?js,console\">JS Bin on jsbin.com</a>",
            "    <script src=\"//static.jsbin.com/js/embed.min.js?3.35.12\"></script>",
            "",
            "</html>",
            "'''",
            "",
            "@app.route(\"/api/v1/users/\")",
            "def list_users():",
            "    \"\"\"",
            "        Since the path matches the regular expression r'/api/*', this resource",
            "        automatically has CORS headers set. The expected result is as follows:",
            "",
            "        $ curl --include -X GET http://127.0.0.1:5000/api/v1/users/ \\",
            "            --header Origin:www.examplesite.com",
            "        HTTP/1.0 200 OK",
            "        Access-Control-Allow-Headers: Content-Type",
            "        Access-Control-Allow-Origin: *",
            "        Content-Length: 21",
            "        Content-Type: application/json",
            "        Date: Sat, 09 Aug 2014 00:26:41 GMT",
            "        Server: Werkzeug/0.9.4 Python/2.7.8",
            "",
            "        {",
            "            \"success\": true",
            "        }",
            "",
            "    \"\"\"",
            "    return jsonify(user=\"joe\")",
            "",
            "",
            "@app.route(\"/api/v1/users/create\", methods=['POST'])",
            "def create_user():",
            "    \"\"\"",
            "        Since the path matches the regular expression r'/api/*', this resource",
            "        automatically has CORS headers set.",
            "",
            "        Browsers will first make a preflight request to verify that the resource",
            "        allows cross-origin POSTs with a JSON Content-Type, which can be simulated",
            "        as:",
            "        $ curl --include -X OPTIONS http://127.0.0.1:5000/api/v1/users/create \\",
            "            --header Access-Control-Request-Method:POST \\",
            "            --header Access-Control-Request-Headers:Content-Type \\",
            "            --header Origin:www.examplesite.com",
            "        >> HTTP/1.0 200 OK",
            "        Content-Type: text/html; charset=utf-8",
            "        Allow: POST, OPTIONS",
            "        Access-Control-Allow-Origin: *",
            "        Access-Control-Allow-Headers: Content-Type",
            "        Access-Control-Allow-Methods: DELETE, GET, HEAD, OPTIONS, PATCH, POST, PUT",
            "        Content-Length: 0",
            "        Server: Werkzeug/0.9.6 Python/2.7.9",
            "        Date: Sat, 31 Jan 2015 22:25:22 GMT",
            "",
            "",
            "        $ curl --include -X POST http://127.0.0.1:5000/api/v1/users/create \\",
            "            --header Content-Type:application/json \\",
            "            --header Origin:www.examplesite.com",
            "",
            "",
            "        >> HTTP/1.0 200 OK",
            "        Content-Type: application/json",
            "        Content-Length: 21",
            "        Access-Control-Allow-Origin: *",
            "        Server: Werkzeug/0.9.6 Python/2.7.9",
            "        Date: Sat, 31 Jan 2015 22:25:04 GMT",
            "",
            "        {",
            "          \"success\": true",
            "        }",
            "",
            "    \"\"\"",
            "    return jsonify(success=True)",
            "",
            "@app.route(\"/api/exception\")",
            "def get_exception():",
            "    \"\"\"",
            "        Since the path matches the regular expression r'/api/*', this resource",
            "        automatically has CORS headers set.",
            "",
            "        Browsers will first make a preflight request to verify that the resource",
            "        allows cross-origin POSTs with a JSON Content-Type, which can be simulated",
            "        as:",
            "        $ curl --include -X OPTIONS http://127.0.0.1:5000/api/exception \\",
            "            --header Access-Control-Request-Method:POST \\",
            "            --header Access-Control-Request-Headers:Content-Type \\",
            "            --header Origin:www.examplesite.com",
            "        >> HTTP/1.0 200 OK",
            "        Content-Type: text/html; charset=utf-8",
            "        Allow: POST, OPTIONS",
            "        Access-Control-Allow-Origin: *",
            "        Access-Control-Allow-Headers: Content-Type",
            "        Access-Control-Allow-Methods: DELETE, GET, HEAD, OPTIONS, PATCH, POST, PUT",
            "        Content-Length: 0",
            "        Server: Werkzeug/0.9.6 Python/2.7.9",
            "        Date: Sat, 31 Jan 2015 22:25:22 GMT",
            "    \"\"\"",
            "    raise Exception(\"example\")",
            "",
            "@app.errorhandler(500)",
            "def server_error(e):",
            "    logging.exception('An error occurred during a request. %s', e)",
            "    return \"An internal error occured\", 500",
            "",
            "",
            "if __name__ == \"__main__\":",
            "    app.run(debug=True)"
        ],
        "action": [
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "127": [
                "get_exception"
            ]
        },
        "addLocation": []
    },
    "flask_cors/extension.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 10,
                "afterPatchRowNumber": 10,
                "PatchRowcode": " \"\"\""
            },
            "1": {
                "beforePatchRowNumber": 11,
                "afterPatchRowNumber": 11,
                "PatchRowcode": " from flask import request"
            },
            "2": {
                "beforePatchRowNumber": 12,
                "afterPatchRowNumber": 12,
                "PatchRowcode": " from .core import *"
            },
            "3": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 13,
                "PatchRowcode": "+try:"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 14,
                "PatchRowcode": "+    from urllib.parse import unquote_plus"
            },
            "5": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 15,
                "PatchRowcode": "+except ImportError:"
            },
            "6": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 16,
                "PatchRowcode": "+    from urllib import unquote_plus"
            },
            "7": {
                "beforePatchRowNumber": 13,
                "afterPatchRowNumber": 17,
                "PatchRowcode": " "
            },
            "8": {
                "beforePatchRowNumber": 14,
                "afterPatchRowNumber": 18,
                "PatchRowcode": " LOG = logging.getLogger(__name__)"
            },
            "9": {
                "beforePatchRowNumber": 15,
                "afterPatchRowNumber": 19,
                "PatchRowcode": " "
            },
            "10": {
                "beforePatchRowNumber": 173,
                "afterPatchRowNumber": 177,
                "PatchRowcode": "         if resp.headers is not None and resp.headers.get(ACL_ORIGIN):"
            },
            "11": {
                "beforePatchRowNumber": 174,
                "afterPatchRowNumber": 178,
                "PatchRowcode": "             LOG.debug('CORS have been already evaluated, skipping')"
            },
            "12": {
                "beforePatchRowNumber": 175,
                "afterPatchRowNumber": 179,
                "PatchRowcode": "             return resp"
            },
            "13": {
                "beforePatchRowNumber": 176,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-"
            },
            "14": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 180,
                "PatchRowcode": "+        normalized_path = unquote_plus(request.path)"
            },
            "15": {
                "beforePatchRowNumber": 177,
                "afterPatchRowNumber": 181,
                "PatchRowcode": "         for res_regex, res_options in resources:"
            },
            "16": {
                "beforePatchRowNumber": 178,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            if try_match(request.path, res_regex):"
            },
            "17": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 182,
                "PatchRowcode": "+            if try_match(normalized_path, res_regex):"
            },
            "18": {
                "beforePatchRowNumber": 179,
                "afterPatchRowNumber": 183,
                "PatchRowcode": "                 LOG.debug(\"Request to '%s' matches CORS resource '%s'. Using options: %s\","
            },
            "19": {
                "beforePatchRowNumber": 180,
                "afterPatchRowNumber": 184,
                "PatchRowcode": "                       request.path, get_regexp_pattern(res_regex), res_options)"
            },
            "20": {
                "beforePatchRowNumber": 181,
                "afterPatchRowNumber": 185,
                "PatchRowcode": "                 set_cors_headers(resp, res_options)"
            }
        },
        "frontPatchFile": [
            "# -*- coding: utf-8 -*-",
            "\"\"\"",
            "    extension",
            "    ~~~~",
            "    Flask-CORS is a simple extension to Flask allowing you to support cross",
            "    origin resource sharing (CORS) using a simple decorator.",
            "",
            "    :copyright: (c) 2016 by Cory Dolphin.",
            "    :license: MIT, see LICENSE for more details.",
            "\"\"\"",
            "from flask import request",
            "from .core import *",
            "",
            "LOG = logging.getLogger(__name__)",
            "",
            "class CORS(object):",
            "    \"\"\"",
            "    Initializes Cross Origin Resource sharing for the application. The",
            "    arguments are identical to :py:func:`cross_origin`, with the addition of a",
            "    `resources` parameter. The resources parameter defines a series of regular",
            "    expressions for resource paths to match and optionally, the associated",
            "    options to be applied to the particular resource. These options are",
            "    identical to the arguments to :py:func:`cross_origin`.",
            "",
            "    The settings for CORS are determined in the following order",
            "",
            "    1. Resource level settings (e.g when passed as a dictionary)",
            "    2. Keyword argument settings",
            "    3. App level configuration settings (e.g. CORS_*)",
            "    4. Default settings",
            "",
            "    Note: as it is possible for multiple regular expressions to match a",
            "    resource path, the regular expressions are first sorted by length,",
            "    from longest to shortest, in order to attempt to match the most",
            "    specific regular expression. This allows the definition of a",
            "    number of specific resource options, with a wildcard fallback",
            "    for all other resources.",
            "",
            "    :param resources:",
            "        The series of regular expression and (optionally) associated CORS",
            "        options to be applied to the given resource path.",
            "",
            "        If the argument is a dictionary, it's keys must be regular expressions,",
            "        and the values must be a dictionary of kwargs, identical to the kwargs",
            "        of this function.",
            "",
            "        If the argument is a list, it is expected to be a list of regular",
            "        expressions, for which the app-wide configured options are applied.",
            "",
            "        If the argument is a string, it is expected to be a regular expression",
            "        for which the app-wide configured options are applied.",
            "",
            "        Default : Match all and apply app-level configuration",
            "",
            "    :type resources: dict, iterable or string",
            "",
            "    :param origins:",
            "        The origin, or list of origins to allow requests from.",
            "        The origin(s) may be regular expressions, case-sensitive strings,",
            "        or else an asterisk",
            "",
            "        Default : '*'",
            "    :type origins: list, string or regex",
            "",
            "    :param methods:",
            "        The method or list of methods which the allowed origins are allowed to",
            "        access for non-simple requests.",
            "",
            "        Default : [GET, HEAD, POST, OPTIONS, PUT, PATCH, DELETE]",
            "    :type methods: list or string",
            "",
            "    :param expose_headers:",
            "        The header or list which are safe to expose to the API of a CORS API",
            "        specification.",
            "",
            "        Default : None",
            "    :type expose_headers: list or string",
            "",
            "    :param allow_headers:",
            "        The header or list of header field names which can be used when this",
            "        resource is accessed by allowed origins. The header(s) may be regular",
            "        expressions, case-sensitive strings, or else an asterisk.",
            "",
            "        Default : '*', allow all headers",
            "    :type allow_headers: list, string or regex",
            "",
            "    :param supports_credentials:",
            "        Allows users to make authenticated requests. If true, injects the",
            "        `Access-Control-Allow-Credentials` header in responses. This allows",
            "        cookies and credentials to be submitted across domains.",
            "",
            "        :note: This option cannot be used in conjuction with a '*' origin",
            "",
            "        Default : False",
            "    :type supports_credentials: bool",
            "",
            "    :param max_age:",
            "        The maximum time for which this CORS request maybe cached. This value",
            "        is set as the `Access-Control-Max-Age` header.",
            "",
            "        Default : None",
            "    :type max_age: timedelta, integer, string or None",
            "",
            "    :param send_wildcard: If True, and the origins parameter is `*`, a wildcard",
            "        `Access-Control-Allow-Origin` header is sent, rather than the",
            "        request's `Origin` header.",
            "",
            "        Default : False",
            "    :type send_wildcard: bool",
            "",
            "    :param vary_header:",
            "        If True, the header Vary: Origin will be returned as per the W3",
            "        implementation guidelines.",
            "",
            "        Setting this header when the `Access-Control-Allow-Origin` is",
            "        dynamically generated (e.g. when there is more than one allowed",
            "        origin, and an Origin than '*' is returned) informs CDNs and other",
            "        caches that the CORS headers are dynamic, and cannot be cached.",
            "",
            "        If False, the Vary header will never be injected or altered.",
            "",
            "        Default : True",
            "    :type vary_header: bool",
            "    \"\"\"",
            "",
            "    def __init__(self, app=None, **kwargs):",
            "        self._options = kwargs",
            "        if app is not None:",
            "            self.init_app(app, **kwargs)",
            "",
            "    def init_app(self, app, **kwargs):",
            "        # The resources and options may be specified in the App Config, the CORS constructor",
            "        # or the kwargs to the call to init_app.",
            "        options = get_cors_options(app, self._options, kwargs)",
            "",
            "        # Flatten our resources into a list of the form",
            "        # (pattern_or_regexp, dictionary_of_options)",
            "        resources = parse_resources(options.get('resources'))",
            "",
            "        # Compute the options for each resource by combining the options from",
            "        # the app's configuration, the constructor, the kwargs to init_app, and",
            "        # finally the options specified in the resources dictionary.",
            "        resources = [",
            "                     (pattern, get_cors_options(app, options, opts))",
            "                     for (pattern, opts) in resources",
            "                    ]",
            "",
            "        # Create a human readable form of these resources by converting the compiled",
            "        # regular expressions into strings.",
            "        resources_human = {get_regexp_pattern(pattern): opts for (pattern,opts) in resources}",
            "        LOG.debug(\"Configuring CORS with resources: %s\", resources_human)",
            "",
            "        cors_after_request = make_after_request_function(resources)",
            "        app.after_request(cors_after_request)",
            "",
            "        # Wrap exception handlers with cross_origin",
            "        # These error handlers will still respect the behavior of the route",
            "        if options.get('intercept_exceptions', True):",
            "            def _after_request_decorator(f):",
            "                def wrapped_function(*args, **kwargs):",
            "                    return cors_after_request(app.make_response(f(*args, **kwargs)))",
            "                return wrapped_function",
            "",
            "            if hasattr(app, 'handle_exception'):",
            "                app.handle_exception = _after_request_decorator(",
            "                    app.handle_exception)",
            "                app.handle_user_exception = _after_request_decorator(",
            "                    app.handle_user_exception)",
            "",
            "def make_after_request_function(resources):",
            "    def cors_after_request(resp):",
            "        # If CORS headers are set in a view decorator, pass",
            "        if resp.headers is not None and resp.headers.get(ACL_ORIGIN):",
            "            LOG.debug('CORS have been already evaluated, skipping')",
            "            return resp",
            "",
            "        for res_regex, res_options in resources:",
            "            if try_match(request.path, res_regex):",
            "                LOG.debug(\"Request to '%s' matches CORS resource '%s'. Using options: %s\",",
            "                      request.path, get_regexp_pattern(res_regex), res_options)",
            "                set_cors_headers(resp, res_options)",
            "                break",
            "        else:",
            "            LOG.debug('No CORS rule matches')",
            "        return resp",
            "    return cors_after_request"
        ],
        "afterPatchFile": [
            "# -*- coding: utf-8 -*-",
            "\"\"\"",
            "    extension",
            "    ~~~~",
            "    Flask-CORS is a simple extension to Flask allowing you to support cross",
            "    origin resource sharing (CORS) using a simple decorator.",
            "",
            "    :copyright: (c) 2016 by Cory Dolphin.",
            "    :license: MIT, see LICENSE for more details.",
            "\"\"\"",
            "from flask import request",
            "from .core import *",
            "try:",
            "    from urllib.parse import unquote_plus",
            "except ImportError:",
            "    from urllib import unquote_plus",
            "",
            "LOG = logging.getLogger(__name__)",
            "",
            "class CORS(object):",
            "    \"\"\"",
            "    Initializes Cross Origin Resource sharing for the application. The",
            "    arguments are identical to :py:func:`cross_origin`, with the addition of a",
            "    `resources` parameter. The resources parameter defines a series of regular",
            "    expressions for resource paths to match and optionally, the associated",
            "    options to be applied to the particular resource. These options are",
            "    identical to the arguments to :py:func:`cross_origin`.",
            "",
            "    The settings for CORS are determined in the following order",
            "",
            "    1. Resource level settings (e.g when passed as a dictionary)",
            "    2. Keyword argument settings",
            "    3. App level configuration settings (e.g. CORS_*)",
            "    4. Default settings",
            "",
            "    Note: as it is possible for multiple regular expressions to match a",
            "    resource path, the regular expressions are first sorted by length,",
            "    from longest to shortest, in order to attempt to match the most",
            "    specific regular expression. This allows the definition of a",
            "    number of specific resource options, with a wildcard fallback",
            "    for all other resources.",
            "",
            "    :param resources:",
            "        The series of regular expression and (optionally) associated CORS",
            "        options to be applied to the given resource path.",
            "",
            "        If the argument is a dictionary, it's keys must be regular expressions,",
            "        and the values must be a dictionary of kwargs, identical to the kwargs",
            "        of this function.",
            "",
            "        If the argument is a list, it is expected to be a list of regular",
            "        expressions, for which the app-wide configured options are applied.",
            "",
            "        If the argument is a string, it is expected to be a regular expression",
            "        for which the app-wide configured options are applied.",
            "",
            "        Default : Match all and apply app-level configuration",
            "",
            "    :type resources: dict, iterable or string",
            "",
            "    :param origins:",
            "        The origin, or list of origins to allow requests from.",
            "        The origin(s) may be regular expressions, case-sensitive strings,",
            "        or else an asterisk",
            "",
            "        Default : '*'",
            "    :type origins: list, string or regex",
            "",
            "    :param methods:",
            "        The method or list of methods which the allowed origins are allowed to",
            "        access for non-simple requests.",
            "",
            "        Default : [GET, HEAD, POST, OPTIONS, PUT, PATCH, DELETE]",
            "    :type methods: list or string",
            "",
            "    :param expose_headers:",
            "        The header or list which are safe to expose to the API of a CORS API",
            "        specification.",
            "",
            "        Default : None",
            "    :type expose_headers: list or string",
            "",
            "    :param allow_headers:",
            "        The header or list of header field names which can be used when this",
            "        resource is accessed by allowed origins. The header(s) may be regular",
            "        expressions, case-sensitive strings, or else an asterisk.",
            "",
            "        Default : '*', allow all headers",
            "    :type allow_headers: list, string or regex",
            "",
            "    :param supports_credentials:",
            "        Allows users to make authenticated requests. If true, injects the",
            "        `Access-Control-Allow-Credentials` header in responses. This allows",
            "        cookies and credentials to be submitted across domains.",
            "",
            "        :note: This option cannot be used in conjuction with a '*' origin",
            "",
            "        Default : False",
            "    :type supports_credentials: bool",
            "",
            "    :param max_age:",
            "        The maximum time for which this CORS request maybe cached. This value",
            "        is set as the `Access-Control-Max-Age` header.",
            "",
            "        Default : None",
            "    :type max_age: timedelta, integer, string or None",
            "",
            "    :param send_wildcard: If True, and the origins parameter is `*`, a wildcard",
            "        `Access-Control-Allow-Origin` header is sent, rather than the",
            "        request's `Origin` header.",
            "",
            "        Default : False",
            "    :type send_wildcard: bool",
            "",
            "    :param vary_header:",
            "        If True, the header Vary: Origin will be returned as per the W3",
            "        implementation guidelines.",
            "",
            "        Setting this header when the `Access-Control-Allow-Origin` is",
            "        dynamically generated (e.g. when there is more than one allowed",
            "        origin, and an Origin than '*' is returned) informs CDNs and other",
            "        caches that the CORS headers are dynamic, and cannot be cached.",
            "",
            "        If False, the Vary header will never be injected or altered.",
            "",
            "        Default : True",
            "    :type vary_header: bool",
            "    \"\"\"",
            "",
            "    def __init__(self, app=None, **kwargs):",
            "        self._options = kwargs",
            "        if app is not None:",
            "            self.init_app(app, **kwargs)",
            "",
            "    def init_app(self, app, **kwargs):",
            "        # The resources and options may be specified in the App Config, the CORS constructor",
            "        # or the kwargs to the call to init_app.",
            "        options = get_cors_options(app, self._options, kwargs)",
            "",
            "        # Flatten our resources into a list of the form",
            "        # (pattern_or_regexp, dictionary_of_options)",
            "        resources = parse_resources(options.get('resources'))",
            "",
            "        # Compute the options for each resource by combining the options from",
            "        # the app's configuration, the constructor, the kwargs to init_app, and",
            "        # finally the options specified in the resources dictionary.",
            "        resources = [",
            "                     (pattern, get_cors_options(app, options, opts))",
            "                     for (pattern, opts) in resources",
            "                    ]",
            "",
            "        # Create a human readable form of these resources by converting the compiled",
            "        # regular expressions into strings.",
            "        resources_human = {get_regexp_pattern(pattern): opts for (pattern,opts) in resources}",
            "        LOG.debug(\"Configuring CORS with resources: %s\", resources_human)",
            "",
            "        cors_after_request = make_after_request_function(resources)",
            "        app.after_request(cors_after_request)",
            "",
            "        # Wrap exception handlers with cross_origin",
            "        # These error handlers will still respect the behavior of the route",
            "        if options.get('intercept_exceptions', True):",
            "            def _after_request_decorator(f):",
            "                def wrapped_function(*args, **kwargs):",
            "                    return cors_after_request(app.make_response(f(*args, **kwargs)))",
            "                return wrapped_function",
            "",
            "            if hasattr(app, 'handle_exception'):",
            "                app.handle_exception = _after_request_decorator(",
            "                    app.handle_exception)",
            "                app.handle_user_exception = _after_request_decorator(",
            "                    app.handle_user_exception)",
            "",
            "def make_after_request_function(resources):",
            "    def cors_after_request(resp):",
            "        # If CORS headers are set in a view decorator, pass",
            "        if resp.headers is not None and resp.headers.get(ACL_ORIGIN):",
            "            LOG.debug('CORS have been already evaluated, skipping')",
            "            return resp",
            "        normalized_path = unquote_plus(request.path)",
            "        for res_regex, res_options in resources:",
            "            if try_match(normalized_path, res_regex):",
            "                LOG.debug(\"Request to '%s' matches CORS resource '%s'. Using options: %s\",",
            "                      request.path, get_regexp_pattern(res_regex), res_options)",
            "                set_cors_headers(resp, res_options)",
            "                break",
            "        else:",
            "            LOG.debug('No CORS rule matches')",
            "        return resp",
            "    return cors_after_request"
        ],
        "action": [
            "0",
            "0",
            "0",
            "-1",
            "-1",
            "-1",
            "-1",
            "0",
            "0",
            "0",
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "176": [
                "make_after_request_function",
                "cors_after_request"
            ],
            "178": [
                "make_after_request_function",
                "cors_after_request"
            ]
        },
        "addLocation": []
    },
    "setup.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 33,
                "afterPatchRowNumber": 33,
                "PatchRowcode": "     platforms='any',"
            },
            "1": {
                "beforePatchRowNumber": 34,
                "afterPatchRowNumber": 34,
                "PatchRowcode": "     install_requires=install_requires,"
            },
            "2": {
                "beforePatchRowNumber": 35,
                "afterPatchRowNumber": 35,
                "PatchRowcode": "     tests_require=["
            },
            "3": {
                "beforePatchRowNumber": 36,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        'nose'"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 36,
                "PatchRowcode": "+        'nose',"
            },
            "5": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 37,
                "PatchRowcode": "+        'packaging'"
            },
            "6": {
                "beforePatchRowNumber": 37,
                "afterPatchRowNumber": 38,
                "PatchRowcode": "     ],"
            },
            "7": {
                "beforePatchRowNumber": 38,
                "afterPatchRowNumber": 39,
                "PatchRowcode": "     test_suite='nose.collector',"
            },
            "8": {
                "beforePatchRowNumber": 39,
                "afterPatchRowNumber": 40,
                "PatchRowcode": "     classifiers=["
            }
        },
        "frontPatchFile": [
            "# -*- coding: utf-8 -*-",
            "\"\"\"",
            "    setup",
            "    ~~~~",
            "    Flask-CORS is a simple extension to Flask allowing you to support cross",
            "    origin resource sharing (CORS) using a simple decorator.",
            "",
            "    :copyright: (c) 2016 by Cory Dolphin.",
            "    :license: MIT, see LICENSE for more details.",
            "\"\"\"",
            "",
            "from setuptools import setup",
            "from os.path import join, dirname",
            "",
            "with open(join(dirname(__file__), 'flask_cors/version.py'), 'r') as f:",
            "    exec(f.read())",
            "",
            "with open (join(dirname(__file__), 'requirements.txt'), 'r') as f:",
            "    install_requires = f.read().split(\"\\n\")",
            "",
            "setup(",
            "    name='Flask-Cors',",
            "    version=__version__,",
            "    url='https://github.com/corydolphin/flask-cors',",
            "    license='MIT',",
            "    author='Cory Dolphin',",
            "    author_email='corydolphin@gmail.com',",
            "    description=\"A Flask extension adding a decorator for CORS support\",",
            "    long_description=open('README.rst').read(),",
            "    packages=['flask_cors'],",
            "    zip_safe=False,",
            "    include_package_data=True,",
            "    platforms='any',",
            "    install_requires=install_requires,",
            "    tests_require=[",
            "        'nose'",
            "    ],",
            "    test_suite='nose.collector',",
            "    classifiers=[",
            "        'Environment :: Web Environment',",
            "        'Intended Audience :: Developers',",
            "        'License :: OSI Approved :: MIT License',",
            "        'Operating System :: OS Independent',",
            "        'Programming Language :: Python',",
            "        'Programming Language :: Python :: 2',",
            "        'Programming Language :: Python :: 2.7',",
            "        'Programming Language :: Python :: 3',",
            "        'Programming Language :: Python :: 3.4',",
            "        'Programming Language :: Python :: 3.5',",
            "        'Programming Language :: Python :: 3.6',",
            "        'Programming Language :: Python :: 3.7',",
            "        'Programming Language :: Python :: Implementation :: CPython',",
            "        'Programming Language :: Python :: Implementation :: PyPy',",
            "        'Topic :: Internet :: WWW/HTTP :: Dynamic Content',",
            "        'Topic :: Software Development :: Libraries :: Python Modules'",
            "    ]",
            ")"
        ],
        "afterPatchFile": [
            "# -*- coding: utf-8 -*-",
            "\"\"\"",
            "    setup",
            "    ~~~~",
            "    Flask-CORS is a simple extension to Flask allowing you to support cross",
            "    origin resource sharing (CORS) using a simple decorator.",
            "",
            "    :copyright: (c) 2016 by Cory Dolphin.",
            "    :license: MIT, see LICENSE for more details.",
            "\"\"\"",
            "",
            "from setuptools import setup",
            "from os.path import join, dirname",
            "",
            "with open(join(dirname(__file__), 'flask_cors/version.py'), 'r') as f:",
            "    exec(f.read())",
            "",
            "with open (join(dirname(__file__), 'requirements.txt'), 'r') as f:",
            "    install_requires = f.read().split(\"\\n\")",
            "",
            "setup(",
            "    name='Flask-Cors',",
            "    version=__version__,",
            "    url='https://github.com/corydolphin/flask-cors',",
            "    license='MIT',",
            "    author='Cory Dolphin',",
            "    author_email='corydolphin@gmail.com',",
            "    description=\"A Flask extension adding a decorator for CORS support\",",
            "    long_description=open('README.rst').read(),",
            "    packages=['flask_cors'],",
            "    zip_safe=False,",
            "    include_package_data=True,",
            "    platforms='any',",
            "    install_requires=install_requires,",
            "    tests_require=[",
            "        'nose',",
            "        'packaging'",
            "    ],",
            "    test_suite='nose.collector',",
            "    classifiers=[",
            "        'Environment :: Web Environment',",
            "        'Intended Audience :: Developers',",
            "        'License :: OSI Approved :: MIT License',",
            "        'Operating System :: OS Independent',",
            "        'Programming Language :: Python',",
            "        'Programming Language :: Python :: 2',",
            "        'Programming Language :: Python :: 2.7',",
            "        'Programming Language :: Python :: 3',",
            "        'Programming Language :: Python :: 3.4',",
            "        'Programming Language :: Python :: 3.5',",
            "        'Programming Language :: Python :: 3.6',",
            "        'Programming Language :: Python :: 3.7',",
            "        'Programming Language :: Python :: Implementation :: CPython',",
            "        'Programming Language :: Python :: Implementation :: PyPy',",
            "        'Topic :: Internet :: WWW/HTTP :: Dynamic Content',",
            "        'Topic :: Software Development :: Libraries :: Python Modules'",
            "    ]",
            ")"
        ],
        "action": [
            "0",
            "0",
            "0",
            "2",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "36": []
        },
        "addLocation": []
    }
}