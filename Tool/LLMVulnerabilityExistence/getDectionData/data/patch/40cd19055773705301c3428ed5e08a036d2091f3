{
    "django/utils/numberformat.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 27,
                "afterPatchRowNumber": 27,
                "PatchRowcode": "     # sign"
            },
            "1": {
                "beforePatchRowNumber": 28,
                "afterPatchRowNumber": 28,
                "PatchRowcode": "     sign = ''"
            },
            "2": {
                "beforePatchRowNumber": 29,
                "afterPatchRowNumber": 29,
                "PatchRowcode": "     if isinstance(number, Decimal):"
            },
            "3": {
                "beforePatchRowNumber": 30,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        str_number = '{:f}'.format(number)"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 30,
                "PatchRowcode": "+        # Format values with more than 200 digits (an arbitrary cutoff) using"
            },
            "5": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 31,
                "PatchRowcode": "+        # scientific notation to avoid high memory usage in {:f}'.format()."
            },
            "6": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 32,
                "PatchRowcode": "+        _, digits, exponent = number.as_tuple()"
            },
            "7": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 33,
                "PatchRowcode": "+        if abs(exponent) + len(digits) > 200:"
            },
            "8": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 34,
                "PatchRowcode": "+            number = '{:e}'.format(number)"
            },
            "9": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 35,
                "PatchRowcode": "+            coefficient, exponent = number.split('e')"
            },
            "10": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 36,
                "PatchRowcode": "+            # Format the coefficient."
            },
            "11": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 37,
                "PatchRowcode": "+            coefficient = format("
            },
            "12": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 38,
                "PatchRowcode": "+                coefficient, decimal_sep, decimal_pos, grouping,"
            },
            "13": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 39,
                "PatchRowcode": "+                thousand_sep, force_grouping, use_l10n,"
            },
            "14": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 40,
                "PatchRowcode": "+            )"
            },
            "15": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 41,
                "PatchRowcode": "+            return '{}e{}'.format(coefficient, exponent)"
            },
            "16": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 42,
                "PatchRowcode": "+        else:"
            },
            "17": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 43,
                "PatchRowcode": "+            str_number = '{:f}'.format(number)"
            },
            "18": {
                "beforePatchRowNumber": 31,
                "afterPatchRowNumber": 44,
                "PatchRowcode": "     else:"
            },
            "19": {
                "beforePatchRowNumber": 32,
                "afterPatchRowNumber": 45,
                "PatchRowcode": "         str_number = str(number)"
            },
            "20": {
                "beforePatchRowNumber": 33,
                "afterPatchRowNumber": 46,
                "PatchRowcode": "     if str_number[0] == '-':"
            }
        },
        "frontPatchFile": [
            "from decimal import Decimal",
            "",
            "from django.conf import settings",
            "from django.utils.safestring import mark_safe",
            "",
            "",
            "def format(number, decimal_sep, decimal_pos=None, grouping=0, thousand_sep='',",
            "           force_grouping=False, use_l10n=None):",
            "    \"\"\"",
            "    Get a number (as a number or string), and return it as a string,",
            "    using formats defined as arguments:",
            "",
            "    * decimal_sep: Decimal separator symbol (for example \".\")",
            "    * decimal_pos: Number of decimal positions",
            "    * grouping: Number of digits in every group limited by thousand separator.",
            "        For non-uniform digit grouping, it can be a sequence with the number",
            "        of digit group sizes following the format used by the Python locale",
            "        module in locale.localeconv() LC_NUMERIC grouping (e.g. (3, 2, 0)).",
            "    * thousand_sep: Thousand separator symbol (for example \",\")",
            "    \"\"\"",
            "    use_grouping = (use_l10n or (use_l10n is None and settings.USE_L10N)) and settings.USE_THOUSAND_SEPARATOR",
            "    use_grouping = use_grouping or force_grouping",
            "    use_grouping = use_grouping and grouping != 0",
            "    # Make the common case fast",
            "    if isinstance(number, int) and not use_grouping and not decimal_pos:",
            "        return mark_safe(str(number))",
            "    # sign",
            "    sign = ''",
            "    if isinstance(number, Decimal):",
            "        str_number = '{:f}'.format(number)",
            "    else:",
            "        str_number = str(number)",
            "    if str_number[0] == '-':",
            "        sign = '-'",
            "        str_number = str_number[1:]",
            "    # decimal part",
            "    if '.' in str_number:",
            "        int_part, dec_part = str_number.split('.')",
            "        if decimal_pos is not None:",
            "            dec_part = dec_part[:decimal_pos]",
            "    else:",
            "        int_part, dec_part = str_number, ''",
            "    if decimal_pos is not None:",
            "        dec_part = dec_part + ('0' * (decimal_pos - len(dec_part)))",
            "    dec_part = dec_part and decimal_sep + dec_part",
            "    # grouping",
            "    if use_grouping:",
            "        try:",
            "            # if grouping is a sequence",
            "            intervals = list(grouping)",
            "        except TypeError:",
            "            # grouping is a single value",
            "            intervals = [grouping, 0]",
            "        active_interval = intervals.pop(0)",
            "        int_part_gd = ''",
            "        cnt = 0",
            "        for digit in int_part[::-1]:",
            "            if cnt and cnt == active_interval:",
            "                if intervals:",
            "                    active_interval = intervals.pop(0) or active_interval",
            "                int_part_gd += thousand_sep[::-1]",
            "                cnt = 0",
            "            int_part_gd += digit",
            "            cnt += 1",
            "        int_part = int_part_gd[::-1]",
            "    return sign + int_part + dec_part"
        ],
        "afterPatchFile": [
            "from decimal import Decimal",
            "",
            "from django.conf import settings",
            "from django.utils.safestring import mark_safe",
            "",
            "",
            "def format(number, decimal_sep, decimal_pos=None, grouping=0, thousand_sep='',",
            "           force_grouping=False, use_l10n=None):",
            "    \"\"\"",
            "    Get a number (as a number or string), and return it as a string,",
            "    using formats defined as arguments:",
            "",
            "    * decimal_sep: Decimal separator symbol (for example \".\")",
            "    * decimal_pos: Number of decimal positions",
            "    * grouping: Number of digits in every group limited by thousand separator.",
            "        For non-uniform digit grouping, it can be a sequence with the number",
            "        of digit group sizes following the format used by the Python locale",
            "        module in locale.localeconv() LC_NUMERIC grouping (e.g. (3, 2, 0)).",
            "    * thousand_sep: Thousand separator symbol (for example \",\")",
            "    \"\"\"",
            "    use_grouping = (use_l10n or (use_l10n is None and settings.USE_L10N)) and settings.USE_THOUSAND_SEPARATOR",
            "    use_grouping = use_grouping or force_grouping",
            "    use_grouping = use_grouping and grouping != 0",
            "    # Make the common case fast",
            "    if isinstance(number, int) and not use_grouping and not decimal_pos:",
            "        return mark_safe(str(number))",
            "    # sign",
            "    sign = ''",
            "    if isinstance(number, Decimal):",
            "        # Format values with more than 200 digits (an arbitrary cutoff) using",
            "        # scientific notation to avoid high memory usage in {:f}'.format().",
            "        _, digits, exponent = number.as_tuple()",
            "        if abs(exponent) + len(digits) > 200:",
            "            number = '{:e}'.format(number)",
            "            coefficient, exponent = number.split('e')",
            "            # Format the coefficient.",
            "            coefficient = format(",
            "                coefficient, decimal_sep, decimal_pos, grouping,",
            "                thousand_sep, force_grouping, use_l10n,",
            "            )",
            "            return '{}e{}'.format(coefficient, exponent)",
            "        else:",
            "            str_number = '{:f}'.format(number)",
            "    else:",
            "        str_number = str(number)",
            "    if str_number[0] == '-':",
            "        sign = '-'",
            "        str_number = str_number[1:]",
            "    # decimal part",
            "    if '.' in str_number:",
            "        int_part, dec_part = str_number.split('.')",
            "        if decimal_pos is not None:",
            "            dec_part = dec_part[:decimal_pos]",
            "    else:",
            "        int_part, dec_part = str_number, ''",
            "    if decimal_pos is not None:",
            "        dec_part = dec_part + ('0' * (decimal_pos - len(dec_part)))",
            "    dec_part = dec_part and decimal_sep + dec_part",
            "    # grouping",
            "    if use_grouping:",
            "        try:",
            "            # if grouping is a sequence",
            "            intervals = list(grouping)",
            "        except TypeError:",
            "            # grouping is a single value",
            "            intervals = [grouping, 0]",
            "        active_interval = intervals.pop(0)",
            "        int_part_gd = ''",
            "        cnt = 0",
            "        for digit in int_part[::-1]:",
            "            if cnt and cnt == active_interval:",
            "                if intervals:",
            "                    active_interval = intervals.pop(0) or active_interval",
            "                int_part_gd += thousand_sep[::-1]",
            "                cnt = 0",
            "            int_part_gd += digit",
            "            cnt += 1",
            "        int_part = int_part_gd[::-1]",
            "    return sign + int_part + dec_part"
        ],
        "action": [
            "0",
            "0",
            "0",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "30": [
                "format"
            ]
        },
        "addLocation": []
    }
}