{
    "Tests/test_tiff_crashes.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 19,
                "afterPatchRowNumber": 19,
                "PatchRowcode": " "
            },
            "1": {
                "beforePatchRowNumber": 20,
                "afterPatchRowNumber": 20,
                "PatchRowcode": " "
            },
            "2": {
                "beforePatchRowNumber": 21,
                "afterPatchRowNumber": 21,
                "PatchRowcode": " @pytest.mark.parametrize("
            },
            "3": {
                "beforePatchRowNumber": 22,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    \"test_file\", [\"Tests/images/crash_1.tif\", \"Tests/images/crash_2.tif\"]"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 22,
                "PatchRowcode": "+    \"test_file\","
            },
            "5": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 23,
                "PatchRowcode": "+    ["
            },
            "6": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 24,
                "PatchRowcode": "+        \"Tests/images/crash_1.tif\","
            },
            "7": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 25,
                "PatchRowcode": "+        \"Tests/images/crash_2.tif\","
            },
            "8": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 26,
                "PatchRowcode": "+        \"Tests/images/crash-2020-10-test.tif\","
            },
            "9": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 27,
                "PatchRowcode": "+    ],"
            },
            "10": {
                "beforePatchRowNumber": 23,
                "afterPatchRowNumber": 28,
                "PatchRowcode": " )"
            },
            "11": {
                "beforePatchRowNumber": 24,
                "afterPatchRowNumber": 29,
                "PatchRowcode": " @pytest.mark.filterwarnings(\"ignore:Possibly corrupt EXIF data\")"
            },
            "12": {
                "beforePatchRowNumber": 25,
                "afterPatchRowNumber": 30,
                "PatchRowcode": " @pytest.mark.filterwarnings(\"ignore:Metadata warning\")"
            }
        },
        "frontPatchFile": [
            "# Reproductions/tests for crashes/read errors in TiffDecode.c",
            "",
            "# When run in Python, all of these images should fail for",
            "# one reason or another, either as a buffer overrun,",
            "# unrecognized datastream, or truncated image file.",
            "# There shouldn't be any segfaults.",
            "#",
            "# if run like",
            "# `valgrind --tool=memcheck pytest test_tiff_crashes.py 2>&1 | grep TiffDecode.c`",
            "# the output should be empty. There may be Python issues",
            "# in the valgrind especially if run in a debug Python",
            "# version.",
            "",
            "import pytest",
            "",
            "from PIL import Image",
            "",
            "from .helper import on_ci",
            "",
            "",
            "@pytest.mark.parametrize(",
            "    \"test_file\", [\"Tests/images/crash_1.tif\", \"Tests/images/crash_2.tif\"]",
            ")",
            "@pytest.mark.filterwarnings(\"ignore:Possibly corrupt EXIF data\")",
            "@pytest.mark.filterwarnings(\"ignore:Metadata warning\")",
            "def test_tiff_crashes(test_file):",
            "    try:",
            "        with Image.open(test_file) as im:",
            "            im.load()",
            "    except FileNotFoundError:",
            "        if not on_ci():",
            "            pytest.skip(\"test image not found\")",
            "            return",
            "        raise",
            "    except OSError:",
            "        pass"
        ],
        "afterPatchFile": [
            "# Reproductions/tests for crashes/read errors in TiffDecode.c",
            "",
            "# When run in Python, all of these images should fail for",
            "# one reason or another, either as a buffer overrun,",
            "# unrecognized datastream, or truncated image file.",
            "# There shouldn't be any segfaults.",
            "#",
            "# if run like",
            "# `valgrind --tool=memcheck pytest test_tiff_crashes.py 2>&1 | grep TiffDecode.c`",
            "# the output should be empty. There may be Python issues",
            "# in the valgrind especially if run in a debug Python",
            "# version.",
            "",
            "import pytest",
            "",
            "from PIL import Image",
            "",
            "from .helper import on_ci",
            "",
            "",
            "@pytest.mark.parametrize(",
            "    \"test_file\",",
            "    [",
            "        \"Tests/images/crash_1.tif\",",
            "        \"Tests/images/crash_2.tif\",",
            "        \"Tests/images/crash-2020-10-test.tif\",",
            "    ],",
            ")",
            "@pytest.mark.filterwarnings(\"ignore:Possibly corrupt EXIF data\")",
            "@pytest.mark.filterwarnings(\"ignore:Metadata warning\")",
            "def test_tiff_crashes(test_file):",
            "    try:",
            "        with Image.open(test_file) as im:",
            "            im.load()",
            "    except FileNotFoundError:",
            "        if not on_ci():",
            "            pytest.skip(\"test image not found\")",
            "            return",
            "        raise",
            "    except OSError:",
            "        pass"
        ],
        "action": [
            "0",
            "0",
            "0",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "22": []
        },
        "addLocation": []
    }
}