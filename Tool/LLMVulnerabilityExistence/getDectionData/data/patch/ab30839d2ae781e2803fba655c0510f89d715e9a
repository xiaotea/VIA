{
    "sockeye/config.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 29,
                "afterPatchRowNumber": 29,
                "PatchRowcode": "         super().__init__(name, bases, new_kwds)"
            },
            "1": {
                "beforePatchRowNumber": 30,
                "afterPatchRowNumber": 30,
                "PatchRowcode": " "
            },
            "2": {
                "beforePatchRowNumber": 31,
                "afterPatchRowNumber": 31,
                "PatchRowcode": " "
            },
            "3": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 32,
                "PatchRowcode": "+class SafeLoaderWithTuple(yaml.SafeLoader):"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 33,
                "PatchRowcode": "+    def construct_python_tuple(self, node):"
            },
            "5": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 34,
                "PatchRowcode": "+        return tuple(self.construct_sequence(node))"
            },
            "6": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 35,
                "PatchRowcode": "+"
            },
            "7": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 36,
                "PatchRowcode": "+"
            },
            "8": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 37,
                "PatchRowcode": "+SafeLoaderWithTuple.add_constructor("
            },
            "9": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 38,
                "PatchRowcode": "+    u'tag:yaml.org,2002:python/tuple',"
            },
            "10": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 39,
                "PatchRowcode": "+    SafeLoaderWithTuple.construct_python_tuple"
            },
            "11": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 40,
                "PatchRowcode": "+)"
            },
            "12": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 41,
                "PatchRowcode": "+"
            },
            "13": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 42,
                "PatchRowcode": "+"
            },
            "14": {
                "beforePatchRowNumber": 32,
                "afterPatchRowNumber": 43,
                "PatchRowcode": " @dataclass"
            },
            "15": {
                "beforePatchRowNumber": 33,
                "afterPatchRowNumber": 44,
                "PatchRowcode": " class Config(yaml.YAMLObject, metaclass=TaggedYamlObjectMetaclass):"
            },
            "16": {
                "beforePatchRowNumber": 34,
                "afterPatchRowNumber": 45,
                "PatchRowcode": "     \"\"\""
            },
            "17": {
                "beforePatchRowNumber": 35,
                "afterPatchRowNumber": 46,
                "PatchRowcode": "     Base configuration object YAML (de-)serialization."
            },
            "18": {
                "beforePatchRowNumber": 36,
                "afterPatchRowNumber": 47,
                "PatchRowcode": "     Actual Configuration should subclass this object."
            },
            "19": {
                "beforePatchRowNumber": 37,
                "afterPatchRowNumber": 48,
                "PatchRowcode": "     \"\"\""
            },
            "20": {
                "beforePatchRowNumber": 38,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    yaml_loader = yaml.UnsafeLoader  # type: ignore"
            },
            "21": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 49,
                "PatchRowcode": "+    yaml_loader = SafeLoaderWithTuple  # type: ignore"
            },
            "22": {
                "beforePatchRowNumber": 39,
                "afterPatchRowNumber": 50,
                "PatchRowcode": " "
            },
            "23": {
                "beforePatchRowNumber": 40,
                "afterPatchRowNumber": 51,
                "PatchRowcode": "     def save(self, fname: str):"
            },
            "24": {
                "beforePatchRowNumber": 41,
                "afterPatchRowNumber": 52,
                "PatchRowcode": "         \"\"\""
            },
            "25": {
                "beforePatchRowNumber": 56,
                "afterPatchRowNumber": 67,
                "PatchRowcode": "         :return: Configuration."
            },
            "26": {
                "beforePatchRowNumber": 57,
                "afterPatchRowNumber": 68,
                "PatchRowcode": "         \"\"\""
            },
            "27": {
                "beforePatchRowNumber": 58,
                "afterPatchRowNumber": 69,
                "PatchRowcode": "         with open(fname) as inp:"
            },
            "28": {
                "beforePatchRowNumber": 59,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            obj = yaml.load(inp, Loader=yaml.UnsafeLoader)  # type: ignore"
            },
            "29": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 70,
                "PatchRowcode": "+            obj = yaml.load(inp, Loader=SafeLoaderWithTuple)  # type: ignore"
            },
            "30": {
                "beforePatchRowNumber": 60,
                "afterPatchRowNumber": 71,
                "PatchRowcode": "             return obj"
            },
            "31": {
                "beforePatchRowNumber": 61,
                "afterPatchRowNumber": 72,
                "PatchRowcode": " "
            },
            "32": {
                "beforePatchRowNumber": 62,
                "afterPatchRowNumber": 73,
                "PatchRowcode": "     def copy(self, **kwargs):"
            }
        },
        "frontPatchFile": [
            "# Copyright 2017--2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.",
            "#",
            "# Licensed under the Apache License, Version 2.0 (the \"License\"). You may not",
            "# use this file except in compliance with the License. A copy of the License",
            "# is located at",
            "#",
            "#     http://aws.amazon.com/apache2.0/",
            "#",
            "# or in the \"license\" file accompanying this file. This file is distributed on",
            "# an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either",
            "# express or implied. See the License for the specific language governing",
            "# permissions and limitations under the License.",
            "",
            "import copy",
            "import logging",
            "from dataclasses import dataclass",
            "",
            "import yaml",
            "",
            "logger = logging.getLogger(__name__)",
            "",
            "",
            "class TaggedYamlObjectMetaclass(yaml.YAMLObjectMetaclass):",
            "    def __init__(cls, name, bases, kwds):",
            "        cls.yaml_tag = \"!\" + name",
            "        new_kwds = {}",
            "        new_kwds.update(kwds)",
            "        new_kwds['yaml_tag'] = \"!\" + name",
            "        super().__init__(name, bases, new_kwds)",
            "",
            "",
            "@dataclass",
            "class Config(yaml.YAMLObject, metaclass=TaggedYamlObjectMetaclass):",
            "    \"\"\"",
            "    Base configuration object YAML (de-)serialization.",
            "    Actual Configuration should subclass this object.",
            "    \"\"\"",
            "    yaml_loader = yaml.UnsafeLoader  # type: ignore",
            "",
            "    def save(self, fname: str):",
            "        \"\"\"",
            "        Saves this Config to a file called fname.",
            "",
            "        :param fname: Name of file to store this Config in.",
            "        \"\"\"",
            "        obj = copy.deepcopy(self)",
            "        with open(fname, 'w') as out:",
            "            yaml.dump(obj, out, default_flow_style=False)",
            "",
            "    @staticmethod",
            "    def load(fname: str) -> 'Config':",
            "        \"\"\"",
            "        Returns a Config object loaded from a file.",
            "",
            "        :param fname: Name of file to load the Config from.",
            "        :return: Configuration.",
            "        \"\"\"",
            "        with open(fname) as inp:",
            "            obj = yaml.load(inp, Loader=yaml.UnsafeLoader)  # type: ignore",
            "            return obj",
            "",
            "    def copy(self, **kwargs):",
            "        \"\"\"",
            "        Create a copy of the config object, optionally modifying some of the attributes.",
            "        For example `nn_config.copy(num_hidden=512)` will create a copy of `nn_config` where the attribute `num_hidden`",
            "        will be set to the new value of num_hidden.",
            "",
            "        :param kwargs:",
            "        :return: A deep copy of the config object.",
            "        \"\"\"",
            "        copy_obj = copy.deepcopy(self)",
            "        for name, value in kwargs.items():",
            "            object.__setattr__(copy_obj, name, value)",
            "        return copy_obj",
            "",
            "    def disable_dropout(self):",
            "        \"\"\"",
            "        Sets the value of all float-valued attributes in this config (or any of its children) that contain 'dropout'",
            "        in their name to 0.0.",
            "        \"\"\"",
            "        for attr, val in self.__dict__.items():",
            "            if isinstance(val, Config):",
            "                val.disable_dropout()",
            "            elif 'dropout' in attr and isinstance(val, float):",
            "                logger.debug(\"Setting %s to 0.0\", attr)",
            "                setattr(self, attr, 0.0)"
        ],
        "afterPatchFile": [
            "# Copyright 2017--2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.",
            "#",
            "# Licensed under the Apache License, Version 2.0 (the \"License\"). You may not",
            "# use this file except in compliance with the License. A copy of the License",
            "# is located at",
            "#",
            "#     http://aws.amazon.com/apache2.0/",
            "#",
            "# or in the \"license\" file accompanying this file. This file is distributed on",
            "# an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either",
            "# express or implied. See the License for the specific language governing",
            "# permissions and limitations under the License.",
            "",
            "import copy",
            "import logging",
            "from dataclasses import dataclass",
            "",
            "import yaml",
            "",
            "logger = logging.getLogger(__name__)",
            "",
            "",
            "class TaggedYamlObjectMetaclass(yaml.YAMLObjectMetaclass):",
            "    def __init__(cls, name, bases, kwds):",
            "        cls.yaml_tag = \"!\" + name",
            "        new_kwds = {}",
            "        new_kwds.update(kwds)",
            "        new_kwds['yaml_tag'] = \"!\" + name",
            "        super().__init__(name, bases, new_kwds)",
            "",
            "",
            "class SafeLoaderWithTuple(yaml.SafeLoader):",
            "    def construct_python_tuple(self, node):",
            "        return tuple(self.construct_sequence(node))",
            "",
            "",
            "SafeLoaderWithTuple.add_constructor(",
            "    u'tag:yaml.org,2002:python/tuple',",
            "    SafeLoaderWithTuple.construct_python_tuple",
            ")",
            "",
            "",
            "@dataclass",
            "class Config(yaml.YAMLObject, metaclass=TaggedYamlObjectMetaclass):",
            "    \"\"\"",
            "    Base configuration object YAML (de-)serialization.",
            "    Actual Configuration should subclass this object.",
            "    \"\"\"",
            "    yaml_loader = SafeLoaderWithTuple  # type: ignore",
            "",
            "    def save(self, fname: str):",
            "        \"\"\"",
            "        Saves this Config to a file called fname.",
            "",
            "        :param fname: Name of file to store this Config in.",
            "        \"\"\"",
            "        obj = copy.deepcopy(self)",
            "        with open(fname, 'w') as out:",
            "            yaml.dump(obj, out, default_flow_style=False)",
            "",
            "    @staticmethod",
            "    def load(fname: str) -> 'Config':",
            "        \"\"\"",
            "        Returns a Config object loaded from a file.",
            "",
            "        :param fname: Name of file to load the Config from.",
            "        :return: Configuration.",
            "        \"\"\"",
            "        with open(fname) as inp:",
            "            obj = yaml.load(inp, Loader=SafeLoaderWithTuple)  # type: ignore",
            "            return obj",
            "",
            "    def copy(self, **kwargs):",
            "        \"\"\"",
            "        Create a copy of the config object, optionally modifying some of the attributes.",
            "        For example `nn_config.copy(num_hidden=512)` will create a copy of `nn_config` where the attribute `num_hidden`",
            "        will be set to the new value of num_hidden.",
            "",
            "        :param kwargs:",
            "        :return: A deep copy of the config object.",
            "        \"\"\"",
            "        copy_obj = copy.deepcopy(self)",
            "        for name, value in kwargs.items():",
            "            object.__setattr__(copy_obj, name, value)",
            "        return copy_obj",
            "",
            "    def disable_dropout(self):",
            "        \"\"\"",
            "        Sets the value of all float-valued attributes in this config (or any of its children) that contain 'dropout'",
            "        in their name to 0.0.",
            "        \"\"\"",
            "        for attr, val in self.__dict__.items():",
            "            if isinstance(val, Config):",
            "                val.disable_dropout()",
            "            elif 'dropout' in attr and isinstance(val, float):",
            "                logger.debug(\"Setting %s to 0.0\", attr)",
            "                setattr(self, attr, 0.0)"
        ],
        "action": [
            "0",
            "0",
            "0",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "-1",
            "0",
            "0",
            "0",
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0",
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "38": [
                "Config"
            ],
            "59": [
                "Config",
                "load"
            ]
        },
        "addLocation": [
            "sockeye.config",
            "sockeye.config.Config.yaml_loader"
        ]
    }
}