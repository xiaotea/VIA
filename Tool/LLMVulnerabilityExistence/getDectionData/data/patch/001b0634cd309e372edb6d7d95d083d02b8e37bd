{
    "django/contrib/postgres/aggregates/general.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 1,
                "afterPatchRowNumber": 1,
                "PatchRowcode": " from django.contrib.postgres.fields import JSONField"
            },
            "1": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 2,
                "PatchRowcode": "+from django.db.models import Value"
            },
            "2": {
                "beforePatchRowNumber": 2,
                "afterPatchRowNumber": 3,
                "PatchRowcode": " from django.db.models.aggregates import Aggregate"
            },
            "3": {
                "beforePatchRowNumber": 3,
                "afterPatchRowNumber": 4,
                "PatchRowcode": " "
            },
            "4": {
                "beforePatchRowNumber": 4,
                "afterPatchRowNumber": 5,
                "PatchRowcode": " __all__ = ["
            },
            "5": {
                "beforePatchRowNumber": 43,
                "afterPatchRowNumber": 44,
                "PatchRowcode": " "
            },
            "6": {
                "beforePatchRowNumber": 44,
                "afterPatchRowNumber": 45,
                "PatchRowcode": " class StringAgg(Aggregate):"
            },
            "7": {
                "beforePatchRowNumber": 45,
                "afterPatchRowNumber": 46,
                "PatchRowcode": "     function = 'STRING_AGG'"
            },
            "8": {
                "beforePatchRowNumber": 46,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    template = \"%(function)s(%(distinct)s%(expressions)s, '%(delimiter)s')\""
            },
            "9": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 47,
                "PatchRowcode": "+    template = '%(function)s(%(distinct)s%(expressions)s)'"
            },
            "10": {
                "beforePatchRowNumber": 47,
                "afterPatchRowNumber": 48,
                "PatchRowcode": " "
            },
            "11": {
                "beforePatchRowNumber": 48,
                "afterPatchRowNumber": 49,
                "PatchRowcode": "     def __init__(self, expression, delimiter, distinct=False, **extra):"
            },
            "12": {
                "beforePatchRowNumber": 49,
                "afterPatchRowNumber": 50,
                "PatchRowcode": "         distinct = 'DISTINCT ' if distinct else ''"
            },
            "13": {
                "beforePatchRowNumber": 50,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        super(StringAgg, self).__init__(expression, delimiter=delimiter, distinct=distinct, **extra)"
            },
            "14": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 51,
                "PatchRowcode": "+        delimiter_expr = Value(str(delimiter))"
            },
            "15": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 52,
                "PatchRowcode": "+        super(StringAgg, self).__init__(expression, delimiter_expr, distinct=distinct, **extra)"
            },
            "16": {
                "beforePatchRowNumber": 51,
                "afterPatchRowNumber": 53,
                "PatchRowcode": " "
            },
            "17": {
                "beforePatchRowNumber": 52,
                "afterPatchRowNumber": 54,
                "PatchRowcode": "     def convert_value(self, value, expression, connection, context):"
            },
            "18": {
                "beforePatchRowNumber": 53,
                "afterPatchRowNumber": 55,
                "PatchRowcode": "         if not value:"
            }
        },
        "frontPatchFile": [
            "from django.contrib.postgres.fields import JSONField",
            "from django.db.models.aggregates import Aggregate",
            "",
            "__all__ = [",
            "    'ArrayAgg', 'BitAnd', 'BitOr', 'BoolAnd', 'BoolOr', 'JSONBAgg', 'StringAgg',",
            "]",
            "",
            "",
            "class ArrayAgg(Aggregate):",
            "    function = 'ARRAY_AGG'",
            "",
            "    def convert_value(self, value, expression, connection, context):",
            "        if not value:",
            "            return []",
            "        return value",
            "",
            "",
            "class BitAnd(Aggregate):",
            "    function = 'BIT_AND'",
            "",
            "",
            "class BitOr(Aggregate):",
            "    function = 'BIT_OR'",
            "",
            "",
            "class BoolAnd(Aggregate):",
            "    function = 'BOOL_AND'",
            "",
            "",
            "class BoolOr(Aggregate):",
            "    function = 'BOOL_OR'",
            "",
            "",
            "class JSONBAgg(Aggregate):",
            "    function = 'JSONB_AGG'",
            "    _output_field = JSONField()",
            "",
            "    def convert_value(self, value, expression, connection, context):",
            "        if not value:",
            "            return []",
            "        return value",
            "",
            "",
            "class StringAgg(Aggregate):",
            "    function = 'STRING_AGG'",
            "    template = \"%(function)s(%(distinct)s%(expressions)s, '%(delimiter)s')\"",
            "",
            "    def __init__(self, expression, delimiter, distinct=False, **extra):",
            "        distinct = 'DISTINCT ' if distinct else ''",
            "        super(StringAgg, self).__init__(expression, delimiter=delimiter, distinct=distinct, **extra)",
            "",
            "    def convert_value(self, value, expression, connection, context):",
            "        if not value:",
            "            return ''",
            "        return value"
        ],
        "afterPatchFile": [
            "from django.contrib.postgres.fields import JSONField",
            "from django.db.models import Value",
            "from django.db.models.aggregates import Aggregate",
            "",
            "__all__ = [",
            "    'ArrayAgg', 'BitAnd', 'BitOr', 'BoolAnd', 'BoolOr', 'JSONBAgg', 'StringAgg',",
            "]",
            "",
            "",
            "class ArrayAgg(Aggregate):",
            "    function = 'ARRAY_AGG'",
            "",
            "    def convert_value(self, value, expression, connection, context):",
            "        if not value:",
            "            return []",
            "        return value",
            "",
            "",
            "class BitAnd(Aggregate):",
            "    function = 'BIT_AND'",
            "",
            "",
            "class BitOr(Aggregate):",
            "    function = 'BIT_OR'",
            "",
            "",
            "class BoolAnd(Aggregate):",
            "    function = 'BOOL_AND'",
            "",
            "",
            "class BoolOr(Aggregate):",
            "    function = 'BOOL_OR'",
            "",
            "",
            "class JSONBAgg(Aggregate):",
            "    function = 'JSONB_AGG'",
            "    _output_field = JSONField()",
            "",
            "    def convert_value(self, value, expression, connection, context):",
            "        if not value:",
            "            return []",
            "        return value",
            "",
            "",
            "class StringAgg(Aggregate):",
            "    function = 'STRING_AGG'",
            "    template = '%(function)s(%(distinct)s%(expressions)s)'",
            "",
            "    def __init__(self, expression, delimiter, distinct=False, **extra):",
            "        distinct = 'DISTINCT ' if distinct else ''",
            "        delimiter_expr = Value(str(delimiter))",
            "        super(StringAgg, self).__init__(expression, delimiter_expr, distinct=distinct, **extra)",
            "",
            "    def convert_value(self, value, expression, connection, context):",
            "        if not value:",
            "            return ''",
            "        return value"
        ],
        "action": [
            "0",
            "-1",
            "0",
            "0",
            "0",
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0",
            "2",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "46": [
                "StringAgg"
            ],
            "50": [
                "StringAgg",
                "__init__"
            ]
        },
        "addLocation": []
    }
}