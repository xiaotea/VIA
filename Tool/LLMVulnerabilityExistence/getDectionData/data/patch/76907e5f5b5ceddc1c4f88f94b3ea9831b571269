{
    "cli/src/semgrep/external/git_url_parser.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 43,
                "afterPatchRowNumber": 43,
                "PatchRowcode": "                r'(?P<resource>[a-z0-9_.-]*)'"
            },
            "1": {
                "beforePatchRowNumber": 44,
                "afterPatchRowNumber": 44,
                "PatchRowcode": "                r'[:/]*'"
            },
            "2": {
                "beforePatchRowNumber": 45,
                "afterPatchRowNumber": 45,
                "PatchRowcode": "                r'(?P<port>[\\d]+){0,1}'"
            },
            "3": {
                "beforePatchRowNumber": 46,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-               r'(?P<pathname>\\/((?P<owner>[\\w\\-]+)\\/)?'"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 46,
                "PatchRowcode": "+               r'(?P<pathname>\\/((?P<owner>[\\w\\-\\/]+)\\/)?'"
            },
            "5": {
                "beforePatchRowNumber": 47,
                "afterPatchRowNumber": 47,
                "PatchRowcode": "                r'((?P<name>[\\w\\-\\.]+?)(\\.git|\\/)?)?)$'),"
            },
            "6": {
                "beforePatchRowNumber": 48,
                "afterPatchRowNumber": 48,
                "PatchRowcode": "     re.compile(r'(git\\+)?'"
            },
            "7": {
                "beforePatchRowNumber": 49,
                "afterPatchRowNumber": 49,
                "PatchRowcode": "                r'((?P<protocol>\\w+)://)'"
            },
            "8": {
                "beforePatchRowNumber": 104,
                "afterPatchRowNumber": 104,
                "PatchRowcode": "             'owner': None,"
            },
            "9": {
                "beforePatchRowNumber": 105,
                "afterPatchRowNumber": 105,
                "PatchRowcode": "         }"
            },
            "10": {
                "beforePatchRowNumber": 106,
                "afterPatchRowNumber": 106,
                "PatchRowcode": "         for regex in POSSIBLE_REGEXES:"
            },
            "11": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 107,
                "PatchRowcode": "+            print(\"url\", self._url)"
            },
            "12": {
                "beforePatchRowNumber": 107,
                "afterPatchRowNumber": 108,
                "PatchRowcode": "             match = regex.search(self._url)"
            },
            "13": {
                "beforePatchRowNumber": 108,
                "afterPatchRowNumber": 109,
                "PatchRowcode": "             if match:"
            },
            "14": {
                "beforePatchRowNumber": 109,
                "afterPatchRowNumber": 110,
                "PatchRowcode": "                 d.update(match.groupdict())"
            }
        },
        "frontPatchFile": [
            "# This file is forked from https://github.com/coala/git-url-parse/blob/master/giturlparse/parser.py",
            "# MIT license here: https://github.com/coala/git-url-parse/blob/master/LICENSE",
            "",
            "# Copyright (c) 2017 John Dewey",
            "#",
            "#  Permission is hereby granted, free of charge, to any person obtaining a copy",
            "#  of this software and associated documentation files (the \"Software\"), to",
            "#  deal in the Software without restriction, including without limitation the",
            "#  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or",
            "#  sell copies of the Software, and to permit persons to whom the Software is",
            "#  furnished to do so, subject to the following conditions:",
            "#",
            "#  The above copyright notice and this permission notice shall be included in",
            "#  all copies or substantial portions of the Software.",
            "#",
            "#  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR",
            "#  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,",
            "#  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE",
            "#  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER",
            "#  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING",
            "#  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER",
            "#  DEALINGS IN THE SOFTWARE.",
            "",
            "import collections",
            "import re",
            "from typing import List",
            "",
            "Parsed = collections.namedtuple('Parsed', [",
            "    'pathname',",
            "    'protocols',",
            "    'protocol',",
            "    'href',",
            "    'resource',",
            "    'user',",
            "    'port',",
            "    'name',",
            "    'owner',",
            "])",
            "",
            "POSSIBLE_REGEXES = (",
            "    re.compile(r'^(?P<protocol>https?|git|ssh|rsync)\\://'",
            "               r'(?:(?P<user>.+)@)*'",
            "               r'(?P<resource>[a-z0-9_.-]*)'",
            "               r'[:/]*'",
            "               r'(?P<port>[\\d]+){0,1}'",
            "               r'(?P<pathname>\\/((?P<owner>[\\w\\-]+)\\/)?'",
            "               r'((?P<name>[\\w\\-\\.]+?)(\\.git|\\/)?)?)$'),",
            "    re.compile(r'(git\\+)?'",
            "               r'((?P<protocol>\\w+)://)'",
            "               r'((?P<user>\\w+)@)?'",
            "               r'((?P<resource>[\\w\\.\\-]+))'",
            "               r'(:(?P<port>\\d+))?'",
            "               r'(?P<pathname>(\\/(?P<owner>\\w+)/)?'",
            "               r'(\\/?(?P<name>[\\w\\-]+)(\\.git|\\/)?)?)$'),",
            "    re.compile(r'^(?:(?P<user>.+)@)*'",
            "               r'(?P<resource>[a-z0-9_.-]*)[:]*'",
            "               r'(?P<port>[\\d]+){0,1}'",
            "               r'(?P<pathname>\\/?(?P<owner>.+)/(?P<name>.+).git)$'),",
            "    re.compile(r'((?P<user>\\w+)@)?'",
            "                r'((?P<resource>[\\w\\.\\-]+))'",
            "                r'[\\:\\/]{1,2}'",
            "                r'(?P<pathname>((?P<owner>([\\w\\-]+\\/)?\\w+)/)?'",
            "                r'((?P<name>[\\w\\-]+)(\\.git|\\/)?)?)$'),",
            "    re.compile(r'((?P<user>\\w+)@)?'",
            "               r'((?P<resource>[\\w\\.\\-]+))'",
            "               r'[\\:\\/]{1,2}'",
            "               r'(?P<pathname>((?P<owner>\\w+)/)?'",
            "               r'((?P<name>[\\w\\-\\.]+)(\\.git|\\/)?)?)$'),",
            ")",
            "",
            "",
            "class ParserError(Exception):",
            "    \"\"\" Error raised when a URL can't be parsed. \"\"\"",
            "    pass",
            "",
            "",
            "class Parser(str):",
            "    \"\"\"",
            "    A class responsible for parsing a GIT URL and return a `Parsed` object.",
            "    \"\"\"",
            "",
            "    def __init__(self, url: str):",
            "        # to fix an open bug with trailing slashes: https://github.com/coala/git-url-parse/issues/46",
            "        self._url: str = url",
            "        if url[-1] == \"/\":",
            "          self._url = url[:-1]",
            "",
            "    def parse(self) -> Parsed:",
            "        \"\"\"",
            "        Parses a GIT URL and returns an object.  Raises an exception on invalid",
            "        URL.",
            "        :returns: Parsed object",
            "        :raise: :class:`.ParserError`",
            "        \"\"\"",
            "        d = {",
            "            'pathname': None,",
            "            'protocols': self._get_protocols(),",
            "            'protocol': 'ssh',",
            "            'href': self._url,",
            "            'resource': None,",
            "            'user': None,",
            "            'port': None,",
            "            'name': None,",
            "            'owner': None,",
            "        }",
            "        for regex in POSSIBLE_REGEXES:",
            "            match = regex.search(self._url)",
            "            if match:",
            "                d.update(match.groupdict())",
            "                break",
            "        else:",
            "            msg = \"Invalid URL '{}'\".format(self._url)",
            "            raise ParserError(msg)",
            "",
            "        return Parsed(**d)",
            "",
            "    def _get_protocols(self) -> List[str]:",
            "        try:",
            "            index = self._url.index('://')",
            "        except ValueError:",
            "            return []",
            "",
            "        return self._url[:index].split('+')"
        ],
        "afterPatchFile": [
            "# This file is forked from https://github.com/coala/git-url-parse/blob/master/giturlparse/parser.py",
            "# MIT license here: https://github.com/coala/git-url-parse/blob/master/LICENSE",
            "",
            "# Copyright (c) 2017 John Dewey",
            "#",
            "#  Permission is hereby granted, free of charge, to any person obtaining a copy",
            "#  of this software and associated documentation files (the \"Software\"), to",
            "#  deal in the Software without restriction, including without limitation the",
            "#  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or",
            "#  sell copies of the Software, and to permit persons to whom the Software is",
            "#  furnished to do so, subject to the following conditions:",
            "#",
            "#  The above copyright notice and this permission notice shall be included in",
            "#  all copies or substantial portions of the Software.",
            "#",
            "#  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR",
            "#  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,",
            "#  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE",
            "#  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER",
            "#  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING",
            "#  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER",
            "#  DEALINGS IN THE SOFTWARE.",
            "",
            "import collections",
            "import re",
            "from typing import List",
            "",
            "Parsed = collections.namedtuple('Parsed', [",
            "    'pathname',",
            "    'protocols',",
            "    'protocol',",
            "    'href',",
            "    'resource',",
            "    'user',",
            "    'port',",
            "    'name',",
            "    'owner',",
            "])",
            "",
            "POSSIBLE_REGEXES = (",
            "    re.compile(r'^(?P<protocol>https?|git|ssh|rsync)\\://'",
            "               r'(?:(?P<user>.+)@)*'",
            "               r'(?P<resource>[a-z0-9_.-]*)'",
            "               r'[:/]*'",
            "               r'(?P<port>[\\d]+){0,1}'",
            "               r'(?P<pathname>\\/((?P<owner>[\\w\\-\\/]+)\\/)?'",
            "               r'((?P<name>[\\w\\-\\.]+?)(\\.git|\\/)?)?)$'),",
            "    re.compile(r'(git\\+)?'",
            "               r'((?P<protocol>\\w+)://)'",
            "               r'((?P<user>\\w+)@)?'",
            "               r'((?P<resource>[\\w\\.\\-]+))'",
            "               r'(:(?P<port>\\d+))?'",
            "               r'(?P<pathname>(\\/(?P<owner>\\w+)/)?'",
            "               r'(\\/?(?P<name>[\\w\\-]+)(\\.git|\\/)?)?)$'),",
            "    re.compile(r'^(?:(?P<user>.+)@)*'",
            "               r'(?P<resource>[a-z0-9_.-]*)[:]*'",
            "               r'(?P<port>[\\d]+){0,1}'",
            "               r'(?P<pathname>\\/?(?P<owner>.+)/(?P<name>.+).git)$'),",
            "    re.compile(r'((?P<user>\\w+)@)?'",
            "                r'((?P<resource>[\\w\\.\\-]+))'",
            "                r'[\\:\\/]{1,2}'",
            "                r'(?P<pathname>((?P<owner>([\\w\\-]+\\/)?\\w+)/)?'",
            "                r'((?P<name>[\\w\\-]+)(\\.git|\\/)?)?)$'),",
            "    re.compile(r'((?P<user>\\w+)@)?'",
            "               r'((?P<resource>[\\w\\.\\-]+))'",
            "               r'[\\:\\/]{1,2}'",
            "               r'(?P<pathname>((?P<owner>\\w+)/)?'",
            "               r'((?P<name>[\\w\\-\\.]+)(\\.git|\\/)?)?)$'),",
            ")",
            "",
            "",
            "class ParserError(Exception):",
            "    \"\"\" Error raised when a URL can't be parsed. \"\"\"",
            "    pass",
            "",
            "",
            "class Parser(str):",
            "    \"\"\"",
            "    A class responsible for parsing a GIT URL and return a `Parsed` object.",
            "    \"\"\"",
            "",
            "    def __init__(self, url: str):",
            "        # to fix an open bug with trailing slashes: https://github.com/coala/git-url-parse/issues/46",
            "        self._url: str = url",
            "        if url[-1] == \"/\":",
            "          self._url = url[:-1]",
            "",
            "    def parse(self) -> Parsed:",
            "        \"\"\"",
            "        Parses a GIT URL and returns an object.  Raises an exception on invalid",
            "        URL.",
            "        :returns: Parsed object",
            "        :raise: :class:`.ParserError`",
            "        \"\"\"",
            "        d = {",
            "            'pathname': None,",
            "            'protocols': self._get_protocols(),",
            "            'protocol': 'ssh',",
            "            'href': self._url,",
            "            'resource': None,",
            "            'user': None,",
            "            'port': None,",
            "            'name': None,",
            "            'owner': None,",
            "        }",
            "        for regex in POSSIBLE_REGEXES:",
            "            print(\"url\", self._url)",
            "            match = regex.search(self._url)",
            "            if match:",
            "                d.update(match.groupdict())",
            "                break",
            "        else:",
            "            msg = \"Invalid URL '{}'\".format(self._url)",
            "            raise ParserError(msg)",
            "",
            "        return Parsed(**d)",
            "",
            "    def _get_protocols(self) -> List[str]:",
            "        try:",
            "            index = self._url.index('://')",
            "        except ValueError:",
            "            return []",
            "",
            "        return self._url[:index].split('+')"
        ],
        "action": [
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0",
            "0",
            "0",
            "0",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "46": []
        },
        "addLocation": []
    }
}