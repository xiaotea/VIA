{
    "yt_dlp/extractor/cybrary.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 105,
                "afterPatchRowNumber": 105,
                "PatchRowcode": "             'chapter': module.get('title'),"
            },
            "1": {
                "beforePatchRowNumber": 106,
                "afterPatchRowNumber": 106,
                "PatchRowcode": "             'chapter_id': str_or_none(module.get('id')),"
            },
            "2": {
                "beforePatchRowNumber": 107,
                "afterPatchRowNumber": 107,
                "PatchRowcode": "             'title': activity.get('title'),"
            },
            "3": {
                "beforePatchRowNumber": 108,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            'url': smuggle_url(f'https://player.vimeo.com/video/{vimeo_id}', {'http_headers': {'Referer': 'https://api.cybrary.it'}})"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 108,
                "PatchRowcode": "+            'url': smuggle_url(f'https://player.vimeo.com/video/{vimeo_id}', {'referer': 'https://api.cybrary.it'})"
            },
            "5": {
                "beforePatchRowNumber": 109,
                "afterPatchRowNumber": 109,
                "PatchRowcode": "         }"
            },
            "6": {
                "beforePatchRowNumber": 110,
                "afterPatchRowNumber": 110,
                "PatchRowcode": " "
            },
            "7": {
                "beforePatchRowNumber": 111,
                "afterPatchRowNumber": 111,
                "PatchRowcode": " "
            }
        },
        "frontPatchFile": [
            "from .common import InfoExtractor",
            "from ..utils import (",
            "    ExtractorError,",
            "    smuggle_url,",
            "    str_or_none,",
            "    traverse_obj,",
            "    urlencode_postdata,",
            ")",
            "",
            "",
            "class CybraryBaseIE(InfoExtractor):",
            "    _API_KEY = 'AIzaSyCX9ru6j70PX2My1Eq6Q1zoMAhuTdXlzSw'",
            "    _ENDPOINTS = {",
            "        'course': 'https://app.cybrary.it/courses/api/catalog/browse/course/{}',",
            "        'course_enrollment': 'https://app.cybrary.it/courses/api/catalog/{}/enrollment',",
            "        'enrollment': 'https://app.cybrary.it/courses/api/enrollment/{}',",
            "        'launch': 'https://app.cybrary.it/courses/api/catalog/{}/launch',",
            "        'vimeo_oembed': 'https://vimeo.com/api/oembed.json?url=https://vimeo.com/{}',",
            "    }",
            "    _NETRC_MACHINE = 'cybrary'",
            "    _TOKEN = None",
            "",
            "    def _perform_login(self, username, password):",
            "        CybraryBaseIE._TOKEN = self._download_json(",
            "            f'https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key={self._API_KEY}',",
            "            None, data=urlencode_postdata({'email': username, 'password': password, 'returnSecureToken': True}),",
            "            note='Logging in')['idToken']",
            "",
            "    def _real_initialize(self):",
            "        if not self._TOKEN:",
            "            self.raise_login_required(method='password')",
            "",
            "    def _call_api(self, endpoint, item_id):",
            "        return self._download_json(",
            "            self._ENDPOINTS[endpoint].format(item_id), item_id,",
            "            note=f'Downloading {endpoint} JSON metadata',",
            "            headers={'Authorization': f'Bearer {self._TOKEN}'})",
            "",
            "    def _get_vimeo_id(self, activity_id):",
            "        launch_api = self._call_api('launch', activity_id)",
            "",
            "        if launch_api.get('url'):",
            "            return self._search_regex(r'https?://player\\.vimeo\\.com/video/(?P<vimeo_id>[0-9]+)', launch_api['url'], 'vimeo_id')",
            "        return traverse_obj(launch_api, ('vendor_data', 'content', ..., 'videoId'), get_all=False)",
            "",
            "",
            "class CybraryIE(CybraryBaseIE):",
            "    _VALID_URL = r'https?://app\\.cybrary\\.it/immersive/(?P<enrollment>[0-9]+)/activity/(?P<id>[0-9]+)'",
            "    _TESTS = [{",
            "        'url': 'https://app.cybrary.it/immersive/12487950/activity/63102',",
            "        'md5': '9ae12d37e555cb2ed554223a71a701d0',",
            "        'info_dict': {",
            "            'id': '646609770',",
            "            'ext': 'mp4',",
            "            'title': 'Getting Started',",
            "            'thumbnail': 'https://i.vimeocdn.com/video/1301817996-76a268f0c56cff18a5cecbbdc44131eb9dda0c80eb0b3a036_1280',",
            "            'series_id': '63111',",
            "            'uploader_url': 'https://vimeo.com/user30867300',",
            "            'duration': 88,",
            "            'uploader_id': 'user30867300',",
            "            'series': 'Cybrary Orientation',",
            "            'uploader': 'Cybrary',",
            "            'chapter': 'Cybrary Orientation Series',",
            "            'chapter_id': '63110'",
            "        },",
            "        'expected_warnings': ['No authenticators for vimeo']",
            "    }, {",
            "        'url': 'https://app.cybrary.it/immersive/12747143/activity/52686',",
            "        'md5': '62f26547dccc59c44363e2a13d4ad08d',",
            "        'info_dict': {",
            "            'id': '445638073',",
            "            'ext': 'mp4',",
            "            'title': 'Azure Virtual Network IP Addressing',",
            "            'thumbnail': 'https://i.vimeocdn.com/video/936667051-1647ace66c627d4a2382185e0dae8deb830309bfddd53f8b2367b2f91e92ed0e-d_1280',",
            "            'series_id': '52733',",
            "            'uploader_url': 'https://vimeo.com/user30867300',",
            "            'duration': 426,",
            "            'uploader_id': 'user30867300',",
            "            'series': 'AZ-500: Microsoft Azure Security Technologies',",
            "            'uploader': 'Cybrary',",
            "            'chapter': 'Implement Network Security',",
            "            'chapter_id': '52693'",
            "        },",
            "        'expected_warnings': ['No authenticators for vimeo']",
            "    }]",
            "",
            "    def _real_extract(self, url):",
            "        activity_id, enrollment_id = self._match_valid_url(url).group('id', 'enrollment')",
            "        course = self._call_api('enrollment', enrollment_id)['content']",
            "        activity = traverse_obj(course, ('learning_modules', ..., 'activities', lambda _, v: int(activity_id) == v['id']), get_all=False)",
            "",
            "        if activity.get('type') not in ['Video Activity', 'Lesson Activity']:",
            "            raise ExtractorError('The activity is not a video', expected=True)",
            "",
            "        module = next((m for m in course.get('learning_modules') or []",
            "                      if int(activity_id) in traverse_obj(m, ('activities', ..., 'id') or [])), None)",
            "",
            "        vimeo_id = self._get_vimeo_id(activity_id)",
            "",
            "        return {",
            "            '_type': 'url_transparent',",
            "            'series': traverse_obj(course, ('content_description', 'title')),",
            "            'series_id': str_or_none(traverse_obj(course, ('content_description', 'id'))),",
            "            'id': vimeo_id,",
            "            'chapter': module.get('title'),",
            "            'chapter_id': str_or_none(module.get('id')),",
            "            'title': activity.get('title'),",
            "            'url': smuggle_url(f'https://player.vimeo.com/video/{vimeo_id}', {'http_headers': {'Referer': 'https://api.cybrary.it'}})",
            "        }",
            "",
            "",
            "class CybraryCourseIE(CybraryBaseIE):",
            "    _VALID_URL = r'https://app\\.cybrary\\.it/browse/course/(?P<id>[\\w-]+)/?(?:$|[#?])'",
            "    _TESTS = [{",
            "        'url': 'https://app.cybrary.it/browse/course/az-500-microsoft-azure-security-technologies',",
            "        'info_dict': {",
            "            'id': 898,",
            "            'title': 'AZ-500: Microsoft Azure Security Technologies',",
            "            'description': 'md5:69549d379c0fc1dec92926d4e8b6fbd4'",
            "        },",
            "        'playlist_count': 59",
            "    }, {",
            "        'url': 'https://app.cybrary.it/browse/course/cybrary-orientation',",
            "        'info_dict': {",
            "            'id': 1245,",
            "            'title': 'Cybrary Orientation',",
            "            'description': 'md5:9e69ff66b32fe78744e0ad4babe2e88e'",
            "        },",
            "        'playlist_count': 4",
            "    }]",
            "",
            "    def _real_extract(self, url):",
            "        course_id = self._match_id(url)",
            "        course = self._call_api('course', course_id)",
            "        enrollment_info = self._call_api('course_enrollment', course['id'])",
            "",
            "        entries = [self.url_result(",
            "            f'https://app.cybrary.it/immersive/{enrollment_info[\"id\"]}/activity/{activity[\"id\"]}')",
            "            for activity in traverse_obj(course, ('content_item', 'learning_modules', ..., 'activities', ...))]",
            "",
            "        return self.playlist_result(",
            "            entries,",
            "            traverse_obj(course, ('content_item', 'id'), expected_type=str_or_none),",
            "            course.get('title'), course.get('short_description'))"
        ],
        "afterPatchFile": [
            "from .common import InfoExtractor",
            "from ..utils import (",
            "    ExtractorError,",
            "    smuggle_url,",
            "    str_or_none,",
            "    traverse_obj,",
            "    urlencode_postdata,",
            ")",
            "",
            "",
            "class CybraryBaseIE(InfoExtractor):",
            "    _API_KEY = 'AIzaSyCX9ru6j70PX2My1Eq6Q1zoMAhuTdXlzSw'",
            "    _ENDPOINTS = {",
            "        'course': 'https://app.cybrary.it/courses/api/catalog/browse/course/{}',",
            "        'course_enrollment': 'https://app.cybrary.it/courses/api/catalog/{}/enrollment',",
            "        'enrollment': 'https://app.cybrary.it/courses/api/enrollment/{}',",
            "        'launch': 'https://app.cybrary.it/courses/api/catalog/{}/launch',",
            "        'vimeo_oembed': 'https://vimeo.com/api/oembed.json?url=https://vimeo.com/{}',",
            "    }",
            "    _NETRC_MACHINE = 'cybrary'",
            "    _TOKEN = None",
            "",
            "    def _perform_login(self, username, password):",
            "        CybraryBaseIE._TOKEN = self._download_json(",
            "            f'https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key={self._API_KEY}',",
            "            None, data=urlencode_postdata({'email': username, 'password': password, 'returnSecureToken': True}),",
            "            note='Logging in')['idToken']",
            "",
            "    def _real_initialize(self):",
            "        if not self._TOKEN:",
            "            self.raise_login_required(method='password')",
            "",
            "    def _call_api(self, endpoint, item_id):",
            "        return self._download_json(",
            "            self._ENDPOINTS[endpoint].format(item_id), item_id,",
            "            note=f'Downloading {endpoint} JSON metadata',",
            "            headers={'Authorization': f'Bearer {self._TOKEN}'})",
            "",
            "    def _get_vimeo_id(self, activity_id):",
            "        launch_api = self._call_api('launch', activity_id)",
            "",
            "        if launch_api.get('url'):",
            "            return self._search_regex(r'https?://player\\.vimeo\\.com/video/(?P<vimeo_id>[0-9]+)', launch_api['url'], 'vimeo_id')",
            "        return traverse_obj(launch_api, ('vendor_data', 'content', ..., 'videoId'), get_all=False)",
            "",
            "",
            "class CybraryIE(CybraryBaseIE):",
            "    _VALID_URL = r'https?://app\\.cybrary\\.it/immersive/(?P<enrollment>[0-9]+)/activity/(?P<id>[0-9]+)'",
            "    _TESTS = [{",
            "        'url': 'https://app.cybrary.it/immersive/12487950/activity/63102',",
            "        'md5': '9ae12d37e555cb2ed554223a71a701d0',",
            "        'info_dict': {",
            "            'id': '646609770',",
            "            'ext': 'mp4',",
            "            'title': 'Getting Started',",
            "            'thumbnail': 'https://i.vimeocdn.com/video/1301817996-76a268f0c56cff18a5cecbbdc44131eb9dda0c80eb0b3a036_1280',",
            "            'series_id': '63111',",
            "            'uploader_url': 'https://vimeo.com/user30867300',",
            "            'duration': 88,",
            "            'uploader_id': 'user30867300',",
            "            'series': 'Cybrary Orientation',",
            "            'uploader': 'Cybrary',",
            "            'chapter': 'Cybrary Orientation Series',",
            "            'chapter_id': '63110'",
            "        },",
            "        'expected_warnings': ['No authenticators for vimeo']",
            "    }, {",
            "        'url': 'https://app.cybrary.it/immersive/12747143/activity/52686',",
            "        'md5': '62f26547dccc59c44363e2a13d4ad08d',",
            "        'info_dict': {",
            "            'id': '445638073',",
            "            'ext': 'mp4',",
            "            'title': 'Azure Virtual Network IP Addressing',",
            "            'thumbnail': 'https://i.vimeocdn.com/video/936667051-1647ace66c627d4a2382185e0dae8deb830309bfddd53f8b2367b2f91e92ed0e-d_1280',",
            "            'series_id': '52733',",
            "            'uploader_url': 'https://vimeo.com/user30867300',",
            "            'duration': 426,",
            "            'uploader_id': 'user30867300',",
            "            'series': 'AZ-500: Microsoft Azure Security Technologies',",
            "            'uploader': 'Cybrary',",
            "            'chapter': 'Implement Network Security',",
            "            'chapter_id': '52693'",
            "        },",
            "        'expected_warnings': ['No authenticators for vimeo']",
            "    }]",
            "",
            "    def _real_extract(self, url):",
            "        activity_id, enrollment_id = self._match_valid_url(url).group('id', 'enrollment')",
            "        course = self._call_api('enrollment', enrollment_id)['content']",
            "        activity = traverse_obj(course, ('learning_modules', ..., 'activities', lambda _, v: int(activity_id) == v['id']), get_all=False)",
            "",
            "        if activity.get('type') not in ['Video Activity', 'Lesson Activity']:",
            "            raise ExtractorError('The activity is not a video', expected=True)",
            "",
            "        module = next((m for m in course.get('learning_modules') or []",
            "                      if int(activity_id) in traverse_obj(m, ('activities', ..., 'id') or [])), None)",
            "",
            "        vimeo_id = self._get_vimeo_id(activity_id)",
            "",
            "        return {",
            "            '_type': 'url_transparent',",
            "            'series': traverse_obj(course, ('content_description', 'title')),",
            "            'series_id': str_or_none(traverse_obj(course, ('content_description', 'id'))),",
            "            'id': vimeo_id,",
            "            'chapter': module.get('title'),",
            "            'chapter_id': str_or_none(module.get('id')),",
            "            'title': activity.get('title'),",
            "            'url': smuggle_url(f'https://player.vimeo.com/video/{vimeo_id}', {'referer': 'https://api.cybrary.it'})",
            "        }",
            "",
            "",
            "class CybraryCourseIE(CybraryBaseIE):",
            "    _VALID_URL = r'https://app\\.cybrary\\.it/browse/course/(?P<id>[\\w-]+)/?(?:$|[#?])'",
            "    _TESTS = [{",
            "        'url': 'https://app.cybrary.it/browse/course/az-500-microsoft-azure-security-technologies',",
            "        'info_dict': {",
            "            'id': 898,",
            "            'title': 'AZ-500: Microsoft Azure Security Technologies',",
            "            'description': 'md5:69549d379c0fc1dec92926d4e8b6fbd4'",
            "        },",
            "        'playlist_count': 59",
            "    }, {",
            "        'url': 'https://app.cybrary.it/browse/course/cybrary-orientation',",
            "        'info_dict': {",
            "            'id': 1245,",
            "            'title': 'Cybrary Orientation',",
            "            'description': 'md5:9e69ff66b32fe78744e0ad4babe2e88e'",
            "        },",
            "        'playlist_count': 4",
            "    }]",
            "",
            "    def _real_extract(self, url):",
            "        course_id = self._match_id(url)",
            "        course = self._call_api('course', course_id)",
            "        enrollment_info = self._call_api('course_enrollment', course['id'])",
            "",
            "        entries = [self.url_result(",
            "            f'https://app.cybrary.it/immersive/{enrollment_info[\"id\"]}/activity/{activity[\"id\"]}')",
            "            for activity in traverse_obj(course, ('content_item', 'learning_modules', ..., 'activities', ...))]",
            "",
            "        return self.playlist_result(",
            "            entries,",
            "            traverse_obj(course, ('content_item', 'id'), expected_type=str_or_none),",
            "            course.get('title'), course.get('short_description'))"
        ],
        "action": [
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "108": [
                "CybraryIE",
                "_real_extract"
            ]
        },
        "addLocation": []
    },
    "yt_dlp/extractor/duboku.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 138,
                "afterPatchRowNumber": 138,
                "PatchRowcode": "             # of the video."
            },
            "1": {
                "beforePatchRowNumber": 139,
                "afterPatchRowNumber": 139,
                "PatchRowcode": "             return {"
            },
            "2": {
                "beforePatchRowNumber": 140,
                "afterPatchRowNumber": 140,
                "PatchRowcode": "                 '_type': 'url_transparent',"
            },
            "3": {
                "beforePatchRowNumber": 141,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-                'url': smuggle_url(data_url, {'http_headers': headers}),"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 141,
                "PatchRowcode": "+                'url': smuggle_url(data_url, {'referer': webpage_url}),"
            },
            "5": {
                "beforePatchRowNumber": 142,
                "afterPatchRowNumber": 142,
                "PatchRowcode": "                 'id': video_id,"
            },
            "6": {
                "beforePatchRowNumber": 143,
                "afterPatchRowNumber": 143,
                "PatchRowcode": "                 'title': title,"
            },
            "7": {
                "beforePatchRowNumber": 144,
                "afterPatchRowNumber": 144,
                "PatchRowcode": "                 'series': series_title,"
            }
        },
        "frontPatchFile": [
            "import re",
            "",
            "from .common import InfoExtractor",
            "from ..compat import compat_urlparse",
            "from ..utils import (",
            "    clean_html,",
            "    extract_attributes,",
            "    ExtractorError,",
            "    get_elements_by_class,",
            "    int_or_none,",
            "    js_to_json,",
            "    smuggle_url,",
            "    unescapeHTML,",
            ")",
            "",
            "",
            "def _get_elements_by_tag_and_attrib(html, tag=None, attribute=None, value=None, escape_value=True):",
            "    \"\"\"Return the content of the tag with the specified attribute in the passed HTML document\"\"\"",
            "",
            "    if tag is None:",
            "        tag = '[a-zA-Z0-9:._-]+'",
            "    if attribute is None:",
            "        attribute = ''",
            "    else:",
            "        attribute = r'\\s+(?P<attribute>%s)' % re.escape(attribute)",
            "    if value is None:",
            "        value = ''",
            "    else:",
            "        value = re.escape(value) if escape_value else value",
            "        value = '=[\\'\"]?(?P<value>%s)[\\'\"]?' % value",
            "",
            "    retlist = []",
            "    for m in re.finditer(r'''(?xs)",
            "        <(?P<tag>%s)",
            "         (?:\\s+[a-zA-Z0-9:._-]+(?:=[a-zA-Z0-9:._-]*|=\"[^\"]*\"|='[^']*'|))*?",
            "         %s%s",
            "         (?:\\s+[a-zA-Z0-9:._-]+(?:=[a-zA-Z0-9:._-]*|=\"[^\"]*\"|='[^']*'|))*?",
            "        \\s*>",
            "        (?P<content>.*?)",
            "        </\\1>",
            "    ''' % (tag, attribute, value), html):",
            "        retlist.append(m)",
            "",
            "    return retlist",
            "",
            "",
            "def _get_element_by_tag_and_attrib(html, tag=None, attribute=None, value=None, escape_value=True):",
            "    retval = _get_elements_by_tag_and_attrib(html, tag, attribute, value, escape_value)",
            "    return retval[0] if retval else None",
            "",
            "",
            "class DubokuIE(InfoExtractor):",
            "    IE_NAME = 'duboku'",
            "    IE_DESC = 'www.duboku.io'",
            "",
            "    _VALID_URL = r'(?:https?://[^/]+\\.duboku\\.io/vodplay/)(?P<id>[0-9]+-[0-9-]+)\\.html.*'",
            "    _TESTS = [{",
            "        'url': 'https://w.duboku.io/vodplay/1575-1-1.html',",
            "        'info_dict': {",
            "            'id': '1575-1-1',",
            "            'ext': 'mp4',",
            "            'series': '\u767d\u8272\u6708\u5149',",
            "            'title': 'contains:\u767d\u8272\u6708\u5149',",
            "            'season_number': 1,",
            "            'episode_number': 1,",
            "            'season': 'Season 1',",
            "            'episode_id': '1',",
            "            'season_id': '1',",
            "            'episode': 'Episode 1',",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8 download',",
            "        },",
            "    }, {",
            "        'url': 'https://w.duboku.io/vodplay/1588-1-1.html',",
            "        'info_dict': {",
            "            'id': '1588-1-1',",
            "            'ext': 'mp4',",
            "            'series': '\u4eb2\u7231\u7684\u81ea\u5df1',",
            "            'title': 'contains:\u7b2c1\u96c6',",
            "            'season_number': 1,",
            "            'episode_number': 1,",
            "            'episode': 'Episode 1',",
            "            'season': 'Season 1',",
            "            'episode_id': '1',",
            "            'season_id': '1',",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8 download',",
            "        },",
            "    }]",
            "",
            "    _PLAYER_DATA_PATTERN = r'player_data\\s*=\\s*(\\{\\s*(.*)})\\s*;?\\s*</script'",
            "",
            "    def _real_extract(self, url):",
            "        video_id = self._match_id(url)",
            "        temp = video_id.split('-')",
            "        series_id = temp[0]",
            "        season_id = temp[1]",
            "        episode_id = temp[2]",
            "",
            "        webpage_url = 'https://w.duboku.io/vodplay/%s.html' % video_id",
            "        webpage_html = self._download_webpage(webpage_url, video_id)",
            "",
            "        # extract video url",
            "",
            "        player_data = self._search_regex(",
            "            self._PLAYER_DATA_PATTERN, webpage_html, 'player_data')",
            "        player_data = self._parse_json(player_data, video_id, js_to_json)",
            "",
            "        # extract title",
            "",
            "        temp = get_elements_by_class('title', webpage_html)",
            "        series_title = None",
            "        title = None",
            "        for html in temp:",
            "            mobj = re.search(r'<a\\s+.*>(.*)</a>', html)",
            "            if mobj:",
            "                href = extract_attributes(mobj.group(0)).get('href')",
            "                if href:",
            "                    mobj1 = re.search(r'/(\\d+)\\.html', href)",
            "                    if mobj1 and mobj1.group(1) == series_id:",
            "                        series_title = clean_html(mobj.group(0))",
            "                        series_title = re.sub(r'[\\s\\r\\n\\t]+', ' ', series_title)",
            "                        title = clean_html(html)",
            "                        title = re.sub(r'[\\s\\r\\n\\t]+', ' ', title)",
            "                        break",
            "",
            "        data_url = player_data.get('url')",
            "        if not data_url:",
            "            raise ExtractorError('Cannot find url in player_data')",
            "        data_from = player_data.get('from')",
            "",
            "        # if it is an embedded iframe, maybe it's an external source",
            "        headers = {'Referer': webpage_url}",
            "        if data_from == 'iframe':",
            "            # use _type url_transparent to retain the meaningful details",
            "            # of the video.",
            "            return {",
            "                '_type': 'url_transparent',",
            "                'url': smuggle_url(data_url, {'http_headers': headers}),",
            "                'id': video_id,",
            "                'title': title,",
            "                'series': series_title,",
            "                'season_number': int_or_none(season_id),",
            "                'season_id': season_id,",
            "                'episode_number': int_or_none(episode_id),",
            "                'episode_id': episode_id,",
            "            }",
            "",
            "        formats = self._extract_m3u8_formats(data_url, video_id, 'mp4', headers=headers)",
            "",
            "        return {",
            "            'id': video_id,",
            "            'title': title,",
            "            'series': series_title,",
            "            'season_number': int_or_none(season_id),",
            "            'season_id': season_id,",
            "            'episode_number': int_or_none(episode_id),",
            "            'episode_id': episode_id,",
            "            'formats': formats,",
            "            'http_headers': headers",
            "        }",
            "",
            "",
            "class DubokuPlaylistIE(InfoExtractor):",
            "    IE_NAME = 'duboku:list'",
            "    IE_DESC = 'www.duboku.io entire series'",
            "",
            "    _VALID_URL = r'(?:https?://[^/]+\\.duboku\\.io/voddetail/)(?P<id>[0-9]+)\\.html.*'",
            "    _TESTS = [{",
            "        'url': 'https://w.duboku.io/voddetail/1575.html',",
            "        'info_dict': {",
            "            'id': 'startswith:1575',",
            "            'title': '\u767d\u8272\u6708\u5149',",
            "        },",
            "        'playlist_count': 12,",
            "    }, {",
            "        'url': 'https://w.duboku.io/voddetail/1554.html',",
            "        'info_dict': {",
            "            'id': 'startswith:1554',",
            "            'title': '\u4ee5\u5bb6\u4eba\u4e4b\u540d',",
            "        },",
            "        'playlist_mincount': 30,",
            "    }]",
            "",
            "    def _real_extract(self, url):",
            "        mobj = self._match_valid_url(url)",
            "        if mobj is None:",
            "            raise ExtractorError('Invalid URL: %s' % url)",
            "        series_id = mobj.group('id')",
            "        fragment = compat_urlparse.urlparse(url).fragment",
            "",
            "        webpage_url = 'https://w.duboku.io/voddetail/%s.html' % series_id",
            "        webpage_html = self._download_webpage(webpage_url, series_id)",
            "",
            "        # extract title",
            "",
            "        title = _get_element_by_tag_and_attrib(webpage_html, 'h1', 'class', 'title')",
            "        title = unescapeHTML(title.group('content')) if title else None",
            "        if not title:",
            "            title = self._html_search_meta('keywords', webpage_html)",
            "        if not title:",
            "            title = _get_element_by_tag_and_attrib(webpage_html, 'title')",
            "            title = unescapeHTML(title.group('content')) if title else None",
            "",
            "        # extract playlists",
            "",
            "        playlists = {}",
            "        for div in _get_elements_by_tag_and_attrib(",
            "                webpage_html, attribute='id', value='playlist\\\\d+', escape_value=False):",
            "            playlist_id = div.group('value')",
            "            playlist = []",
            "            for a in _get_elements_by_tag_and_attrib(",
            "                    div.group('content'), 'a', 'href', value='[^\\'\"]+?', escape_value=False):",
            "                playlist.append({",
            "                    'href': unescapeHTML(a.group('value')),",
            "                    'title': unescapeHTML(a.group('content'))",
            "                })",
            "            playlists[playlist_id] = playlist",
            "",
            "        # select the specified playlist if url fragment exists",
            "        playlist = None",
            "        playlist_id = None",
            "        if fragment:",
            "            playlist = playlists.get(fragment)",
            "            playlist_id = fragment",
            "        else:",
            "            first = next(iter(playlists.items()), None)",
            "            if first:",
            "                (playlist_id, playlist) = first",
            "        if not playlist:",
            "            raise ExtractorError(",
            "                'Cannot find %s' % fragment if fragment else 'Cannot extract playlist')",
            "",
            "        # return url results",
            "        return self.playlist_result([",
            "            self.url_result(",
            "                compat_urlparse.urljoin('https://w.duboku.io', x['href']),",
            "                ie=DubokuIE.ie_key(), video_title=x.get('title'))",
            "            for x in playlist], series_id + '#' + playlist_id, title)"
        ],
        "afterPatchFile": [
            "import re",
            "",
            "from .common import InfoExtractor",
            "from ..compat import compat_urlparse",
            "from ..utils import (",
            "    clean_html,",
            "    extract_attributes,",
            "    ExtractorError,",
            "    get_elements_by_class,",
            "    int_or_none,",
            "    js_to_json,",
            "    smuggle_url,",
            "    unescapeHTML,",
            ")",
            "",
            "",
            "def _get_elements_by_tag_and_attrib(html, tag=None, attribute=None, value=None, escape_value=True):",
            "    \"\"\"Return the content of the tag with the specified attribute in the passed HTML document\"\"\"",
            "",
            "    if tag is None:",
            "        tag = '[a-zA-Z0-9:._-]+'",
            "    if attribute is None:",
            "        attribute = ''",
            "    else:",
            "        attribute = r'\\s+(?P<attribute>%s)' % re.escape(attribute)",
            "    if value is None:",
            "        value = ''",
            "    else:",
            "        value = re.escape(value) if escape_value else value",
            "        value = '=[\\'\"]?(?P<value>%s)[\\'\"]?' % value",
            "",
            "    retlist = []",
            "    for m in re.finditer(r'''(?xs)",
            "        <(?P<tag>%s)",
            "         (?:\\s+[a-zA-Z0-9:._-]+(?:=[a-zA-Z0-9:._-]*|=\"[^\"]*\"|='[^']*'|))*?",
            "         %s%s",
            "         (?:\\s+[a-zA-Z0-9:._-]+(?:=[a-zA-Z0-9:._-]*|=\"[^\"]*\"|='[^']*'|))*?",
            "        \\s*>",
            "        (?P<content>.*?)",
            "        </\\1>",
            "    ''' % (tag, attribute, value), html):",
            "        retlist.append(m)",
            "",
            "    return retlist",
            "",
            "",
            "def _get_element_by_tag_and_attrib(html, tag=None, attribute=None, value=None, escape_value=True):",
            "    retval = _get_elements_by_tag_and_attrib(html, tag, attribute, value, escape_value)",
            "    return retval[0] if retval else None",
            "",
            "",
            "class DubokuIE(InfoExtractor):",
            "    IE_NAME = 'duboku'",
            "    IE_DESC = 'www.duboku.io'",
            "",
            "    _VALID_URL = r'(?:https?://[^/]+\\.duboku\\.io/vodplay/)(?P<id>[0-9]+-[0-9-]+)\\.html.*'",
            "    _TESTS = [{",
            "        'url': 'https://w.duboku.io/vodplay/1575-1-1.html',",
            "        'info_dict': {",
            "            'id': '1575-1-1',",
            "            'ext': 'mp4',",
            "            'series': '\u767d\u8272\u6708\u5149',",
            "            'title': 'contains:\u767d\u8272\u6708\u5149',",
            "            'season_number': 1,",
            "            'episode_number': 1,",
            "            'season': 'Season 1',",
            "            'episode_id': '1',",
            "            'season_id': '1',",
            "            'episode': 'Episode 1',",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8 download',",
            "        },",
            "    }, {",
            "        'url': 'https://w.duboku.io/vodplay/1588-1-1.html',",
            "        'info_dict': {",
            "            'id': '1588-1-1',",
            "            'ext': 'mp4',",
            "            'series': '\u4eb2\u7231\u7684\u81ea\u5df1',",
            "            'title': 'contains:\u7b2c1\u96c6',",
            "            'season_number': 1,",
            "            'episode_number': 1,",
            "            'episode': 'Episode 1',",
            "            'season': 'Season 1',",
            "            'episode_id': '1',",
            "            'season_id': '1',",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8 download',",
            "        },",
            "    }]",
            "",
            "    _PLAYER_DATA_PATTERN = r'player_data\\s*=\\s*(\\{\\s*(.*)})\\s*;?\\s*</script'",
            "",
            "    def _real_extract(self, url):",
            "        video_id = self._match_id(url)",
            "        temp = video_id.split('-')",
            "        series_id = temp[0]",
            "        season_id = temp[1]",
            "        episode_id = temp[2]",
            "",
            "        webpage_url = 'https://w.duboku.io/vodplay/%s.html' % video_id",
            "        webpage_html = self._download_webpage(webpage_url, video_id)",
            "",
            "        # extract video url",
            "",
            "        player_data = self._search_regex(",
            "            self._PLAYER_DATA_PATTERN, webpage_html, 'player_data')",
            "        player_data = self._parse_json(player_data, video_id, js_to_json)",
            "",
            "        # extract title",
            "",
            "        temp = get_elements_by_class('title', webpage_html)",
            "        series_title = None",
            "        title = None",
            "        for html in temp:",
            "            mobj = re.search(r'<a\\s+.*>(.*)</a>', html)",
            "            if mobj:",
            "                href = extract_attributes(mobj.group(0)).get('href')",
            "                if href:",
            "                    mobj1 = re.search(r'/(\\d+)\\.html', href)",
            "                    if mobj1 and mobj1.group(1) == series_id:",
            "                        series_title = clean_html(mobj.group(0))",
            "                        series_title = re.sub(r'[\\s\\r\\n\\t]+', ' ', series_title)",
            "                        title = clean_html(html)",
            "                        title = re.sub(r'[\\s\\r\\n\\t]+', ' ', title)",
            "                        break",
            "",
            "        data_url = player_data.get('url')",
            "        if not data_url:",
            "            raise ExtractorError('Cannot find url in player_data')",
            "        data_from = player_data.get('from')",
            "",
            "        # if it is an embedded iframe, maybe it's an external source",
            "        headers = {'Referer': webpage_url}",
            "        if data_from == 'iframe':",
            "            # use _type url_transparent to retain the meaningful details",
            "            # of the video.",
            "            return {",
            "                '_type': 'url_transparent',",
            "                'url': smuggle_url(data_url, {'referer': webpage_url}),",
            "                'id': video_id,",
            "                'title': title,",
            "                'series': series_title,",
            "                'season_number': int_or_none(season_id),",
            "                'season_id': season_id,",
            "                'episode_number': int_or_none(episode_id),",
            "                'episode_id': episode_id,",
            "            }",
            "",
            "        formats = self._extract_m3u8_formats(data_url, video_id, 'mp4', headers=headers)",
            "",
            "        return {",
            "            'id': video_id,",
            "            'title': title,",
            "            'series': series_title,",
            "            'season_number': int_or_none(season_id),",
            "            'season_id': season_id,",
            "            'episode_number': int_or_none(episode_id),",
            "            'episode_id': episode_id,",
            "            'formats': formats,",
            "            'http_headers': headers",
            "        }",
            "",
            "",
            "class DubokuPlaylistIE(InfoExtractor):",
            "    IE_NAME = 'duboku:list'",
            "    IE_DESC = 'www.duboku.io entire series'",
            "",
            "    _VALID_URL = r'(?:https?://[^/]+\\.duboku\\.io/voddetail/)(?P<id>[0-9]+)\\.html.*'",
            "    _TESTS = [{",
            "        'url': 'https://w.duboku.io/voddetail/1575.html',",
            "        'info_dict': {",
            "            'id': 'startswith:1575',",
            "            'title': '\u767d\u8272\u6708\u5149',",
            "        },",
            "        'playlist_count': 12,",
            "    }, {",
            "        'url': 'https://w.duboku.io/voddetail/1554.html',",
            "        'info_dict': {",
            "            'id': 'startswith:1554',",
            "            'title': '\u4ee5\u5bb6\u4eba\u4e4b\u540d',",
            "        },",
            "        'playlist_mincount': 30,",
            "    }]",
            "",
            "    def _real_extract(self, url):",
            "        mobj = self._match_valid_url(url)",
            "        if mobj is None:",
            "            raise ExtractorError('Invalid URL: %s' % url)",
            "        series_id = mobj.group('id')",
            "        fragment = compat_urlparse.urlparse(url).fragment",
            "",
            "        webpage_url = 'https://w.duboku.io/voddetail/%s.html' % series_id",
            "        webpage_html = self._download_webpage(webpage_url, series_id)",
            "",
            "        # extract title",
            "",
            "        title = _get_element_by_tag_and_attrib(webpage_html, 'h1', 'class', 'title')",
            "        title = unescapeHTML(title.group('content')) if title else None",
            "        if not title:",
            "            title = self._html_search_meta('keywords', webpage_html)",
            "        if not title:",
            "            title = _get_element_by_tag_and_attrib(webpage_html, 'title')",
            "            title = unescapeHTML(title.group('content')) if title else None",
            "",
            "        # extract playlists",
            "",
            "        playlists = {}",
            "        for div in _get_elements_by_tag_and_attrib(",
            "                webpage_html, attribute='id', value='playlist\\\\d+', escape_value=False):",
            "            playlist_id = div.group('value')",
            "            playlist = []",
            "            for a in _get_elements_by_tag_and_attrib(",
            "                    div.group('content'), 'a', 'href', value='[^\\'\"]+?', escape_value=False):",
            "                playlist.append({",
            "                    'href': unescapeHTML(a.group('value')),",
            "                    'title': unescapeHTML(a.group('content'))",
            "                })",
            "            playlists[playlist_id] = playlist",
            "",
            "        # select the specified playlist if url fragment exists",
            "        playlist = None",
            "        playlist_id = None",
            "        if fragment:",
            "            playlist = playlists.get(fragment)",
            "            playlist_id = fragment",
            "        else:",
            "            first = next(iter(playlists.items()), None)",
            "            if first:",
            "                (playlist_id, playlist) = first",
            "        if not playlist:",
            "            raise ExtractorError(",
            "                'Cannot find %s' % fragment if fragment else 'Cannot extract playlist')",
            "",
            "        # return url results",
            "        return self.playlist_result([",
            "            self.url_result(",
            "                compat_urlparse.urljoin('https://w.duboku.io', x['href']),",
            "                ie=DubokuIE.ie_key(), video_title=x.get('title'))",
            "            for x in playlist], series_id + '#' + playlist_id, title)"
        ],
        "action": [
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "141": [
                "DubokuIE",
                "_real_extract"
            ]
        },
        "addLocation": []
    },
    "yt_dlp/extractor/embedly.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 106,
                "afterPatchRowNumber": 106,
                "PatchRowcode": "             return self.url_result(src, YoutubeTabIE)"
            },
            "1": {
                "beforePatchRowNumber": 107,
                "afterPatchRowNumber": 107,
                "PatchRowcode": "         return self.url_result(smuggle_url("
            },
            "2": {
                "beforePatchRowNumber": 108,
                "afterPatchRowNumber": 108,
                "PatchRowcode": "             urllib.parse.unquote(traverse_obj(qs, ('src', 0), ('url', 0))),"
            },
            "3": {
                "beforePatchRowNumber": 109,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            {'http_headers': {'Referer': url}}))"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 109,
                "PatchRowcode": "+            {'referer': url}))"
            }
        },
        "frontPatchFile": [
            "import re",
            "import urllib.parse",
            "",
            "from .common import InfoExtractor",
            "from .youtube import YoutubeTabIE",
            "from ..utils import parse_qs, smuggle_url, traverse_obj",
            "",
            "",
            "class EmbedlyIE(InfoExtractor):",
            "    _VALID_URL = r'https?://(?:www|cdn\\.)?embedly\\.com/widgets/media\\.html\\?(?:[^#]*?&)?(?:src|url)=(?:[^#&]+)'",
            "    _TESTS = [{",
            "        'url': 'https://cdn.embedly.com/widgets/media.html?src=http%3A%2F%2Fwww.youtube.com%2Fembed%2Fvideoseries%3Flist%3DUUGLim4T2loE5rwCMdpCIPVg&url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DSU4fj_aEMVw%26list%3DUUGLim4T2loE5rwCMdpCIPVg&image=http%3A%2F%2Fi.ytimg.com%2Fvi%2FSU4fj_aEMVw%2Fhqdefault.jpg&key=8ee8a2e6a8cc47aab1a5ee67f9a178e0&type=text%2Fhtml&schema=youtube&autoplay=1',",
            "        'info_dict': {",
            "            'id': 'UUGLim4T2loE5rwCMdpCIPVg',",
            "            'modified_date': '20221225',",
            "            'view_count': int,",
            "            'uploader_url': 'https://www.youtube.com/@TraciHinesMusic',",
            "            'channel_id': 'UCGLim4T2loE5rwCMdpCIPVg',",
            "            'uploader': 'TraciJHines',",
            "            'channel_url': 'https://www.youtube.com/@TraciHinesMusic',",
            "            'channel': 'TraciJHines',",
            "            'availability': 'public',",
            "            'uploader_id': 'UCGLim4T2loE5rwCMdpCIPVg',",
            "            'description': '',",
            "            'tags': [],",
            "            'title': 'Uploads from TraciJHines',",
            "        },",
            "        'playlist_mincount': 10,",
            "    }, {",
            "        'url': 'https://cdn.embedly.com/widgets/media.html?src=http%3A%2F%2Fwww.youtube.com%2Fembed%2Fvideoseries%3Flist%3DUUGLim4T2loE5rwCMdpCIPVg&url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DSU4fj_aEMVw%26list%3DUUGLim4T2loE5rwCMdpCIPVg&image=http%3A%2F%2Fi.ytimg.com%2Fvi%2FSU4fj_aEMVw%2Fhqdefault.jpg&key=8ee8a2e6a8cc47aab1a5ee67f9a178e0&type=text%2Fhtml&schema=youtube&autoplay=1',",
            "        'params': {'noplaylist': True},",
            "        'info_dict': {",
            "            'id': 'SU4fj_aEMVw',",
            "            'ext': 'mp4',",
            "            'title': 'I\\'m on Patreon!',",
            "            'age_limit': 0,",
            "            'categories': ['Entertainment'],",
            "            'thumbnail': 'https://i.ytimg.com/vi_webp/SU4fj_aEMVw/maxresdefault.webp',",
            "            'live_status': 'not_live',",
            "            'playable_in_embed': True,",
            "            'channel': 'TraciJHines',",
            "            'uploader_id': 'TraciJHines',",
            "            'channel_url': 'https://www.youtube.com/channel/UCGLim4T2loE5rwCMdpCIPVg',",
            "            'uploader_url': 'http://www.youtube.com/user/TraciJHines',",
            "            'upload_date': '20150211',",
            "            'duration': 282,",
            "            'availability': 'public',",
            "            'channel_follower_count': int,",
            "            'tags': 'count:39',",
            "            'view_count': int,",
            "            'comment_count': int,",
            "            'channel_id': 'UCGLim4T2loE5rwCMdpCIPVg',",
            "            'like_count': int,",
            "            'uploader': 'TraciJHines',",
            "            'description': 'md5:8af6425f50bd46fbf29f3db0fc3a8364',",
            "            'chapters': list,",
            "",
            "        },",
            "    }, {",
            "        'url': 'https://cdn.embedly.com/widgets/media.html?src=https://player.vimeo.com/video/1234567?h=abcdefgh',",
            "        'only_matching': True,",
            "    }]",
            "",
            "    _WEBPAGE_TESTS = [{",
            "        'url': 'http://www.permacultureetc.com/2022/12/comment-greffer-facilement-les-arbres-fruitiers.html',",
            "        'info_dict': {",
            "            'id': 'pfUK_ADTvgY',",
            "            'ext': 'mp4',",
            "            'title': 'Comment greffer facilement les arbres fruitiers ? (mois par mois)',",
            "            'description': 'md5:d3a876995e522f138aabb48e040bfb4c',",
            "            'view_count': int,",
            "            'upload_date': '20221210',",
            "            'comment_count': int,",
            "            'live_status': 'not_live',",
            "            'channel_id': 'UCsM4_jihNFYe4CtSkXvDR-Q',",
            "            'channel_follower_count': int,",
            "            'tags': ['permaculture', 'jardinage', 'dekarz', 'autonomie', 'greffe', 'fruitiers', 'arbres', 'jardin for\u00eat', 'for\u00eat comestible', 'damien'],",
            "            'playable_in_embed': True,",
            "            'uploader': 'permaculture agro\u00e9cologie etc...',",
            "            'channel': 'permaculture agro\u00e9cologie etc...',",
            "            'thumbnail': 'https://i.ytimg.com/vi/pfUK_ADTvgY/sddefault.jpg',",
            "            'duration': 1526,",
            "            'channel_url': 'https://www.youtube.com/channel/UCsM4_jihNFYe4CtSkXvDR-Q',",
            "            'age_limit': 0,",
            "            'uploader_id': 'permacultureetc',",
            "            'like_count': int,",
            "            'uploader_url': 'http://www.youtube.com/user/permacultureetc',",
            "            'categories': ['Education'],",
            "            'availability': 'public',",
            "        },",
            "    }]",
            "",
            "    @classmethod",
            "    def _extract_from_webpage(cls, url, webpage):",
            "        # Bypass \"ie=cls\" and suitable check",
            "        for mobj in re.finditer(r'class=[\"\\']embedly-card[\"\\'][^>]href=[\"\\'](?P<url>[^\"\\']+)', webpage):",
            "            yield cls.url_result(mobj.group('url'))",
            "",
            "        for mobj in re.finditer(r'class=[\"\\']embedly-embed[\"\\'][^>]src=[\"\\'][^\"\\']*url=(?P<url>[^&]+)', webpage):",
            "            yield cls.url_result(urllib.parse.unquote(mobj.group('url')))",
            "",
            "    def _real_extract(self, url):",
            "        qs = parse_qs(url)",
            "        src = urllib.parse.unquote(traverse_obj(qs, ('url', 0)) or '')",
            "        if src and YoutubeTabIE.suitable(src):",
            "            return self.url_result(src, YoutubeTabIE)",
            "        return self.url_result(smuggle_url(",
            "            urllib.parse.unquote(traverse_obj(qs, ('src', 0), ('url', 0))),",
            "            {'http_headers': {'Referer': url}}))"
        ],
        "afterPatchFile": [
            "import re",
            "import urllib.parse",
            "",
            "from .common import InfoExtractor",
            "from .youtube import YoutubeTabIE",
            "from ..utils import parse_qs, smuggle_url, traverse_obj",
            "",
            "",
            "class EmbedlyIE(InfoExtractor):",
            "    _VALID_URL = r'https?://(?:www|cdn\\.)?embedly\\.com/widgets/media\\.html\\?(?:[^#]*?&)?(?:src|url)=(?:[^#&]+)'",
            "    _TESTS = [{",
            "        'url': 'https://cdn.embedly.com/widgets/media.html?src=http%3A%2F%2Fwww.youtube.com%2Fembed%2Fvideoseries%3Flist%3DUUGLim4T2loE5rwCMdpCIPVg&url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DSU4fj_aEMVw%26list%3DUUGLim4T2loE5rwCMdpCIPVg&image=http%3A%2F%2Fi.ytimg.com%2Fvi%2FSU4fj_aEMVw%2Fhqdefault.jpg&key=8ee8a2e6a8cc47aab1a5ee67f9a178e0&type=text%2Fhtml&schema=youtube&autoplay=1',",
            "        'info_dict': {",
            "            'id': 'UUGLim4T2loE5rwCMdpCIPVg',",
            "            'modified_date': '20221225',",
            "            'view_count': int,",
            "            'uploader_url': 'https://www.youtube.com/@TraciHinesMusic',",
            "            'channel_id': 'UCGLim4T2loE5rwCMdpCIPVg',",
            "            'uploader': 'TraciJHines',",
            "            'channel_url': 'https://www.youtube.com/@TraciHinesMusic',",
            "            'channel': 'TraciJHines',",
            "            'availability': 'public',",
            "            'uploader_id': 'UCGLim4T2loE5rwCMdpCIPVg',",
            "            'description': '',",
            "            'tags': [],",
            "            'title': 'Uploads from TraciJHines',",
            "        },",
            "        'playlist_mincount': 10,",
            "    }, {",
            "        'url': 'https://cdn.embedly.com/widgets/media.html?src=http%3A%2F%2Fwww.youtube.com%2Fembed%2Fvideoseries%3Flist%3DUUGLim4T2loE5rwCMdpCIPVg&url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DSU4fj_aEMVw%26list%3DUUGLim4T2loE5rwCMdpCIPVg&image=http%3A%2F%2Fi.ytimg.com%2Fvi%2FSU4fj_aEMVw%2Fhqdefault.jpg&key=8ee8a2e6a8cc47aab1a5ee67f9a178e0&type=text%2Fhtml&schema=youtube&autoplay=1',",
            "        'params': {'noplaylist': True},",
            "        'info_dict': {",
            "            'id': 'SU4fj_aEMVw',",
            "            'ext': 'mp4',",
            "            'title': 'I\\'m on Patreon!',",
            "            'age_limit': 0,",
            "            'categories': ['Entertainment'],",
            "            'thumbnail': 'https://i.ytimg.com/vi_webp/SU4fj_aEMVw/maxresdefault.webp',",
            "            'live_status': 'not_live',",
            "            'playable_in_embed': True,",
            "            'channel': 'TraciJHines',",
            "            'uploader_id': 'TraciJHines',",
            "            'channel_url': 'https://www.youtube.com/channel/UCGLim4T2loE5rwCMdpCIPVg',",
            "            'uploader_url': 'http://www.youtube.com/user/TraciJHines',",
            "            'upload_date': '20150211',",
            "            'duration': 282,",
            "            'availability': 'public',",
            "            'channel_follower_count': int,",
            "            'tags': 'count:39',",
            "            'view_count': int,",
            "            'comment_count': int,",
            "            'channel_id': 'UCGLim4T2loE5rwCMdpCIPVg',",
            "            'like_count': int,",
            "            'uploader': 'TraciJHines',",
            "            'description': 'md5:8af6425f50bd46fbf29f3db0fc3a8364',",
            "            'chapters': list,",
            "",
            "        },",
            "    }, {",
            "        'url': 'https://cdn.embedly.com/widgets/media.html?src=https://player.vimeo.com/video/1234567?h=abcdefgh',",
            "        'only_matching': True,",
            "    }]",
            "",
            "    _WEBPAGE_TESTS = [{",
            "        'url': 'http://www.permacultureetc.com/2022/12/comment-greffer-facilement-les-arbres-fruitiers.html',",
            "        'info_dict': {",
            "            'id': 'pfUK_ADTvgY',",
            "            'ext': 'mp4',",
            "            'title': 'Comment greffer facilement les arbres fruitiers ? (mois par mois)',",
            "            'description': 'md5:d3a876995e522f138aabb48e040bfb4c',",
            "            'view_count': int,",
            "            'upload_date': '20221210',",
            "            'comment_count': int,",
            "            'live_status': 'not_live',",
            "            'channel_id': 'UCsM4_jihNFYe4CtSkXvDR-Q',",
            "            'channel_follower_count': int,",
            "            'tags': ['permaculture', 'jardinage', 'dekarz', 'autonomie', 'greffe', 'fruitiers', 'arbres', 'jardin for\u00eat', 'for\u00eat comestible', 'damien'],",
            "            'playable_in_embed': True,",
            "            'uploader': 'permaculture agro\u00e9cologie etc...',",
            "            'channel': 'permaculture agro\u00e9cologie etc...',",
            "            'thumbnail': 'https://i.ytimg.com/vi/pfUK_ADTvgY/sddefault.jpg',",
            "            'duration': 1526,",
            "            'channel_url': 'https://www.youtube.com/channel/UCsM4_jihNFYe4CtSkXvDR-Q',",
            "            'age_limit': 0,",
            "            'uploader_id': 'permacultureetc',",
            "            'like_count': int,",
            "            'uploader_url': 'http://www.youtube.com/user/permacultureetc',",
            "            'categories': ['Education'],",
            "            'availability': 'public',",
            "        },",
            "    }]",
            "",
            "    @classmethod",
            "    def _extract_from_webpage(cls, url, webpage):",
            "        # Bypass \"ie=cls\" and suitable check",
            "        for mobj in re.finditer(r'class=[\"\\']embedly-card[\"\\'][^>]href=[\"\\'](?P<url>[^\"\\']+)', webpage):",
            "            yield cls.url_result(mobj.group('url'))",
            "",
            "        for mobj in re.finditer(r'class=[\"\\']embedly-embed[\"\\'][^>]src=[\"\\'][^\"\\']*url=(?P<url>[^&]+)', webpage):",
            "            yield cls.url_result(urllib.parse.unquote(mobj.group('url')))",
            "",
            "    def _real_extract(self, url):",
            "        qs = parse_qs(url)",
            "        src = urllib.parse.unquote(traverse_obj(qs, ('url', 0)) or '')",
            "        if src and YoutubeTabIE.suitable(src):",
            "            return self.url_result(src, YoutubeTabIE)",
            "        return self.url_result(smuggle_url(",
            "            urllib.parse.unquote(traverse_obj(qs, ('src', 0), ('url', 0))),",
            "            {'referer': url}))"
        ],
        "action": [
            "0",
            "0",
            "0",
            "2",
            "2"
        ],
        "dele_reviseLocation": {
            "109": [
                "EmbedlyIE",
                "_real_extract"
            ]
        },
        "addLocation": []
    },
    "yt_dlp/extractor/generic.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 17,
                "afterPatchRowNumber": 17,
                "PatchRowcode": "     determine_protocol,"
            },
            "1": {
                "beforePatchRowNumber": 18,
                "afterPatchRowNumber": 18,
                "PatchRowcode": "     dict_get,"
            },
            "2": {
                "beforePatchRowNumber": 19,
                "afterPatchRowNumber": 19,
                "PatchRowcode": "     extract_basic_auth,"
            },
            "3": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 20,
                "PatchRowcode": "+    filter_dict,"
            },
            "4": {
                "beforePatchRowNumber": 20,
                "afterPatchRowNumber": 21,
                "PatchRowcode": "     format_field,"
            },
            "5": {
                "beforePatchRowNumber": 21,
                "afterPatchRowNumber": 22,
                "PatchRowcode": "     int_or_none,"
            },
            "6": {
                "beforePatchRowNumber": 22,
                "afterPatchRowNumber": 23,
                "PatchRowcode": "     is_html,"
            },
            "7": {
                "beforePatchRowNumber": 2435,
                "afterPatchRowNumber": 2436,
                "PatchRowcode": "         # to accept raw bytes and being able to download only a chunk."
            },
            "8": {
                "beforePatchRowNumber": 2436,
                "afterPatchRowNumber": 2437,
                "PatchRowcode": "         # It may probably better to solve this by checking Content-Type for application/octet-stream"
            },
            "9": {
                "beforePatchRowNumber": 2437,
                "afterPatchRowNumber": 2438,
                "PatchRowcode": "         # after a HEAD request, but not sure if we can rely on this."
            },
            "10": {
                "beforePatchRowNumber": 2438,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        full_response = self._request_webpage(url, video_id, headers={"
            },
            "11": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 2439,
                "PatchRowcode": "+        full_response = self._request_webpage(url, video_id, headers=filter_dict({"
            },
            "12": {
                "beforePatchRowNumber": 2439,
                "afterPatchRowNumber": 2440,
                "PatchRowcode": "             'Accept-Encoding': 'identity',"
            },
            "13": {
                "beforePatchRowNumber": 2440,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            **smuggled_data.get('http_headers', {})"
            },
            "14": {
                "beforePatchRowNumber": 2441,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        })"
            },
            "15": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 2441,
                "PatchRowcode": "+            'Referer': smuggled_data.get('referer'),"
            },
            "16": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 2442,
                "PatchRowcode": "+        }))"
            },
            "17": {
                "beforePatchRowNumber": 2442,
                "afterPatchRowNumber": 2443,
                "PatchRowcode": "         new_url = full_response.url"
            },
            "18": {
                "beforePatchRowNumber": 2443,
                "afterPatchRowNumber": 2444,
                "PatchRowcode": "         url = urllib.parse.urlparse(url)._replace(scheme=urllib.parse.urlparse(new_url).scheme).geturl()"
            },
            "19": {
                "beforePatchRowNumber": 2444,
                "afterPatchRowNumber": 2445,
                "PatchRowcode": "         if new_url != extract_basic_auth(url)[0]:"
            },
            "20": {
                "beforePatchRowNumber": 2458,
                "afterPatchRowNumber": 2459,
                "PatchRowcode": "         m = re.match(r'^(?P<type>audio|video|application(?=/(?:ogg$|(?:vnd\\.apple\\.|x-)?mpegurl)))/(?P<format_id>[^;\\s]+)', content_type)"
            },
            "21": {
                "beforePatchRowNumber": 2459,
                "afterPatchRowNumber": 2460,
                "PatchRowcode": "         if m:"
            },
            "22": {
                "beforePatchRowNumber": 2460,
                "afterPatchRowNumber": 2461,
                "PatchRowcode": "             self.report_detected('direct video link')"
            },
            "23": {
                "beforePatchRowNumber": 2461,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            headers = smuggled_data.get('http_headers', {})"
            },
            "24": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 2462,
                "PatchRowcode": "+            headers = filter_dict({'Referer': smuggled_data.get('referer')})"
            },
            "25": {
                "beforePatchRowNumber": 2462,
                "afterPatchRowNumber": 2463,
                "PatchRowcode": "             format_id = str(m.group('format_id'))"
            },
            "26": {
                "beforePatchRowNumber": 2463,
                "afterPatchRowNumber": 2464,
                "PatchRowcode": "             ext = determine_ext(url, default_ext=None) or urlhandle_detect_ext(full_response)"
            },
            "27": {
                "beforePatchRowNumber": 2464,
                "afterPatchRowNumber": 2465,
                "PatchRowcode": "             subtitles = {}"
            },
            "28": {
                "beforePatchRowNumber": 2710,
                "afterPatchRowNumber": 2711,
                "PatchRowcode": "                 'url': smuggle_url(json_ld['url'], {"
            },
            "29": {
                "beforePatchRowNumber": 2711,
                "afterPatchRowNumber": 2712,
                "PatchRowcode": "                     'force_videoid': video_id,"
            },
            "30": {
                "beforePatchRowNumber": 2712,
                "afterPatchRowNumber": 2713,
                "PatchRowcode": "                     'to_generic': True,"
            },
            "31": {
                "beforePatchRowNumber": 2713,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-                    'http_headers': {'Referer': url},"
            },
            "32": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 2714,
                "PatchRowcode": "+                    'referer': url,"
            },
            "33": {
                "beforePatchRowNumber": 2714,
                "afterPatchRowNumber": 2715,
                "PatchRowcode": "                 }),"
            },
            "34": {
                "beforePatchRowNumber": 2715,
                "afterPatchRowNumber": 2716,
                "PatchRowcode": "             }, json_ld)]"
            },
            "35": {
                "beforePatchRowNumber": 2716,
                "afterPatchRowNumber": 2717,
                "PatchRowcode": " "
            }
        },
        "frontPatchFile": [
            "import os",
            "import re",
            "import types",
            "import urllib.parse",
            "import xml.etree.ElementTree",
            "",
            "from .common import InfoExtractor  # isort: split",
            "from .commonprotocols import RtmpIE",
            "from .youtube import YoutubeIE",
            "from ..compat import compat_etree_fromstring",
            "from ..utils import (",
            "    KNOWN_EXTENSIONS,",
            "    MEDIA_EXTENSIONS,",
            "    ExtractorError,",
            "    UnsupportedError,",
            "    determine_ext,",
            "    determine_protocol,",
            "    dict_get,",
            "    extract_basic_auth,",
            "    format_field,",
            "    int_or_none,",
            "    is_html,",
            "    js_to_json,",
            "    merge_dicts,",
            "    mimetype2ext,",
            "    orderedSet,",
            "    parse_duration,",
            "    parse_resolution,",
            "    smuggle_url,",
            "    str_or_none,",
            "    traverse_obj,",
            "    try_call,",
            "    unescapeHTML,",
            "    unified_timestamp,",
            "    unsmuggle_url,",
            "    update_url_query,",
            "    urlhandle_detect_ext,",
            "    url_or_none,",
            "    urljoin,",
            "    variadic,",
            "    xpath_attr,",
            "    xpath_text,",
            "    xpath_with_ns,",
            ")",
            "",
            "",
            "class GenericIE(InfoExtractor):",
            "    IE_DESC = 'Generic downloader that works on some sites'",
            "    _VALID_URL = r'.*'",
            "    IE_NAME = 'generic'",
            "    _NETRC_MACHINE = False  # Suppress username warning",
            "    _TESTS = [",
            "        # Direct link to a video",
            "        {",
            "            'url': 'http://media.w3.org/2010/05/sintel/trailer.mp4',",
            "            'md5': '67d406c2bcb6af27fa886f31aa934bbe',",
            "            'info_dict': {",
            "                'id': 'trailer',",
            "                'ext': 'mp4',",
            "                'title': 'trailer',",
            "                'upload_date': '20100513',",
            "                'direct': True,",
            "                'timestamp': 1273772943.0,",
            "            }",
            "        },",
            "        # Direct link to media delivered compressed (until Accept-Encoding is *)",
            "        {",
            "            'url': 'http://calimero.tk/muzik/FictionJunction-Parallel_Hearts.flac',",
            "            'md5': '128c42e68b13950268b648275386fc74',",
            "            'info_dict': {",
            "                'id': 'FictionJunction-Parallel_Hearts',",
            "                'ext': 'flac',",
            "                'title': 'FictionJunction-Parallel_Hearts',",
            "                'upload_date': '20140522',",
            "            },",
            "            'expected_warnings': [",
            "                'URL could be a direct video link, returning it as such.'",
            "            ],",
            "            'skip': 'URL invalid',",
            "        },",
            "        # Direct download with broken HEAD",
            "        {",
            "            'url': 'http://ai-radio.org:8000/radio.opus',",
            "            'info_dict': {",
            "                'id': 'radio',",
            "                'ext': 'opus',",
            "                'title': 'radio',",
            "            },",
            "            'params': {",
            "                'skip_download': True,  # infinite live stream",
            "            },",
            "            'expected_warnings': [",
            "                r'501.*Not Implemented',",
            "                r'400.*Bad Request',",
            "            ],",
            "        },",
            "        # Direct link with incorrect MIME type",
            "        {",
            "            'url': 'http://ftp.nluug.nl/video/nluug/2014-11-20_nj14/zaal-2/5_Lennart_Poettering_-_Systemd.webm',",
            "            'md5': '4ccbebe5f36706d85221f204d7eb5913',",
            "            'info_dict': {",
            "                'url': 'http://ftp.nluug.nl/video/nluug/2014-11-20_nj14/zaal-2/5_Lennart_Poettering_-_Systemd.webm',",
            "                'id': '5_Lennart_Poettering_-_Systemd',",
            "                'ext': 'webm',",
            "                'title': '5_Lennart_Poettering_-_Systemd',",
            "                'upload_date': '20141120',",
            "                'direct': True,",
            "                'timestamp': 1416498816.0,",
            "            },",
            "            'expected_warnings': [",
            "                'URL could be a direct video link, returning it as such.'",
            "            ]",
            "        },",
            "        # RSS feed",
            "        {",
            "            'url': 'http://phihag.de/2014/youtube-dl/rss2.xml',",
            "            'info_dict': {",
            "                'id': 'https://phihag.de/2014/youtube-dl/rss2.xml',",
            "                'title': 'Zero Punctuation',",
            "                'description': 're:.*groundbreaking video review series.*'",
            "            },",
            "            'playlist_mincount': 11,",
            "        },",
            "        # RSS feed with enclosure",
            "        {",
            "            'url': 'http://podcastfeeds.nbcnews.com/audio/podcast/MSNBC-MADDOW-NETCAST-M4V.xml',",
            "            'info_dict': {",
            "                'id': 'http://podcastfeeds.nbcnews.com/nbcnews/video/podcast/MSNBC-MADDOW-NETCAST-M4V.xml',",
            "                'title': 'MSNBC Rachel Maddow (video)',",
            "                'description': 're:.*her unique approach to storytelling.*',",
            "            },",
            "            'playlist': [{",
            "                'info_dict': {",
            "                    'ext': 'mov',",
            "                    'id': 'pdv_maddow_netcast_mov-12-03-2020-223726',",
            "                    'title': 'MSNBC Rachel Maddow (video) - 12-03-2020-223726',",
            "                    'description': 're:.*her unique approach to storytelling.*',",
            "                    'upload_date': '20201204',",
            "                },",
            "            }],",
            "            'skip': 'Dead link',",
            "        },",
            "        # RSS feed with item with description and thumbnails",
            "        {",
            "            'url': 'https://anchor.fm/s/dd00e14/podcast/rss',",
            "            'info_dict': {",
            "                'id': 'https://anchor.fm/s/dd00e14/podcast/rss',",
            "                'title': 're:.*100% Hydrogen.*',",
            "                'description': 're:.*In this episode.*',",
            "            },",
            "            'playlist': [{",
            "                'info_dict': {",
            "                    'ext': 'm4a',",
            "                    'id': '818a5d38-01cd-152f-2231-ee479677fa82',",
            "                    'title': 're:Hydrogen!',",
            "                    'description': 're:.*In this episode we are going.*',",
            "                    'timestamp': 1567977776,",
            "                    'upload_date': '20190908',",
            "                    'duration': 423,",
            "                    'thumbnail': r're:^https?://.*\\.jpg$',",
            "                    'episode_number': 1,",
            "                    'season_number': 1,",
            "                    'age_limit': 0,",
            "                    'season': 'Season 1',",
            "                    'direct': True,",
            "                    'episode': 'Episode 1',",
            "                },",
            "            }],",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # RSS feed with enclosures and unsupported link URLs",
            "        {",
            "            'url': 'http://www.hellointernet.fm/podcast?format=rss',",
            "            'info_dict': {",
            "                'id': 'http://www.hellointernet.fm/podcast?format=rss',",
            "                'description': 'CGP Grey and Brady Haran talk about YouTube, life, work, whatever.',",
            "                'title': 'Hello Internet',",
            "            },",
            "            'playlist_mincount': 100,",
            "        },",
            "        # RSS feed with guid",
            "        {",
            "            'url': 'https://www.omnycontent.com/d/playlist/a7b4f8fe-59d9-4afc-a79a-a90101378abf/bf2c1d80-3656-4449-9d00-a903004e8f84/efbff746-e7c1-463a-9d80-a903004e8f8f/podcast.rss',",
            "            'info_dict': {",
            "                'id': 'https://www.omnycontent.com/d/playlist/a7b4f8fe-59d9-4afc-a79a-a90101378abf/bf2c1d80-3656-4449-9d00-a903004e8f84/efbff746-e7c1-463a-9d80-a903004e8f8f/podcast.rss',",
            "                'description': 'md5:be809a44b63b0c56fb485caf68685520',",
            "                'title': 'The Little Red Podcast',",
            "            },",
            "            'playlist_mincount': 76,",
            "        },",
            "        # SMIL from http://videolectures.net/promogram_igor_mekjavic_eng",
            "        {",
            "            'url': 'http://videolectures.net/promogram_igor_mekjavic_eng/video/1/smil.xml',",
            "            'info_dict': {",
            "                'id': 'smil',",
            "                'ext': 'mp4',",
            "                'title': 'Automatics, robotics and biocybernetics',",
            "                'description': 'md5:815fc1deb6b3a2bff99de2d5325be482',",
            "                'upload_date': '20130627',",
            "                'formats': 'mincount:16',",
            "                'subtitles': 'mincount:1',",
            "            },",
            "            'params': {",
            "                'force_generic_extractor': True,",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # SMIL from http://www1.wdr.de/mediathek/video/livestream/index.html",
            "        {",
            "            'url': 'http://metafilegenerator.de/WDR/WDR_FS/hds/hds.smil',",
            "            'info_dict': {",
            "                'id': 'hds',",
            "                'ext': 'flv',",
            "                'title': 'hds',",
            "                'formats': 'mincount:1',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # SMIL from https://www.restudy.dk/video/play/id/1637",
            "        {",
            "            'url': 'https://www.restudy.dk/awsmedia/SmilDirectory/video_1637.xml',",
            "            'info_dict': {",
            "                'id': 'video_1637',",
            "                'ext': 'flv',",
            "                'title': 'video_1637',",
            "                'formats': 'mincount:3',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # SMIL from http://adventure.howstuffworks.com/5266-cool-jobs-iditarod-musher-video.htm",
            "        {",
            "            'url': 'http://services.media.howstuffworks.com/videos/450221/smil-service.smil',",
            "            'info_dict': {",
            "                'id': 'smil-service',",
            "                'ext': 'flv',",
            "                'title': 'smil-service',",
            "                'formats': 'mincount:1',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # SMIL from http://new.livestream.com/CoheedandCambria/WebsterHall/videos/4719370",
            "        {",
            "            'url': 'http://api.new.livestream.com/accounts/1570303/events/1585861/videos/4719370.smil',",
            "            'info_dict': {",
            "                'id': '4719370',",
            "                'ext': 'mp4',",
            "                'title': '571de1fd-47bc-48db-abf9-238872a58d1f',",
            "                'formats': 'mincount:3',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # XSPF playlist from http://www.telegraaf.nl/tv/nieuws/binnenland/24353229/__Tikibad_ontruimd_wegens_brand__.html",
            "        {",
            "            'url': 'http://www.telegraaf.nl/xml/playlist/2015/8/7/mZlp2ctYIUEB.xspf',",
            "            'info_dict': {",
            "                'id': 'mZlp2ctYIUEB',",
            "                'ext': 'mp4',",
            "                'title': 'Tikibad ontruimd wegens brand',",
            "                'description': 'md5:05ca046ff47b931f9b04855015e163a4',",
            "                'thumbnail': r're:^https?://.*\\.jpg$',",
            "                'duration': 33,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'skip': '404 Not Found',",
            "        },",
            "        # MPD from http://dash-mse-test.appspot.com/media.html",
            "        {",
            "            'url': 'http://yt-dash-mse-test.commondatastorage.googleapis.com/media/car-20120827-manifest.mpd',",
            "            'md5': '4b57baab2e30d6eb3a6a09f0ba57ef53',",
            "            'info_dict': {",
            "                'id': 'car-20120827-manifest',",
            "                'ext': 'mp4',",
            "                'title': 'car-20120827-manifest',",
            "                'formats': 'mincount:9',",
            "                'upload_date': '20130904',",
            "                'timestamp': 1378272859.0,",
            "            },",
            "        },",
            "        # m3u8 served with Content-Type: audio/x-mpegURL; charset=utf-8",
            "        {",
            "            'url': 'http://once.unicornmedia.com/now/master/playlist/bb0b18ba-64f5-4b1b-a29f-0ac252f06b68/77a785f3-5188-4806-b788-0893a61634ed/93677179-2d99-4ef4-9e17-fe70d49abfbf/content.m3u8',",
            "            'info_dict': {",
            "                'id': 'content',",
            "                'ext': 'mp4',",
            "                'title': 'content',",
            "                'formats': 'mincount:8',",
            "            },",
            "            'params': {",
            "                # m3u8 downloads",
            "                'skip_download': True,",
            "            },",
            "            'skip': 'video gone',",
            "        },",
            "        # m3u8 served with Content-Type: text/plain",
            "        {",
            "            'url': 'http://www.nacentapps.com/m3u8/index.m3u8',",
            "            'info_dict': {",
            "                'id': 'index',",
            "                'ext': 'mp4',",
            "                'title': 'index',",
            "                'upload_date': '20140720',",
            "                'formats': 'mincount:11',",
            "            },",
            "            'params': {",
            "                # m3u8 downloads",
            "                'skip_download': True,",
            "            },",
            "            'skip': 'video gone',",
            "        },",
            "        # google redirect",
            "        {",
            "            'url': 'http://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&ved=0CCUQtwIwAA&url=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DcmQHVoWB5FY&ei=F-sNU-LLCaXk4QT52ICQBQ&usg=AFQjCNEw4hL29zgOohLXvpJ-Bdh2bils1Q&bvm=bv.61965928,d.bGE',",
            "            'info_dict': {",
            "                'id': 'cmQHVoWB5FY',",
            "                'ext': 'mp4',",
            "                'upload_date': '20130224',",
            "                'uploader_id': '@TheVerge',",
            "                'description': r're:^Chris Ziegler takes a look at the\\.*',",
            "                'uploader': 'The Verge',",
            "                'title': 'First Firefox OS phones side-by-side',",
            "            },",
            "            'params': {",
            "                'skip_download': False,",
            "            }",
            "        },",
            "        {",
            "            # redirect in Refresh HTTP header",
            "            'url': 'https://www.facebook.com/l.php?u=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DpO8h3EaFRdo&h=TAQHsoToz&enc=AZN16h-b6o4Zq9pZkCCdOLNKMN96BbGMNtcFwHSaazus4JHT_MFYkAA-WARTX2kvsCIdlAIyHZjl6d33ILIJU7Jzwk_K3mcenAXoAzBNoZDI_Q7EXGDJnIhrGkLXo_LJ_pAa2Jzbx17UHMd3jAs--6j2zaeto5w9RTn8T_1kKg3fdC5WPX9Dbb18vzH7YFX0eSJmoa6SP114rvlkw6pkS1-T&s=1',",
            "            'info_dict': {",
            "                'id': 'pO8h3EaFRdo',",
            "                'ext': 'mp4',",
            "                'title': 'Tripeo Boiler Room x Dekmantel Festival DJ Set',",
            "                'description': 'md5:6294cc1af09c4049e0652b51a2df10d5',",
            "                'upload_date': '20150917',",
            "                'uploader_id': 'brtvofficial',",
            "                'uploader': 'Boiler Room',",
            "            },",
            "            'params': {",
            "                'skip_download': False,",
            "            },",
            "        },",
            "        {",
            "            'url': 'http://www.hodiho.fr/2013/02/regis-plante-sa-jeep.html',",
            "            'md5': '85b90ccc9d73b4acd9138d3af4c27f89',",
            "            'info_dict': {",
            "                'id': '13601338388002',",
            "                'ext': 'mp4',",
            "                'uploader': 'www.hodiho.fr',",
            "                'title': 'R\\u00e9gis plante sa Jeep',",
            "            }",
            "        },",
            "        # bandcamp page with custom domain",
            "        {",
            "            'add_ie': ['Bandcamp'],",
            "            'url': 'http://bronyrock.com/track/the-pony-mash',",
            "            'info_dict': {",
            "                'id': '3235767654',",
            "                'ext': 'mp3',",
            "                'title': 'The Pony Mash',",
            "                'uploader': 'M_Pallante',",
            "            },",
            "            'skip': 'There is a limit of 200 free downloads / month for the test song',",
            "        },",
            "        # ooyala video",
            "        {",
            "            'url': 'http://www.rollingstone.com/music/videos/norwegian-dj-cashmere-cat-goes-spartan-on-with-me-premiere-20131219',",
            "            'md5': '166dd577b433b4d4ebfee10b0824d8ff',",
            "            'info_dict': {",
            "                'id': 'BwY2RxaTrTkslxOfcan0UCf0YqyvWysJ',",
            "                'ext': 'mp4',",
            "                'title': '2cc213299525360.mov',  # that's what we get",
            "                'duration': 238.231,",
            "            },",
            "            'add_ie': ['Ooyala'],",
            "        },",
            "        {",
            "            # ooyala video embedded with http://player.ooyala.com/iframe.js",
            "            'url': 'http://www.macrumors.com/2015/07/24/steve-jobs-the-man-in-the-machine-first-trailer/',",
            "            'info_dict': {",
            "                'id': 'p0MGJndjoG5SOKqO_hZJuZFPB-Tr5VgB',",
            "                'ext': 'mp4',",
            "                'title': '\"Steve Jobs: Man in the Machine\" trailer',",
            "                'description': 'The first trailer for the Alex Gibney documentary \"Steve Jobs: Man in the Machine.\"',",
            "                'duration': 135.427,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'skip': 'movie expired',",
            "        },",
            "        # ooyala video embedded with http://player.ooyala.com/static/v4/production/latest/core.min.js",
            "        {",
            "            'url': 'http://wnep.com/2017/07/22/steampunk-fest-comes-to-honesdale/',",
            "            'info_dict': {",
            "                'id': 'lwYWYxYzE6V5uJMjNGyKtwwiw9ZJD7t2',",
            "                'ext': 'mp4',",
            "                'title': 'Steampunk Fest Comes to Honesdale',",
            "                'duration': 43.276,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            }",
            "        },",
            "        # embed.ly video",
            "        {",
            "            'url': 'http://www.tested.com/science/weird/460206-tested-grinding-coffee-2000-frames-second/',",
            "            'info_dict': {",
            "                'id': '9ODmcdjQcHQ',",
            "                'ext': 'mp4',",
            "                'title': 'Tested: Grinding Coffee at 2000 Frames Per Second',",
            "                'upload_date': '20140225',",
            "                'description': 'md5:06a40fbf30b220468f1e0957c0f558ff',",
            "                'uploader': 'Tested',",
            "                'uploader_id': 'testedcom',",
            "            },",
            "            # No need to test YoutubeIE here",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # funnyordie embed",
            "        {",
            "            'url': 'http://www.theguardian.com/world/2014/mar/11/obama-zach-galifianakis-between-two-ferns',",
            "            'info_dict': {",
            "                'id': '18e820ec3f',",
            "                'ext': 'mp4',",
            "                'title': 'Between Two Ferns with Zach Galifianakis: President Barack Obama',",
            "                'description': 'Episode 18: President Barack Obama sits down with Zach Galifianakis for his most memorable interview yet.',",
            "            },",
            "            # HEAD requests lead to endless 301, while GET is OK",
            "            'expected_warnings': ['301'],",
            "        },",
            "        # RUTV embed",
            "        {",
            "            'url': 'http://www.rg.ru/2014/03/15/reg-dfo/anklav-anons.html',",
            "            'info_dict': {",
            "                'id': '776940',",
            "                'ext': 'mp4',",
            "                'title': '\u041e\u0445\u043e\u0442\u0441\u043a\u043e\u0435 \u043c\u043e\u0440\u0435 \u0441\u0442\u0430\u043b\u043e \u0446\u0435\u043b\u0438\u043a\u043e\u043c \u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u043c',",
            "                'description': 'md5:5ed62483b14663e2a95ebbe115eb8f43',",
            "            },",
            "            'params': {",
            "                # m3u8 download",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # TVC embed",
            "        {",
            "            'url': 'http://sch1298sz.mskobr.ru/dou_edu/karamel_ki/filial_galleries/video/iframe_src_http_tvc_ru_video_iframe_id_55304_isplay_false_acc_video_id_channel_brand_id_11_show_episodes_episode_id_32307_frameb/',",
            "            'info_dict': {",
            "                'id': '55304',",
            "                'ext': 'mp4',",
            "                'title': '\u0414\u043e\u0448\u043a\u043e\u043b\u044c\u043d\u043e\u0435 \u0432\u043e\u0441\u043f\u0438\u0442\u0430\u043d\u0438\u0435',",
            "            },",
            "        },",
            "        # SportBox embed",
            "        {",
            "            'url': 'http://www.vestifinance.ru/articles/25753',",
            "            'info_dict': {",
            "                'id': '25753',",
            "                'title': '\u041f\u0440\u044f\u043c\u044b\u0435 \u0442\u0440\u0430\u043d\u0441\u043b\u044f\u0446\u0438\u0438 \u0441 \u0424\u043e\u0440\u0443\u043c\u0430-\u0432\u044b\u0441\u0442\u0430\u0432\u043a\u0438 \"\u0413\u043e\u0441\u0437\u0430\u043a\u0430\u0437-2013\"',",
            "            },",
            "            'playlist': [{",
            "                'info_dict': {",
            "                    'id': '370908',",
            "                    'title': '\u0413\u043e\u0441\u0437\u0430\u043a\u0430\u0437. \u0414\u0435\u043d\u044c 3',",
            "                    'ext': 'mp4',",
            "                }",
            "            }, {",
            "                'info_dict': {",
            "                    'id': '370905',",
            "                    'title': '\u0413\u043e\u0441\u0437\u0430\u043a\u0430\u0437. \u0414\u0435\u043d\u044c 2',",
            "                    'ext': 'mp4',",
            "                }",
            "            }, {",
            "                'info_dict': {",
            "                    'id': '370902',",
            "                    'title': '\u0413\u043e\u0441\u0437\u0430\u043a\u0430\u0437. \u0414\u0435\u043d\u044c 1',",
            "                    'ext': 'mp4',",
            "                }",
            "            }],",
            "            'params': {",
            "                # m3u8 download",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # Myvi.ru embed",
            "        {",
            "            'url': 'http://www.kinomyvi.tv/news/detail/Pervij-dublirovannij-trejler--Uzhastikov-_nOw1',",
            "            'info_dict': {",
            "                'id': 'f4dafcad-ff21-423d-89b5-146cfd89fa1e',",
            "                'ext': 'mp4',",
            "                'title': '\u0423\u0436\u0430\u0441\u0442\u0438\u043a\u0438, \u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u0442\u0440\u0435\u0439\u043b\u0435\u0440 (2015)',",
            "                'thumbnail': r're:^https?://.*\\.jpg$',",
            "                'duration': 153,",
            "            }",
            "        },",
            "        # XHamster embed",
            "        {",
            "            'url': 'http://www.numisc.com/forum/showthread.php?11696-FM15-which-pumiscer-was-this-%28-vid-%29-%28-alfa-as-fuck-srx-%29&s=711f5db534502e22260dec8c5e2d66d8',",
            "            'info_dict': {",
            "                'id': 'showthread',",
            "                'title': '[NSFL] [FM15] which pumiscer was this ( vid ) ( alfa as fuck srx )',",
            "            },",
            "            'playlist_mincount': 7,",
            "            # This forum does not allow <iframe> syntaxes anymore",
            "            # Now HTML tags are displayed as-is",
            "            'skip': 'No videos on this page',",
            "        },",
            "        # Embedded TED video",
            "        {",
            "            'url': 'http://en.support.wordpress.com/videos/ted-talks/',",
            "            'md5': '65fdff94098e4a607385a60c5177c638',",
            "            'info_dict': {",
            "                'id': '1969',",
            "                'ext': 'mp4',",
            "                'title': 'Hidden miracles of the natural world',",
            "                'uploader': 'Louie Schwartzberg',",
            "                'description': 'md5:8145d19d320ff3e52f28401f4c4283b9',",
            "            }",
            "        },",
            "        # nowvideo embed hidden behind percent encoding",
            "        {",
            "            'url': 'http://www.waoanime.tv/the-super-dimension-fortress-macross-episode-1/',",
            "            'md5': '2baf4ddd70f697d94b1c18cf796d5107',",
            "            'info_dict': {",
            "                'id': '06e53103ca9aa',",
            "                'ext': 'flv',",
            "                'title': 'Macross Episode 001  Watch Macross Episode 001 onl',",
            "                'description': 'No description',",
            "            },",
            "        },",
            "        # arte embed",
            "        {",
            "            'url': 'http://www.tv-replay.fr/redirection/20-03-14/x-enius-arte-10753389.html',",
            "            'md5': '7653032cbb25bf6c80d80f217055fa43',",
            "            'info_dict': {",
            "                'id': '048195-004_PLUS7-F',",
            "                'ext': 'flv',",
            "                'title': 'X:enius',",
            "                'description': 'md5:d5fdf32ef6613cdbfd516ae658abf168',",
            "                'upload_date': '20140320',",
            "            },",
            "            'params': {",
            "                'skip_download': 'Requires rtmpdump'",
            "            },",
            "            'skip': 'video gone',",
            "        },",
            "        # francetv embed",
            "        {",
            "            'url': 'http://www.tsprod.com/replay-du-concert-alcaline-de-calogero',",
            "            'info_dict': {",
            "                'id': 'EV_30231',",
            "                'ext': 'mp4',",
            "                'title': 'Alcaline, le concert avec Calogero',",
            "                'description': 'md5:61f08036dcc8f47e9cfc33aed08ffaff',",
            "                'upload_date': '20150226',",
            "                'timestamp': 1424989860,",
            "                'duration': 5400,",
            "            },",
            "            'params': {",
            "                # m3u8 downloads",
            "                'skip_download': True,",
            "            },",
            "            'expected_warnings': [",
            "                'Forbidden'",
            "            ]",
            "        },",
            "        # Cond\u00e9 Nast embed",
            "        {",
            "            'url': 'http://www.wired.com/2014/04/honda-asimo/',",
            "            'md5': 'ba0dfe966fa007657bd1443ee672db0f',",
            "            'info_dict': {",
            "                'id': '53501be369702d3275860000',",
            "                'ext': 'mp4',",
            "                'title': 'Honda\u2019s  New Asimo Robot Is More Human Than Ever',",
            "            }",
            "        },",
            "        # Dailymotion embed",
            "        {",
            "            'url': 'http://www.spi0n.com/zap-spi0n-com-n216/',",
            "            'md5': '441aeeb82eb72c422c7f14ec533999cd',",
            "            'info_dict': {",
            "                'id': 'k2mm4bCdJ6CQ2i7c8o2',",
            "                'ext': 'mp4',",
            "                'title': 'Le Zap de Spi0n n\u00b0216 - Zapping du Web',",
            "                'description': 'md5:faf028e48a461b8b7fad38f1e104b119',",
            "                'uploader': 'Spi0n',",
            "                'uploader_id': 'xgditw',",
            "                'upload_date': '20140425',",
            "                'timestamp': 1398441542,",
            "            },",
            "            'add_ie': ['Dailymotion'],",
            "        },",
            "        # DailyMail embed",
            "        {",
            "            'url': 'http://www.bumm.sk/krimi/2017/07/05/biztonsagi-kamera-buktatta-le-az-agg-ferfit-utlegelo-apolot',",
            "            'info_dict': {",
            "                'id': '1495629',",
            "                'ext': 'mp4',",
            "                'title': 'Care worker punches elderly dementia patient in head 11 times',",
            "                'description': 'md5:3a743dee84e57e48ec68bf67113199a5',",
            "            },",
            "            'add_ie': ['DailyMail'],",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # YouTube embed",
            "        {",
            "            'url': 'http://www.badzine.de/ansicht/datum/2014/06/09/so-funktioniert-die-neue-englische-badminton-liga.html',",
            "            'info_dict': {",
            "                'id': 'FXRb4ykk4S0',",
            "                'ext': 'mp4',",
            "                'title': 'The NBL Auction 2014',",
            "                'uploader': 'BADMINTON England',",
            "                'uploader_id': 'BADMINTONEvents',",
            "                'upload_date': '20140603',",
            "                'description': 'md5:9ef128a69f1e262a700ed83edb163a73',",
            "            },",
            "            'add_ie': ['Youtube'],",
            "            'params': {",
            "                'skip_download': True,",
            "            }",
            "        },",
            "        # MTVServices embed",
            "        {",
            "            'url': 'http://www.vulture.com/2016/06/new-key-peele-sketches-released.html',",
            "            'md5': 'ca1aef97695ef2c1d6973256a57e5252',",
            "            'info_dict': {",
            "                'id': '769f7ec0-0692-4d62-9b45-0d88074bffc1',",
            "                'ext': 'mp4',",
            "                'title': 'Key and Peele|October 10, 2012|2|203|Liam Neesons - Uncensored',",
            "                'description': 'Two valets share their love for movie star Liam Neesons.',",
            "                'timestamp': 1349922600,",
            "                'upload_date': '20121011',",
            "            },",
            "        },",
            "        # YouTube embed via <data-embed-url=\"\">",
            "        {",
            "            'url': 'https://play.google.com/store/apps/details?id=com.gameloft.android.ANMP.GloftA8HM',",
            "            'info_dict': {",
            "                'id': '4vAffPZIT44',",
            "                'ext': 'mp4',",
            "                'title': 'Asphalt 8: Airborne - Update - Welcome to Dubai!',",
            "                'uploader': 'Gameloft',",
            "                'uploader_id': 'gameloft',",
            "                'upload_date': '20140828',",
            "                'description': 'md5:c80da9ed3d83ae6d1876c834de03e1c4',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            }",
            "        },",
            "        # Flowplayer",
            "        {",
            "            'url': 'http://www.handjobhub.com/video/busty-blonde-siri-tit-fuck-while-wank-6313.html',",
            "            'md5': '9d65602bf31c6e20014319c7d07fba27',",
            "            'info_dict': {",
            "                'id': '5123ea6d5e5a7',",
            "                'ext': 'mp4',",
            "                'age_limit': 18,",
            "                'uploader': 'www.handjobhub.com',",
            "                'title': 'Busty Blonde Siri Tit Fuck While Wank at HandjobHub.com',",
            "            }",
            "        },",
            "        # MLB embed",
            "        {",
            "            'url': 'http://umpire-empire.com/index.php/topic/58125-laz-decides-no-thats-low/',",
            "            'md5': '96f09a37e44da40dd083e12d9a683327',",
            "            'info_dict': {",
            "                'id': '33322633',",
            "                'ext': 'mp4',",
            "                'title': 'Ump changes call to ball',",
            "                'description': 'md5:71c11215384298a172a6dcb4c2e20685',",
            "                'duration': 48,",
            "                'timestamp': 1401537900,",
            "                'upload_date': '20140531',",
            "                'thumbnail': r're:^https?://.*\\.jpg$',",
            "            },",
            "        },",
            "        # Wistia standard embed (async)",
            "        {",
            "            'url': 'https://www.getdrip.com/university/brennan-dunn-drip-workshop/',",
            "            'info_dict': {",
            "                'id': '807fafadvk',",
            "                'ext': 'mp4',",
            "                'title': 'Drip Brennan Dunn Workshop',",
            "                'description': 'a JV Webinars video from getdrip-1',",
            "                'duration': 4986.95,",
            "                'timestamp': 1463607249,",
            "                'upload_date': '20160518',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'skip': 'webpage 404 not found',",
            "        },",
            "        # Soundcloud embed",
            "        {",
            "            'url': 'http://nakedsecurity.sophos.com/2014/10/29/sscc-171-are-you-sure-that-1234-is-a-bad-password-podcast/',",
            "            'info_dict': {",
            "                'id': '174391317',",
            "                'ext': 'mp3',",
            "                'description': 'md5:ff867d6b555488ad3c52572bb33d432c',",
            "                'uploader': 'Sophos Security',",
            "                'title': 'Chet Chat 171 - Oct 29, 2014',",
            "                'upload_date': '20141029',",
            "            }",
            "        },",
            "        # Soundcloud multiple embeds",
            "        {",
            "            'url': 'http://www.guitarplayer.com/lessons/1014/legato-workout-one-hour-to-more-fluid-performance---tab/52809',",
            "            'info_dict': {",
            "                'id': '52809',",
            "                'title': 'Guitar Essentials: Legato Workout\u2014One-Hour to Fluid Performance  | TAB + AUDIO',",
            "            },",
            "            'playlist_mincount': 7,",
            "        },",
            "        # TuneIn station embed",
            "        {",
            "            'url': 'http://radiocnrv.com/promouvoir-radio-cnrv/',",
            "            'info_dict': {",
            "                'id': '204146',",
            "                'ext': 'mp3',",
            "                'title': 'CNRV',",
            "                'location': 'Paris, France',",
            "                'is_live': True,",
            "            },",
            "            'params': {",
            "                # Live stream",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # Livestream embed",
            "        {",
            "            'url': 'http://www.esa.int/Our_Activities/Space_Science/Rosetta/Philae_comet_touch-down_webcast',",
            "            'info_dict': {",
            "                'id': '67864563',",
            "                'ext': 'flv',",
            "                'upload_date': '20141112',",
            "                'title': 'Rosetta #CometLanding webcast HL 10',",
            "            }",
            "        },",
            "        # Another Livestream embed, without 'new.' in URL",
            "        {",
            "            'url': 'https://www.freespeech.org/',",
            "            'info_dict': {",
            "                'id': '123537347',",
            "                'ext': 'mp4',",
            "                'title': 're:^FSTV [0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}$',",
            "            },",
            "            'params': {",
            "                # Live stream",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # LazyYT",
            "        {",
            "            'url': 'https://skiplagged.com/',",
            "            'info_dict': {",
            "                'id': 'skiplagged',",
            "                'title': 'Skiplagged: The smart way to find cheap flights',",
            "            },",
            "            'playlist_mincount': 1,",
            "            'add_ie': ['Youtube'],",
            "        },",
            "        # Cinchcast embed",
            "        {",
            "            'url': 'http://undergroundwellness.com/podcasts/306-5-steps-to-permanent-gut-healing/',",
            "            'info_dict': {",
            "                'id': '7141703',",
            "                'ext': 'mp3',",
            "                'upload_date': '20141126',",
            "                'title': 'Jack Tips: 5 Steps to Permanent Gut Healing',",
            "            }",
            "        },",
            "        # Cinerama player",
            "        {",
            "            'url': 'http://www.abc.net.au/7.30/content/2015/s4164797.htm',",
            "            'info_dict': {",
            "                'id': '730m_DandD_1901_512k',",
            "                'ext': 'mp4',",
            "                'uploader': 'www.abc.net.au',",
            "                'title': 'Game of Thrones with dice - Dungeons and Dragons fantasy role-playing game gets new life - 19/01/2015',",
            "            }",
            "        },",
            "        # embedded viddler video",
            "        {",
            "            'url': 'http://deadspin.com/i-cant-stop-watching-john-wall-chop-the-nuggets-with-th-1681801597',",
            "            'info_dict': {",
            "                'id': '4d03aad9',",
            "                'ext': 'mp4',",
            "                'uploader': 'deadspin',",
            "                'title': 'WALL-TO-GORTAT',",
            "                'timestamp': 1422285291,",
            "                'upload_date': '20150126',",
            "            },",
            "            'add_ie': ['Viddler'],",
            "        },",
            "        # Libsyn embed",
            "        {",
            "            'url': 'http://thedailyshow.cc.com/podcast/episodetwelve',",
            "            'info_dict': {",
            "                'id': '3377616',",
            "                'ext': 'mp3',",
            "                'title': \"The Daily Show Podcast without Jon Stewart - Episode 12: Bassem Youssef: Egypt's Jon Stewart\",",
            "                'description': 'md5:601cb790edd05908957dae8aaa866465',",
            "                'upload_date': '20150220',",
            "            },",
            "            'skip': 'All The Daily Show URLs now redirect to http://www.cc.com/shows/',",
            "        },",
            "        # jwplayer YouTube",
            "        {",
            "            'url': 'http://media.nationalarchives.gov.uk/index.php/webinar-using-discovery-national-archives-online-catalogue/',",
            "            'info_dict': {",
            "                'id': 'Mrj4DVp2zeA',",
            "                'ext': 'mp4',",
            "                'upload_date': '20150212',",
            "                'uploader': 'The National Archives UK',",
            "                'description': 'md5:8078af856dca76edc42910b61273dbbf',",
            "                'uploader_id': 'NationalArchives08',",
            "                'title': 'Webinar: Using Discovery, The National Archives\u2019 online catalogue',",
            "            },",
            "        },",
            "        # jwplayer rtmp",
            "        {",
            "            'url': 'http://www.suffolk.edu/sjc/live.php',",
            "            'info_dict': {",
            "                'id': 'live',",
            "                'ext': 'flv',",
            "                'title': 'Massachusetts Supreme Judicial Court Oral Arguments',",
            "                'uploader': 'www.suffolk.edu',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'skip': 'Only has video a few mornings per month, see http://www.suffolk.edu/sjc/',",
            "        },",
            "        # jwplayer with only the json URL",
            "        {",
            "            'url': 'https://www.hollywoodreporter.com/news/general-news/dunkirk-team-reveals-what-christopher-nolan-said-oscar-win-meet-your-oscar-winner-1092454',",
            "            'info_dict': {",
            "                'id': 'TljWkvWH',",
            "                'ext': 'mp4',",
            "                'upload_date': '20180306',",
            "                'title': 'md5:91eb1862f6526415214f62c00b453936',",
            "                'description': 'md5:73048ae50ae953da10549d1d2fe9b3aa',",
            "                'timestamp': 1520367225,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # Complex jwplayer",
            "        {",
            "            'url': 'http://www.indiedb.com/games/king-machine/videos',",
            "            'info_dict': {",
            "                'id': 'videos',",
            "                'ext': 'mp4',",
            "                'title': 'king machine trailer 1',",
            "                'description': 'Browse King Machine videos & audio for sweet media. Your eyes will thank you.',",
            "                'thumbnail': r're:^https?://.*\\.jpg$',",
            "            },",
            "        },",
            "        {",
            "            # Youtube embed, formerly: Video.js embed, multiple formats",
            "            'url': 'http://ortcam.com/solidworks-\u0443\u0440\u043e\u043a-6-\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430-\u0447\u0435\u0440\u0442\u0435\u0436\u0430_33f9b7351.html',",
            "            'info_dict': {",
            "                'id': 'yygqldloqIk',",
            "                'ext': 'mp4',",
            "                'title': 'SolidWorks. \u0423\u0440\u043e\u043a 6 \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0447\u0435\u0440\u0442\u0435\u0436\u0430',",
            "                'description': 'md5:baf95267792646afdbf030e4d06b2ab3',",
            "                'upload_date': '20130314',",
            "                'uploader': 'PRO\u0441\u0442\u043e\u04353D',",
            "                'uploader_id': 'PROstoe3D',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        {",
            "            # Video.js embed, single format",
            "            'url': 'https://www.vooplayer.com/v3/watch/watch.php?v=NzgwNTg=',",
            "            'info_dict': {",
            "                'id': 'watch',",
            "                'ext': 'mp4',",
            "                'title': 'Step 1 -  Good Foundation',",
            "                'description': 'md5:d1e7ff33a29fc3eb1673d6c270d344f4',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'skip': '404 Not Found',",
            "        },",
            "        # rtl.nl embed",
            "        {",
            "            'url': 'http://www.rtlnieuws.nl/nieuws/buitenland/aanslagen-kopenhagen',",
            "            'playlist_mincount': 5,",
            "            'info_dict': {",
            "                'id': 'aanslagen-kopenhagen',",
            "                'title': 'Aanslagen Kopenhagen',",
            "            }",
            "        },",
            "        # Zapiks embed",
            "        {",
            "            'url': 'http://www.skipass.com/news/116090-bon-appetit-s5ep3-baqueira-mi-cor.html',",
            "            'info_dict': {",
            "                'id': '118046',",
            "                'ext': 'mp4',",
            "                'title': 'EP3S5 - Bon App\u00e9tit - Baqueira Mi Corazon !',",
            "            }",
            "        },",
            "        # Kaltura embed (different embed code)",
            "        {",
            "            'url': 'http://www.premierchristianradio.com/Shows/Saturday/Unbelievable/Conference-Videos/Os-Guinness-Is-It-Fools-Talk-Unbelievable-Conference-2014',",
            "            'info_dict': {",
            "                'id': '1_a52wc67y',",
            "                'ext': 'flv',",
            "                'upload_date': '20150127',",
            "                'uploader_id': 'PremierMedia',",
            "                'timestamp': int,",
            "                'title': 'Os Guinness // Is It Fools Talk? // Unbelievable? Conference 2014',",
            "            },",
            "        },",
            "        # Kaltura embed with single quotes",
            "        {",
            "            'url': 'http://fod.infobase.com/p_ViewPlaylist.aspx?AssignmentID=NUN8ZY',",
            "            'info_dict': {",
            "                'id': '0_izeg5utt',",
            "                'ext': 'mp4',",
            "                'title': '35871',",
            "                'timestamp': 1355743100,",
            "                'upload_date': '20121217',",
            "                'uploader_id': 'cplapp@learn360.com',",
            "            },",
            "            'add_ie': ['Kaltura'],",
            "        },",
            "        {",
            "            # Kaltura embedded via quoted entry_id",
            "            'url': 'https://www.oreilly.com/ideas/my-cloud-makes-pretty-pictures',",
            "            'info_dict': {",
            "                'id': '0_utuok90b',",
            "                'ext': 'mp4',",
            "                'title': '06_matthew_brender_raj_dutt',",
            "                'timestamp': 1466638791,",
            "                'upload_date': '20160622',",
            "            },",
            "            'add_ie': ['Kaltura'],",
            "            'expected_warnings': [",
            "                'Could not send HEAD request'",
            "            ],",
            "            'params': {",
            "                'skip_download': True,",
            "            }",
            "        },",
            "        {",
            "            # Kaltura embedded, some fileExt broken (#11480)",
            "            'url': 'http://www.cornell.edu/video/nima-arkani-hamed-standard-models-of-particle-physics',",
            "            'info_dict': {",
            "                'id': '1_sgtvehim',",
            "                'ext': 'mp4',",
            "                'title': 'Our \"Standard Models\" of particle physics and cosmology',",
            "                'description': 'md5:67ea74807b8c4fea92a6f38d6d323861',",
            "                'timestamp': 1321158993,",
            "                'upload_date': '20111113',",
            "                'uploader_id': 'kps1',",
            "            },",
            "            'add_ie': ['Kaltura'],",
            "        },",
            "        {",
            "            # Kaltura iframe embed",
            "            'url': 'http://www.gsd.harvard.edu/event/i-m-pei-a-centennial-celebration/',",
            "            'md5': 'ae5ace8eb09dc1a35d03b579a9c2cc44',",
            "            'info_dict': {",
            "                'id': '0_f2cfbpwy',",
            "                'ext': 'mp4',",
            "                'title': 'I. M. Pei: A Centennial Celebration',",
            "                'description': 'md5:1db8f40c69edc46ca180ba30c567f37c',",
            "                'upload_date': '20170403',",
            "                'uploader_id': 'batchUser',",
            "                'timestamp': 1491232186,",
            "            },",
            "            'add_ie': ['Kaltura'],",
            "        },",
            "        {",
            "            # Kaltura iframe embed, more sophisticated",
            "            'url': 'http://www.cns.nyu.edu/~eero/math-tools/Videos/lecture-05sep2017.html',",
            "            'info_dict': {",
            "                'id': '1_9gzouybz',",
            "                'ext': 'mp4',",
            "                'title': 'lecture-05sep2017',",
            "                'description': 'md5:40f347d91fd4ba047e511c5321064b49',",
            "                'upload_date': '20170913',",
            "                'uploader_id': 'eps2',",
            "                'timestamp': 1505340777,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'add_ie': ['Kaltura'],",
            "        },",
            "        {",
            "            # meta twitter:player",
            "            'url': 'http://thechive.com/2017/12/08/all-i-want-for-christmas-is-more-twerk/',",
            "            'info_dict': {",
            "                'id': '0_01b42zps',",
            "                'ext': 'mp4',",
            "                'title': 'Main Twerk (Video)',",
            "                'upload_date': '20171208',",
            "                'uploader_id': 'sebastian.salinas@thechive.com',",
            "                'timestamp': 1512713057,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'add_ie': ['Kaltura'],",
            "        },",
            "        # referrer protected EaglePlatform embed",
            "        {",
            "            'url': 'https://tvrain.ru/lite/teleshow/kak_vse_nachinalos/namin-418921/',",
            "            'info_dict': {",
            "                'id': '582306',",
            "                'ext': 'mp4',",
            "                'title': '\u0421\u0442\u0430\u0441 \u041d\u0430\u043c\u0438\u043d: \u00ab\u041c\u044b \u043d\u0430\u0440\u0443\u0448\u0438\u043b\u0438 \u0434\u0435\u0432\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u041a\u0440\u0435\u043c\u043b\u044f\u00bb',",
            "                'thumbnail': r're:^https?://.*\\.jpg$',",
            "                'duration': 3382,",
            "                'view_count': int,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # ClipYou (EaglePlatform) embed (custom URL)",
            "        {",
            "            'url': 'http://muz-tv.ru/play/7129/',",
            "            # Not checking MD5 as sometimes the direct HTTP link results in 404 and HLS is used",
            "            'info_dict': {",
            "                'id': '12820',",
            "                'ext': 'mp4',",
            "                'title': \"'O Sole Mio\",",
            "                'thumbnail': r're:^https?://.*\\.jpg$',",
            "                'duration': 216,",
            "                'view_count': int,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'skip': 'This video is unavailable.',",
            "        },",
            "        # Pladform embed",
            "        {",
            "            'url': 'http://muz-tv.ru/kinozal/view/7400/',",
            "            'info_dict': {",
            "                'id': '100183293',",
            "                'ext': 'mp4',",
            "                'title': '\u0422\u0430\u0439\u043d\u044b \u043f\u0435\u0440\u0435\u0432\u0430\u043b\u0430 \u0414\u044f\u0442\u043b\u043e\u0432\u0430 \u2022 1 \u0441\u0435\u0440\u0438\u044f 2 \u0447\u0430\u0441\u0442\u044c',",
            "                'description': '\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0435\u0440\u0438\u0430\u043b-\u0440\u0430\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0434\u043d\u043e\u0439 \u0438\u0437 \u0441\u0430\u043c\u044b\u0445 \u0436\u0443\u0442\u043a\u0438\u0445 \u0442\u0430\u0439\u043d \u0425\u0425 \u0432\u0435\u043a\u0430',",
            "                'thumbnail': r're:^https?://.*\\.jpg$',",
            "                'duration': 694,",
            "                'age_limit': 0,",
            "            },",
            "            'skip': 'HTTP Error 404: Not Found',",
            "        },",
            "        # Playwire embed",
            "        {",
            "            'url': 'http://www.cinemablend.com/new/First-Joe-Dirt-2-Trailer-Teaser-Stupid-Greatness-70874.html',",
            "            'info_dict': {",
            "                'id': '3519514',",
            "                'ext': 'mp4',",
            "                'title': 'Joe Dirt 2 Beautiful Loser Teaser Trailer',",
            "                'thumbnail': r're:^https?://.*\\.png$',",
            "                'duration': 45.115,",
            "            },",
            "        },",
            "        # Crooks and Liars embed",
            "        {",
            "            'url': 'http://crooksandliars.com/2015/04/fox-friends-says-protecting-atheists',",
            "            'info_dict': {",
            "                'id': '8RUoRhRi',",
            "                'ext': 'mp4',",
            "                'title': \"Fox & Friends Says Protecting Atheists From Discrimination Is Anti-Christian!\",",
            "                'description': 'md5:e1a46ad1650e3a5ec7196d432799127f',",
            "                'timestamp': 1428207000,",
            "                'upload_date': '20150405',",
            "                'uploader': 'Heather',",
            "            },",
            "        },",
            "        # Crooks and Liars external embed",
            "        {",
            "            'url': 'http://theothermccain.com/2010/02/02/video-proves-that-bill-kristol-has-been-watching-glenn-beck/comment-page-1/',",
            "            'info_dict': {",
            "                'id': 'MTE3MjUtMzQ2MzA',",
            "                'ext': 'mp4',",
            "                'title': 'md5:5e3662a81a4014d24c250d76d41a08d5',",
            "                'description': 'md5:9b8e9542d6c3c5de42d6451b7d780cec',",
            "                'timestamp': 1265032391,",
            "                'upload_date': '20100201',",
            "                'uploader': 'Heather',",
            "            },",
            "        },",
            "        # NBC Sports vplayer embed",
            "        {",
            "            'url': 'http://www.riderfans.com/forum/showthread.php?121827-Freeman&s=e98fa1ea6dc08e886b1678d35212494a',",
            "            'info_dict': {",
            "                'id': 'ln7x1qSThw4k',",
            "                'ext': 'flv',",
            "                'title': \"PFT Live: New leader in the 'new-look' defense\",",
            "                'description': 'md5:65a19b4bbfb3b0c0c5768bed1dfad74e',",
            "                'uploader': 'NBCU-SPORTS',",
            "                'upload_date': '20140107',",
            "                'timestamp': 1389118457,",
            "            },",
            "            'skip': 'Invalid Page URL',",
            "        },",
            "        # NBC News embed",
            "        {",
            "            'url': 'http://www.vulture.com/2016/06/letterman-couldnt-care-less-about-late-night.html',",
            "            'md5': '1aa589c675898ae6d37a17913cf68d66',",
            "            'info_dict': {",
            "                'id': 'x_dtl_oa_LettermanliftPR_160608',",
            "                'ext': 'mp4',",
            "                'title': 'David Letterman: A Preview',",
            "                'description': 'A preview of Tom Brokaw\\'s interview with David Letterman as part of the On Assignment series powered by Dateline. Airs Sunday June 12 at 7/6c.',",
            "                'upload_date': '20160609',",
            "                'timestamp': 1465431544,",
            "                'uploader': 'NBCU-NEWS',",
            "            },",
            "        },",
            "        # UDN embed",
            "        {",
            "            'url': 'https://video.udn.com/news/300346',",
            "            'md5': 'fd2060e988c326991037b9aff9df21a6',",
            "            'info_dict': {",
            "                'id': '300346',",
            "                'ext': 'mp4',",
            "                'title': '\u4e2d\u4e00\u4e2d\u7537\u5e2b\u8b8a\u6027 \u5168\u6821\u5e2b\u751f\u529b\u633a',",
            "                'thumbnail': r're:^https?://.*\\.jpg$',",
            "            },",
            "            'params': {",
            "                # m3u8 download",
            "                'skip_download': True,",
            "            },",
            "            'expected_warnings': ['Failed to parse JSON Expecting value'],",
            "        },",
            "        # Kinja embed",
            "        {",
            "            'url': 'http://www.clickhole.com/video/dont-understand-bitcoin-man-will-mumble-explanatio-2537',",
            "            'info_dict': {",
            "                'id': '106351',",
            "                'ext': 'mp4',",
            "                'title': 'Don\u2019t Understand Bitcoin? This Man Will Mumble An Explanation At You',",
            "                'description': 'Migrated from OnionStudios',",
            "                'thumbnail': r're:^https?://.*\\.jpe?g$',",
            "                'uploader': 'clickhole',",
            "                'upload_date': '20150527',",
            "                'timestamp': 1432744860,",
            "            }",
            "        },",
            "        # SnagFilms embed",
            "        {",
            "            'url': 'http://whilewewatch.blogspot.ru/2012/06/whilewewatch-whilewewatch-gripping.html',",
            "            'info_dict': {",
            "                'id': '74849a00-85a9-11e1-9660-123139220831',",
            "                'ext': 'mp4',",
            "                'title': '#whilewewatch',",
            "            }",
            "        },",
            "        # AdobeTVVideo embed",
            "        {",
            "            'url': 'https://helpx.adobe.com/acrobat/how-to/new-experience-acrobat-dc.html?set=acrobat--get-started--essential-beginners',",
            "            'md5': '43662b577c018ad707a63766462b1e87',",
            "            'info_dict': {",
            "                'id': '2456',",
            "                'ext': 'mp4',",
            "                'title': 'New experience with Acrobat DC',",
            "                'description': 'New experience with Acrobat DC',",
            "                'duration': 248.667,",
            "            },",
            "        },",
            "        # Another form of arte.tv embed",
            "        {",
            "            'url': 'http://www.tv-replay.fr/redirection/09-04-16/arte-reportage-arte-11508975.html',",
            "            'md5': '850bfe45417ddf221288c88a0cffe2e2',",
            "            'info_dict': {",
            "                'id': '030273-562_PLUS7-F',",
            "                'ext': 'mp4',",
            "                'title': 'ARTE Reportage - Nulle part, en France',",
            "                'description': 'md5:e3a0e8868ed7303ed509b9e3af2b870d',",
            "                'upload_date': '20160409',",
            "            },",
            "        },",
            "        # Duplicated embedded video URLs",
            "        {",
            "            'url': 'http://www.hudl.com/athlete/2538180/highlights/149298443',",
            "            'info_dict': {",
            "                'id': '149298443_480_16c25b74_2',",
            "                'ext': 'mp4',",
            "                'title': 'vs. Blue Orange Spring Game',",
            "                'uploader': 'www.hudl.com',",
            "            },",
            "        },",
            "        # twitter:player:stream embed",
            "        {",
            "            'url': 'http://www.rtl.be/info/video/589263.aspx?CategoryID=288',",
            "            'info_dict': {",
            "                'id': 'master',",
            "                'ext': 'mp4',",
            "                'title': 'Une nouvelle esp\u00e8ce de dinosaure d\u00e9couverte en Argentine',",
            "                'uploader': 'www.rtl.be',",
            "            },",
            "            'params': {",
            "                # m3u8 downloads",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # twitter:player embed",
            "        {",
            "            'url': 'http://www.theatlantic.com/video/index/484130/what-do-black-holes-sound-like/',",
            "            'md5': 'a3e0df96369831de324f0778e126653c',",
            "            'info_dict': {",
            "                'id': '4909620399001',",
            "                'ext': 'mp4',",
            "                'title': 'What Do Black Holes Sound Like?',",
            "                'description': 'what do black holes sound like',",
            "                'upload_date': '20160524',",
            "                'uploader_id': '29913724001',",
            "                'timestamp': 1464107587,",
            "                'uploader': 'TheAtlantic',",
            "            },",
            "            'skip': 'Private Youtube video',",
            "        },",
            "        # Facebook <iframe> embed",
            "        {",
            "            'url': 'https://www.hostblogger.de/blog/archives/6181-Auto-jagt-Betonmischer.html',",
            "            'md5': 'fbcde74f534176ecb015849146dd3aee',",
            "            'info_dict': {",
            "                'id': '599637780109885',",
            "                'ext': 'mp4',",
            "                'title': 'Facebook video #599637780109885',",
            "            },",
            "        },",
            "        # Facebook <iframe> embed, plugin video",
            "        {",
            "            'url': 'http://5pillarsuk.com/2017/06/07/tariq-ramadan-disagrees-with-pr-exercise-by-imams-refusing-funeral-prayers-for-london-attackers/',",
            "            'info_dict': {",
            "                'id': '1754168231264132',",
            "                'ext': 'mp4',",
            "                'title': 'About the Imams and Religious leaders refusing to perform funeral prayers for...',",
            "                'uploader': 'Tariq Ramadan (official)',",
            "                'timestamp': 1496758379,",
            "                'upload_date': '20170606',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # Facebook API embed",
            "        {",
            "            'url': 'http://www.lothype.com/blue-stars-2016-preview-standstill-full-show/',",
            "            'md5': 'a47372ee61b39a7b90287094d447d94e',",
            "            'info_dict': {",
            "                'id': '10153467542406923',",
            "                'ext': 'mp4',",
            "                'title': 'Facebook video #10153467542406923',",
            "            },",
            "        },",
            "        # Wordpress \"YouTube Video Importer\" plugin",
            "        {",
            "            'url': 'http://www.lothype.com/blue-devils-drumline-stanford-lot-2016/',",
            "            'md5': 'd16797741b560b485194eddda8121b48',",
            "            'info_dict': {",
            "                'id': 'HNTXWDXV9Is',",
            "                'ext': 'mp4',",
            "                'title': 'Blue Devils Drumline Stanford lot 2016',",
            "                'upload_date': '20160627',",
            "                'uploader_id': 'GENOCIDE8GENERAL10',",
            "                'uploader': 'cylus cyrus',",
            "            },",
            "        },",
            "        {",
            "            # video stored on custom kaltura server",
            "            'url': 'http://www.expansion.com/multimedia/videos.html?media=EQcM30NHIPv',",
            "            'md5': '537617d06e64dfed891fa1593c4b30cc',",
            "            'info_dict': {",
            "                'id': '0_1iotm5bh',",
            "                'ext': 'mp4',",
            "                'title': 'Elecciones brit\u00e1nicas: 5 lecciones para Rajoy',",
            "                'description': 'md5:435a89d68b9760b92ce67ed227055f16',",
            "                'uploader_id': 'videos.expansion@el-mundo.net',",
            "                'upload_date': '20150429',",
            "                'timestamp': 1430303472,",
            "            },",
            "            'add_ie': ['Kaltura'],",
            "        },",
            "        {",
            "            # multiple kaltura embeds, nsfw",
            "            'url': 'https://www.quartier-rouge.be/prive/femmes/kamila-avec-video-jaime-sadomie.html',",
            "            'info_dict': {",
            "                'id': 'kamila-avec-video-jaime-sadomie',",
            "                'title': \"Kamila avec v\u00eddeo \u201cJ'aime sadomie\u201d\",",
            "            },",
            "            'playlist_count': 8,",
            "        },",
            "        {",
            "            # Non-standard Vimeo embed",
            "            'url': 'https://openclassrooms.com/courses/understanding-the-web',",
            "            'md5': '64d86f1c7d369afd9a78b38cbb88d80a',",
            "            'info_dict': {",
            "                'id': '148867247',",
            "                'ext': 'mp4',",
            "                'title': 'Understanding the web - Teaser',",
            "                'description': 'This is \"Understanding the web - Teaser\" by openclassrooms on Vimeo, the home for high quality videos and the people who love them.',",
            "                'upload_date': '20151214',",
            "                'uploader': 'OpenClassrooms',",
            "                'uploader_id': 'openclassrooms',",
            "            },",
            "            'add_ie': ['Vimeo'],",
            "        },",
            "        {",
            "            # generic vimeo embed that requires original URL passed as Referer",
            "            'url': 'http://racing4everyone.eu/2016/07/30/formula-1-2016-round12-germany/',",
            "            'only_matching': True,",
            "        },",
            "        {",
            "            'url': 'https://support.arkena.com/display/PLAY/Ways+to+embed+your+video',",
            "            'md5': 'b96f2f71b359a8ecd05ce4e1daa72365',",
            "            'info_dict': {",
            "                'id': 'b41dda37-d8e7-4d3f-b1b5-9a9db578bdfe',",
            "                'ext': 'mp4',",
            "                'title': 'Big Buck Bunny',",
            "                'description': 'Royalty free test video',",
            "                'timestamp': 1432816365,",
            "                'upload_date': '20150528',",
            "                'is_live': False,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'add_ie': ['Arkena'],",
            "        },",
            "        {",
            "            'url': 'http://nova.bg/news/view/2016/08/16/156543/%D0%BD%D0%B0-%D0%BA%D0%BE%D1%81%D1%8A%D0%BC-%D0%BE%D1%82-%D0%B2%D0%B7%D1%80%D0%B8%D0%B2-%D0%BE%D1%82%D1%86%D0%B5%D0%BF%D0%B8%D1%85%D0%B0-%D1%86%D1%8F%D0%BB-%D0%BA%D0%B2%D0%B0%D1%80%D1%82%D0%B0%D0%BB-%D0%B7%D0%B0%D1%80%D0%B0%D0%B4%D0%B8-%D0%B8%D0%B7%D1%82%D0%B8%D1%87%D0%B0%D0%BD%D0%B5-%D0%BD%D0%B0-%D0%B3%D0%B0%D0%B7-%D0%B2-%D0%BF%D0%BB%D0%BE%D0%B2%D0%B4%D0%B8%D0%B2/',",
            "            'info_dict': {",
            "                'id': '1c7141f46c',",
            "                'ext': 'mp4',",
            "                'title': '\u041d\u0410 \u041a\u041e\u0421\u042a\u041c \u041e\u0422 \u0412\u0417\u0420\u0418\u0412: \u0418\u0437\u0442\u0438\u0447\u0430\u043d\u0435 \u043d\u0430 \u0433\u0430\u0437 \u043d\u0430 \u0431\u0435\u043d\u0437\u0438\u043d\u043e\u0441\u0442\u0430\u043d\u0446\u0438\u044f \u0432 \u041f\u043b\u043e\u0432\u0434\u0438\u0432',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'add_ie': ['Vbox7'],",
            "        },",
            "        {",
            "            # DBTV embeds",
            "            'url': 'http://www.dagbladet.no/2016/02/23/nyheter/nordlys/ski/troms/ver/43254897/',",
            "            'info_dict': {",
            "                'id': '43254897',",
            "                'title': 'Etter ett \u00e5rs planlegging, klaffet endelig alt: - Jeg m\u00e5tte ta en liten dans',",
            "            },",
            "            'playlist_mincount': 3,",
            "        },",
            "        {",
            "            # Videa embeds",
            "            'url': 'http://forum.dvdtalk.com/movie-talk/623756-deleted-magic-star-wars-ot-deleted-alt-scenes-docu-style.html',",
            "            'info_dict': {",
            "                'id': '623756-deleted-magic-star-wars-ot-deleted-alt-scenes-docu-style',",
            "                'title': 'Deleted Magic - Star Wars: OT Deleted / Alt. Scenes Docu. Style - DVD Talk Forum',",
            "            },",
            "            'playlist_mincount': 2,",
            "        },",
            "        {",
            "            # 20 minuten embed",
            "            'url': 'http://www.20min.ch/schweiz/news/story/So-kommen-Sie-bei-Eis-und-Schnee-sicher-an-27032552',",
            "            'info_dict': {",
            "                'id': '523629',",
            "                'ext': 'mp4',",
            "                'title': 'So kommen Sie bei Eis und Schnee sicher an',",
            "                'description': 'md5:117c212f64b25e3d95747e5276863f7d',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'add_ie': ['TwentyMinuten'],",
            "        },",
            "        {",
            "            # VideoPress embed",
            "            'url': 'https://en.support.wordpress.com/videopress/',",
            "            'info_dict': {",
            "                'id': 'OcobLTqC',",
            "                'ext': 'm4v',",
            "                'title': 'IMG_5786',",
            "                'timestamp': 1435711927,",
            "                'upload_date': '20150701',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'add_ie': ['VideoPress'],",
            "        },",
            "        {",
            "            # Rutube embed",
            "            'url': 'http://magazzino.friday.ru/videos/vipuski/kazan-2',",
            "            'info_dict': {",
            "                'id': '9b3d5bee0a8740bf70dfd29d3ea43541',",
            "                'ext': 'flv',",
            "                'title': '\u041c\u0430\u0433\u0430\u0437\u0437\u0438\u043d\u043e: \u041a\u0430\u0437\u0430\u043d\u044c 2',",
            "                'description': 'md5:99bccdfac2269f0e8fdbc4bbc9db184a',",
            "                'uploader': '\u041c\u0430\u0433\u0430\u0437\u0437\u0438\u043d\u043e',",
            "                'upload_date': '20170228',",
            "                'uploader_id': '996642',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'add_ie': ['Rutube'],",
            "        },",
            "        {",
            "            # glomex:embed",
            "            'url': 'https://www.skai.gr/news/world/iatrikos-syllogos-tourkias-to-turkovac-aplo-dialyma-erntogan-eiste-apateones-kai-pseytes',",
            "            'info_dict': {",
            "                'id': 'v-ch2nkhcirwc9-sf',",
            "                'ext': 'mp4',",
            "                'title': 'md5:786e1e24e06c55993cee965ef853a0c1',",
            "                'description': 'md5:8b517a61d577efe7e36fde72fd535995',",
            "                'timestamp': 1641885019,",
            "                'upload_date': '20220111',",
            "                'duration': 460000,",
            "                'thumbnail': 'https://i3thumbs.glomex.com/dC1idjJwdndiMjRzeGwvMjAyMi8wMS8xMS8wNy8xMF8zNV82MWRkMmQ2YmU5ZTgyLmpwZw==/profile:player-960x540',",
            "            },",
            "        },",
            "        {",
            "            # megatvcom:embed",
            "            'url': 'https://www.in.gr/2021/12/18/greece/apokalypsi-mega-poios-parelave-tin-ereyna-tsiodra-ek-merous-tis-kyvernisis-o-prothypourgos-telika-gnorize/',",
            "            'info_dict': {",
            "                'id': 'apokalypsi-mega-poios-parelave-tin-ereyna-tsiodra-ek-merous-tis-kyvernisis-o-prothypourgos-telika-gnorize',",
            "                'title': 'md5:5e569cf996ec111057c2764ec272848f',",
            "            },",
            "            'playlist': [{",
            "                'md5': '1afa26064ff00ccb91617957dbc73dc1',",
            "                'info_dict': {",
            "                    'ext': 'mp4',",
            "                    'id': '564916',",
            "                    'display_id': 'md5:6cdf22d3a2e7bacb274b7295089a1770',",
            "                    'title': 'md5:33b9dd39584685b62873043670eb52a6',",
            "                    'description': 'md5:c1db7310f390518ac36dd69d947ef1a1',",
            "                    'timestamp': 1639753145,",
            "                    'upload_date': '20211217',",
            "                    'thumbnail': 'https://www.megatv.com/wp-content/uploads/2021/12/prezerakos-1024x597.jpg',",
            "                },",
            "            }, {",
            "                'md5': '4a1c220695f1ef865a8b7966a53e2474',",
            "                'info_dict': {",
            "                    'ext': 'mp4',",
            "                    'id': '564905',",
            "                    'display_id': 'md5:ead15695e485e649aed2b81ebd699b88',",
            "                    'title': 'md5:2b71fd54249a3ca34609fe39ae31c47b',",
            "                    'description': 'md5:c42e12f638d0a97d6de4508e2c4df982',",
            "                    'timestamp': 1639753047,",
            "                    'upload_date': '20211217',",
            "                    'thumbnail': 'https://www.megatv.com/wp-content/uploads/2021/12/tsiodras-mitsotakis-1024x545.jpg',",
            "                },",
            "            }]",
            "        },",
            "        {",
            "            'url': 'https://www.ertnews.gr/video/manolis-goyalles-o-anthropos-piso-apo-ti-diadiktyaki-vasilopita/',",
            "            'info_dict': {",
            "                'id': '2022/tv/news-themata-ianouarios/20220114-apotis6-gouales-pita.mp4',",
            "                'ext': 'mp4',",
            "                'title': 'md5:df64f5b61c06d0e9556c0cdd5cf14464',",
            "                'thumbnail': 'https://www.ert.gr/themata/photos/2021/20220114-apotis6-gouales-pita.jpg',",
            "            },",
            "        },",
            "        {",
            "            # ThePlatform embedded with whitespaces in URLs",
            "            'url': 'http://www.golfchannel.com/topics/shows/golftalkcentral.htm',",
            "            'only_matching': True,",
            "        },",
            "        {",
            "            # Senate ISVP iframe https",
            "            'url': 'https://www.hsgac.senate.gov/hearings/canadas-fast-track-refugee-plan-unanswered-questions-and-implications-for-us-national-security',",
            "            'md5': 'fb8c70b0b515e5037981a2492099aab8',",
            "            'info_dict': {",
            "                'id': 'govtaff020316',",
            "                'ext': 'mp4',",
            "                'title': 'Integrated Senate Video Player',",
            "            },",
            "            'add_ie': ['SenateISVP'],",
            "        },",
            "        {",
            "            # Limelight embeds (1 channel embed + 4 media embeds)",
            "            'url': 'http://www.sedona.com/FacilitatorTraining2017',",
            "            'info_dict': {",
            "                'id': 'FacilitatorTraining2017',",
            "                'title': 'Facilitator Training 2017',",
            "            },",
            "            'playlist_mincount': 5,",
            "        },",
            "        {",
            "            # Limelight embed (LimelightPlayerUtil.embed)",
            "            'url': 'https://tv5.ca/videos?v=xuu8qowr291ri',",
            "            'info_dict': {",
            "                'id': '95d035dc5c8a401588e9c0e6bd1e9c92',",
            "                'ext': 'mp4',",
            "                'title': '07448641',",
            "                'timestamp': 1499890639,",
            "                'upload_date': '20170712',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'add_ie': ['LimelightMedia'],",
            "        },",
            "        {",
            "            'url': 'http://kron4.com/2017/04/28/standoff-with-walnut-creek-murder-suspect-ends-with-arrest/',",
            "            'info_dict': {",
            "                'id': 'standoff-with-walnut-creek-murder-suspect-ends-with-arrest',",
            "                'title': 'Standoff with Walnut Creek murder suspect ends',",
            "                'description': 'md5:3ccc48a60fc9441eeccfc9c469ebf788',",
            "            },",
            "            'playlist_mincount': 4,",
            "        },",
            "        {",
            "            # WashingtonPost embed",
            "            'url': 'http://www.vanityfair.com/hollywood/2017/04/donald-trump-tv-pitches',",
            "            'info_dict': {",
            "                'id': '8caf6e88-d0ec-11e5-90d3-34c2c42653ac',",
            "                'ext': 'mp4',",
            "                'title': \"No one has seen the drama series based on Trump's life \\u2014 until now\",",
            "                'description': 'Donald Trump wanted a weekly TV drama based on his life. It never aired. But The Washington Post recently obtained a scene from the pilot script \u2014 and enlisted actors.',",
            "                'timestamp': 1455216756,",
            "                'uploader': 'The Washington Post',",
            "                'upload_date': '20160211',",
            "            },",
            "            'add_ie': ['WashingtonPost'],",
            "        },",
            "        {",
            "            # JOJ.sk embeds",
            "            'url': 'https://www.noviny.sk/slovensko/238543-slovenskom-sa-prehnala-vlna-silnych-burok',",
            "            'info_dict': {",
            "                'id': '238543-slovenskom-sa-prehnala-vlna-silnych-burok',",
            "                'title': 'Slovenskom sa prehnala vlna siln\u00fdch b\u00farok',",
            "            },",
            "            'playlist_mincount': 5,",
            "            'add_ie': ['Joj'],",
            "        },",
            "        {",
            "            # AMP embed (see https://www.ampproject.org/docs/reference/components/amp-video)",
            "            'url': 'https://tvrain.ru/amp/418921/',",
            "            'md5': 'cc00413936695987e8de148b67d14f1d',",
            "            'info_dict': {",
            "                'id': '418921',",
            "                'ext': 'mp4',",
            "                'title': '\u0421\u0442\u0430\u0441 \u041d\u0430\u043c\u0438\u043d: \u00ab\u041c\u044b \u043d\u0430\u0440\u0443\u0448\u0438\u043b\u0438 \u0434\u0435\u0432\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u041a\u0440\u0435\u043c\u043b\u044f\u00bb',",
            "            },",
            "        },",
            "        {",
            "            # vzaar embed",
            "            'url': 'http://help.vzaar.com/article/165-embedding-video',",
            "            'md5': '7e3919d9d2620b89e3e00bec7fe8c9d4',",
            "            'info_dict': {",
            "                'id': '8707641',",
            "                'ext': 'mp4',",
            "                'title': 'Building A Business Online: Principal Chairs Q & A',",
            "            },",
            "        },",
            "        {",
            "            # multiple HTML5 videos on one page",
            "            'url': 'https://www.paragon-software.com/home/rk-free/keyscenarios.html',",
            "            'info_dict': {",
            "                'id': 'keyscenarios',",
            "                'title': 'Rescue Kit 14 Free Edition - Getting started',",
            "            },",
            "            'playlist_count': 4,",
            "        },",
            "        {",
            "            # vshare embed",
            "            'url': 'https://youtube-dl-demo.neocities.org/vshare.html',",
            "            'md5': '17b39f55b5497ae8b59f5fbce8e35886',",
            "            'info_dict': {",
            "                'id': '0f64ce6',",
            "                'title': 'vl14062007715967',",
            "                'ext': 'mp4',",
            "            }",
            "        },",
            "        {",
            "            'url': 'http://www.heidelberg-laureate-forum.org/blog/video/lecture-friday-september-23-2016-sir-c-antony-r-hoare/',",
            "            'md5': 'aecd089f55b1cb5a59032cb049d3a356',",
            "            'info_dict': {",
            "                'id': '90227f51a80c4d8f86c345a7fa62bd9a1d',",
            "                'ext': 'mp4',",
            "                'title': 'Lecture: Friday, September 23, 2016 - Sir Tony Hoare',",
            "                'description': 'md5:5a51db84a62def7b7054df2ade403c6c',",
            "                'timestamp': 1474354800,",
            "                'upload_date': '20160920',",
            "            }",
            "        },",
            "        {",
            "            'url': 'http://www.kidzworld.com/article/30935-trolls-the-beat-goes-on-interview-skylar-astin-and-amanda-leighton',",
            "            'info_dict': {",
            "                'id': '1731611',",
            "                'ext': 'mp4',",
            "                'title': 'Official Trailer | TROLLS: THE BEAT GOES ON!',",
            "                'description': 'md5:eb5f23826a027ba95277d105f248b825',",
            "                'timestamp': 1516100691,",
            "                'upload_date': '20180116',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'add_ie': ['SpringboardPlatform'],",
            "        },",
            "        {",
            "            'url': 'https://www.yapfiles.ru/show/1872528/690b05d3054d2dbe1e69523aa21bb3b1.mp4.html',",
            "            'info_dict': {",
            "                'id': 'vMDE4NzI1Mjgt690b',",
            "                'ext': 'mp4',",
            "                'title': '\u041a\u043e\u0442\u044f\u0442\u0430',",
            "            },",
            "            'add_ie': ['YapFiles'],",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        {",
            "            # CloudflareStream embed",
            "            'url': 'https://www.cloudflare.com/products/cloudflare-stream/',",
            "            'info_dict': {",
            "                'id': '31c9291ab41fac05471db4e73aa11717',",
            "                'ext': 'mp4',",
            "                'title': '31c9291ab41fac05471db4e73aa11717',",
            "            },",
            "            'add_ie': ['CloudflareStream'],",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        {",
            "            # PeerTube embed",
            "            'url': 'https://joinpeertube.org/fr/home/',",
            "            'info_dict': {",
            "                'id': 'home',",
            "                'title': 'Reprenez le contr\u00f4le de vos vid\u00e9os ! #JoinPeertube',",
            "            },",
            "            'playlist_count': 2,",
            "        },",
            "        {",
            "            # Indavideo embed",
            "            'url': 'https://streetkitchen.hu/receptek/igy_kell_otthon_hamburgert_sutni/',",
            "            'info_dict': {",
            "                'id': '1693903',",
            "                'ext': 'mp4',",
            "                'title': '\u00cdgy kell otthon hamburgert s\u00fctni',",
            "                'description': 'md5:f5a730ecf900a5c852e1e00540bbb0f7',",
            "                'timestamp': 1426330212,",
            "                'upload_date': '20150314',",
            "                'uploader': 'StreetKitchen',",
            "                'uploader_id': '546363',",
            "            },",
            "            'add_ie': ['IndavideoEmbed'],",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        {",
            "            # APA embed via JWPlatform embed",
            "            'url': 'http://www.vol.at/blue-man-group/5593454',",
            "            'info_dict': {",
            "                'id': 'jjv85FdZ',",
            "                'ext': 'mp4',",
            "                'title': '\"Blau ist mysteri\u00f6s\": Die Blue Man Group im Interview',",
            "                'description': 'md5:d41d8cd98f00b204e9800998ecf8427e',",
            "                'thumbnail': r're:^https?://.*\\.jpg$',",
            "                'duration': 254,",
            "                'timestamp': 1519211149,",
            "                'upload_date': '20180221',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        {",
            "            'url': 'http://share-videos.se/auto/video/83645793?uid=13',",
            "            'md5': 'b68d276de422ab07ee1d49388103f457',",
            "            'info_dict': {",
            "                'id': '83645793',",
            "                'title': 'Lock up and get excited',",
            "                'ext': 'mp4'",
            "            },",
            "            'skip': 'TODO: fix nested playlists processing in tests',",
            "        },",
            "        {",
            "            # Viqeo embeds",
            "            'url': 'https://viqeo.tv/',",
            "            'info_dict': {",
            "                'id': 'viqeo',",
            "                'title': 'All-new video platform',",
            "            },",
            "            'playlist_count': 6,",
            "        },",
            "        # {",
            "        #     # Zype embed",
            "        #     'url': 'https://www.cookscountry.com/episode/554-smoky-barbecue-favorites',",
            "        #     'info_dict': {",
            "        #         'id': '5b400b834b32992a310622b9',",
            "        #         'ext': 'mp4',",
            "        #         'title': 'Smoky Barbecue Favorites',",
            "        #         'thumbnail': r're:^https?://.*\\.jpe?g',",
            "        #         'description': 'md5:5ff01e76316bd8d46508af26dc86023b',",
            "        #         'upload_date': '20170909',",
            "        #         'timestamp': 1504915200,",
            "        #     },",
            "        #     'add_ie': [ZypeIE.ie_key()],",
            "        #     'params': {",
            "        #         'skip_download': True,",
            "        #     },",
            "        # },",
            "        {",
            "            # videojs embed",
            "            'url': 'https://video.sibnet.ru/shell.php?videoid=3422904',",
            "            'info_dict': {",
            "                'id': 'shell',",
            "                'ext': 'mp4',",
            "                'title': '\u0414\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a \u043f\u0438\u0446\u0446\u044b \u0441\u043f\u0440\u043e\u0441\u0438\u043b \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0441\u044b\u0433\u0440\u0430\u0442\u044c \u043d\u0430 \u0444\u043e\u0440\u0442\u0435\u043f\u0438\u0430\u043d\u043e',",
            "                'description': 'md5:89209cdc587dab1e4a090453dbaa2cb1',",
            "                'thumbnail': r're:^https?://.*\\.jpg$',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'expected_warnings': ['Failed to download MPD manifest'],",
            "        },",
            "        {",
            "            # DailyMotion embed with DM.player",
            "            'url': 'https://www.beinsports.com/us/copa-del-rey/video/the-locker-room-valencia-beat-barca-in-copa/1203804',",
            "            'info_dict': {",
            "                'id': 'k6aKkGHd9FJs4mtJN39',",
            "                'ext': 'mp4',",
            "                'title': 'The Locker Room: Valencia Beat Barca In Copa del Rey Final',",
            "                'description': 'This video is private.',",
            "                'uploader_id': 'x1jf30l',",
            "                'uploader': 'beIN SPORTS USA',",
            "                'upload_date': '20190528',",
            "                'timestamp': 1559062971,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        {",
            "            # tvopengr:embed",
            "            'url': 'https://www.ethnos.gr/World/article/190604/hparosiaxekinoynoisynomiliessthgeneyhmethskiatoypolemoypanoapothnoykrania',",
            "            'md5': 'eb0c3995d0a6f18f6538c8e057865d7d',",
            "            'info_dict': {",
            "                'id': '101119',",
            "                'ext': 'mp4',",
            "                'display_id': 'oikarpoitondiapragmateyseonhparosias',",
            "                'title': 'md5:b979f4d640c568617d6547035528a149',",
            "                'description': 'md5:e54fc1977c7159b01cc11cd7d9d85550',",
            "                'timestamp': 1641772800,",
            "                'upload_date': '20220110',",
            "                'thumbnail': 'https://opentv-static.siliconweb.com/imgHandler/1920/70bc39fa-895b-4918-a364-c39d2135fc6d.jpg',",
            "",
            "            }",
            "        },",
            "        {",
            "            # blogger embed",
            "            'url': 'https://blog.tomeuvizoso.net/2019/01/a-panfrost-milestone.html',",
            "            'md5': 'f1bc19b6ea1b0fd1d81e84ca9ec467ac',",
            "            'info_dict': {",
            "                'id': 'BLOGGER-video-3c740e3a49197e16-796',",
            "                'ext': 'mp4',",
            "                'title': 'Blogger',",
            "                'thumbnail': r're:^https?://.*',",
            "            },",
            "        },",
            "        # {",
            "        #     # TODO: find another test",
            "        #     # http://schema.org/VideoObject",
            "        #     'url': 'https://flipagram.com/f/nyvTSJMKId',",
            "        #     'md5': '888dcf08b7ea671381f00fab74692755',",
            "        #     'info_dict': {",
            "        #         'id': 'nyvTSJMKId',",
            "        #         'ext': 'mp4',",
            "        #         'title': 'Flipagram by sjuria101 featuring Midnight Memories by One Direction',",
            "        #         'description': '#love for cats.',",
            "        #         'timestamp': 1461244995,",
            "        #         'upload_date': '20160421',",
            "        #     },",
            "        #     'params': {",
            "        #         'force_generic_extractor': True,",
            "        #     },",
            "        # },",
            "        {",
            "            # VHX Embed",
            "            'url': 'https://demo.vhx.tv/category-c/videos/file-example-mp4-480-1-5mg-copy',",
            "            'info_dict': {",
            "                'id': '858208',",
            "                'ext': 'mp4',",
            "                'title': 'Untitled',",
            "                'uploader_id': 'user80538407',",
            "                'uploader': 'OTT Videos',",
            "            },",
            "        },",
            "        {",
            "            # ArcPublishing PoWa video player",
            "            'url': 'https://www.adn.com/politics/2020/11/02/video-senate-candidates-campaign-in-anchorage-on-eve-of-election-day/',",
            "            'md5': 'b03b2fac8680e1e5a7cc81a5c27e71b3',",
            "            'info_dict': {",
            "                'id': '8c99cb6e-b29c-4bc9-9173-7bf9979225ab',",
            "                'ext': 'mp4',",
            "                'title': 'Senate candidates wave to voters on Anchorage streets',",
            "                'description': 'md5:91f51a6511f090617353dc720318b20e',",
            "                'timestamp': 1604378735,",
            "                'upload_date': '20201103',",
            "                'duration': 1581,",
            "            },",
            "        },",
            "        {",
            "            # MyChannels SDK embed",
            "            # https://www.24kitchen.nl/populair/deskundige-dit-waarom-sommigen-gevoelig-zijn-voor-voedselallergieen",
            "            'url': 'https://www.demorgen.be/nieuws/burgemeester-rotterdam-richt-zich-in-videoboodschap-tot-relschoppers-voelt-het-goed~b0bcfd741/',",
            "            'md5': '90c0699c37006ef18e198c032d81739c',",
            "            'info_dict': {",
            "                'id': '194165',",
            "                'ext': 'mp4',",
            "                'title': 'Burgemeester Aboutaleb spreekt relschoppers toe',",
            "                'timestamp': 1611740340,",
            "                'upload_date': '20210127',",
            "                'duration': 159,",
            "            },",
            "        },",
            "        {",
            "            # Simplecast player embed",
            "            'url': 'https://www.bio.org/podcast',",
            "            'info_dict': {",
            "                'id': 'podcast',",
            "                'title': 'I AM BIO Podcast | BIO',",
            "            },",
            "            'playlist_mincount': 52,",
            "        }, {",
            "            # WimTv embed player",
            "            'url': 'http://www.msmotor.tv/wearefmi-pt-2-2021/',",
            "            'info_dict': {",
            "                'id': 'wearefmi-pt-2-2021',",
            "                'title': '#WEAREFMI \u2013 PT.2 \u2013 2021 \u2013 MsMotorTV',",
            "            },",
            "            'playlist_count': 1,",
            "        }, {",
            "            # KVS Player",
            "            'url': 'https://www.kvs-demo.com/videos/105/kelis-4th-of-july/',",
            "            'info_dict': {",
            "                'id': '105',",
            "                'display_id': 'kelis-4th-of-july',",
            "                'ext': 'mp4',",
            "                'title': 'Kelis - 4th Of July',",
            "                'description': 'Kelis - 4th Of July',",
            "                'thumbnail': r're:https://(?:www\\.)?kvs-demo.com/contents/videos_screenshots/0/105/preview.jpg',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'expected_warnings': ['Untested major version'],",
            "        }, {",
            "            # KVS Player",
            "            'url': 'https://www.kvs-demo.com/embed/105/',",
            "            'info_dict': {",
            "                'id': '105',",
            "                'display_id': 'kelis-4th-of-july',",
            "                'ext': 'mp4',",
            "                'title': 'Kelis - 4th Of July / Embed Player',",
            "                'thumbnail': r're:https://(?:www\\.)?kvs-demo.com/contents/videos_screenshots/0/105/preview.jpg',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        }, {",
            "            'url': 'https://youix.com/video/leningrad-zoj/',",
            "            'md5': '94f96ba95706dc3880812b27b7d8a2b8',",
            "            'info_dict': {",
            "                'id': '18485',",
            "                'display_id': 'leningrad-zoj',",
            "                'ext': 'mp4',",
            "                'title': '\u041a\u043b\u0438\u043f: \u041b\u0435\u043d\u0438\u043d\u0433\u0440\u0430\u0434 - \u0417\u041e\u0416 \u0441\u043a\u0430\u0447\u0430\u0442\u044c, \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043e\u043d\u043b\u0430\u0439\u043d | Youix.com',",
            "                'thumbnail': r're:https://youix.com/contents/videos_screenshots/18000/18485/preview(?:_480x320_youix_com.mp4)?\\.jpg',",
            "            },",
            "        }, {",
            "            # KVS Player",
            "            'url': 'https://youix.com/embed/18485',",
            "            'md5': '94f96ba95706dc3880812b27b7d8a2b8',",
            "            'info_dict': {",
            "                'id': '18485',",
            "                'display_id': 'leningrad-zoj',",
            "                'ext': 'mp4',",
            "                'title': '\u041b\u0435\u043d\u0438\u043d\u0433\u0440\u0430\u0434 - \u0417\u041e\u0416',",
            "                'thumbnail': r're:https://youix.com/contents/videos_screenshots/18000/18485/preview(?:_480x320_youix_com.mp4)?\\.jpg',",
            "            },",
            "        }, {",
            "            # KVS Player",
            "            'url': 'https://bogmedia.org/videos/21217/40-nochey-40-nights-2016/',",
            "            'md5': '94166bdb26b4cb1fb9214319a629fc51',",
            "            'info_dict': {",
            "                'id': '21217',",
            "                'display_id': '40-nochey-2016',",
            "                'ext': 'mp4',",
            "                'title': '40 \u043d\u043e\u0447\u0435\u0439 (2016) - BogMedia.org',",
            "                'description': 'md5:4e6d7d622636eb7948275432eb256dc3',",
            "                'thumbnail': 'https://bogmedia.org/contents/videos_screenshots/21000/21217/preview_480p.mp4.jpg',",
            "            },",
            "        },",
            "        {",
            "            # KVS Player (for sites that serve kt_player.js via non-https urls)",
            "            'url': 'http://www.camhub.world/embed/389508',",
            "            'md5': 'fbe89af4cfb59c8fd9f34a202bb03e32',",
            "            'info_dict': {",
            "                'id': '389508',",
            "                'display_id': 'syren-de-mer-onlyfans-05-07-2020have-a-happy-safe-holiday5f014e68a220979bdb8cd-source',",
            "                'ext': 'mp4',",
            "                'title': 'Syren De Mer onlyfans_05-07-2020Have_a_happy_safe_holiday5f014e68a220979bdb8cd_source / Embed \u043f\u043b\u0435\u0435\u0440',",
            "                'thumbnail': r're:https?://www\\.camhub\\.world/contents/videos_screenshots/389000/389508/preview\\.mp4\\.jpg',",
            "            },",
            "        },",
            "        {",
            "            # Reddit-hosted video that will redirect and be processed by RedditIE",
            "            # Redirects to https://www.reddit.com/r/videos/comments/6rrwyj/that_small_heart_attack/",
            "            'url': 'https://v.redd.it/zv89llsvexdz',",
            "            'md5': '87f5f02f6c1582654146f830f21f8662',",
            "            'info_dict': {",
            "                'id': 'zv89llsvexdz',",
            "                'ext': 'mp4',",
            "                'timestamp': 1501941939.0,",
            "                'title': 'That small heart attack.',",
            "                'upload_date': '20170805',",
            "                'uploader': 'Antw87'",
            "            }",
            "        },",
            "        {",
            "            # 1080p Reddit-hosted video that will redirect and be processed by RedditIE",
            "            'url': 'https://v.redd.it/33hgok7dfbz71/',",
            "            'md5': '7a1d587940242c9bb3bd6eb320b39258',",
            "            'info_dict': {",
            "                'id': '33hgok7dfbz71',",
            "                'ext': 'mp4',",
            "                'title': \"The game Didn't want me to Knife that Guy I guess\",",
            "                'uploader': 'paraf1ve',",
            "                'timestamp': 1636788683.0,",
            "                'upload_date': '20211113'",
            "            }",
            "        },",
            "        {",
            "            # MainStreaming player",
            "            'url': 'https://www.lactv.it/2021/10/03/lac-news24-la-settimana-03-10-2021/',",
            "            'info_dict': {",
            "                'id': 'EUlZfGWkGpOd',",
            "                'title': 'La Settimana ',",
            "                'description': '03 Ottobre ore 02:00',",
            "                'ext': 'mp4',",
            "                'live_status': 'not_live',",
            "                'thumbnail': r're:https?://[A-Za-z0-9-]*\\.msvdn.net/image/\\w+/poster',",
            "                'duration': 1512",
            "            }",
            "        },",
            "        {",
            "            # Multiple gfycat iframe embeds",
            "            'url': 'https://www.gezip.net/bbs/board.php?bo_table=entertaine&wr_id=613422',",
            "            'info_dict': {",
            "                'title': '\uc7ac\uc774, \uc724, \uc138\uc740 \ud669\uae08 \ub4dc\ub808\uc2a4\ub97c \uc785\uace0 \ube5b\ub09c\ub2e4',",
            "                'id': 'board'",
            "            },",
            "            'playlist_count': 8,",
            "        },",
            "        {",
            "            # Multiple gfycat gifs (direct links)",
            "            'url': 'https://www.gezip.net/bbs/board.php?bo_table=entertaine&wr_id=612199',",
            "            'info_dict': {",
            "                'title': '\uc633\uac8c \ub41c \ud06c\ub86d \ub2c8\ud2b8 \uc2a4\ud14c\uc774\uc528 \uc544\uc774\uc0ac',",
            "                'id': 'board'",
            "            },",
            "            'playlist_count': 6",
            "        },",
            "        {",
            "            # Multiple gfycat embeds, with uppercase \"IFR\" in urls",
            "            'url': 'https://kkzz.kr/?vid=2295',",
            "            'info_dict': {",
            "                'title': '\uc9c0\ubc29\uc2dc \uc570\ubc84\uc11c\ub354 \uc5d0\uc2a4\ud30c \uce74\ub9ac\ub098 \uc6c0\uc9e4',",
            "                'id': '?vid=2295'",
            "            },",
            "            'playlist_count': 9",
            "        },",
            "        {",
            "            # Panopto embeds",
            "            'url': 'https://www.monash.edu/learning-teaching/teachhq/learning-technologies/panopto/how-to/insert-a-quiz-into-a-panopto-video',",
            "            'info_dict': {",
            "                'ext': 'mp4',",
            "                'id': '0bd3f16c-824a-436a-8486-ac5900693aef',",
            "                'title': 'Quizzes in Panopto',",
            "            },",
            "        },",
            "        {",
            "            # Ruutu embed",
            "            'url': 'https://www.nelonen.fi/ohjelmat/madventures-suomi/2160731-riku-ja-tunna-lahtevat-peurajahtiin-tv-sta-tutun-biologin-kanssa---metsastysreissu-huipentuu-kasvissyojan-painajaiseen',",
            "            'md5': 'a2513a98d3496099e6eced40f7e6a14b',",
            "            'info_dict': {",
            "                'id': '4044426',",
            "                'ext': 'mp4',",
            "                'title': 'Riku ja Tunna l\u00e4htev\u00e4t peurajahtiin tv:st\u00e4 tutun biologin kanssa \u2013 mets\u00e4stysreissu huipentuu kasvissy\u00f6j\u00e4n painajaiseen!',",
            "                'thumbnail': r're:^https?://.+\\.jpg$',",
            "                'duration': 108,",
            "                'series': 'Madventures Suomi',",
            "                'description': 'md5:aa55b44bd06a1e337a6f1d0b46507381',",
            "                'categories': ['Matkailu', 'El\u00e4m\u00e4ntyyli'],",
            "                'age_limit': 0,",
            "                'upload_date': '20220308',",
            "            },",
            "        },",
            "        {",
            "            # Multiple Ruutu embeds",
            "            'url': 'https://www.hs.fi/kotimaa/art-2000008762560.html',",
            "            'info_dict': {",
            "                'title': 'Koronavirus | Epidemiahuippu voi olla Suomessa ohi, mutta koronaviruksen poistamista yleisvaarallisten tautien joukosta harkitaan vasta syksyll\u00e4',",
            "                'id': 'art-2000008762560'",
            "            },",
            "            'playlist_count': 3",
            "        },",
            "        {",
            "            # Ruutu embed in hs.fi with a single video",
            "            'url': 'https://www.hs.fi/kotimaa/art-2000008793421.html',",
            "            'md5': 'f8964e65d8fada6e8a562389bf366bb4',",
            "            'info_dict': {",
            "                'id': '4081841',",
            "                'ext': 'mp4',",
            "                'title': 'Puolustusvoimat siirsi panssariajoneuvoja harjoituksiin Niinisaloon 2.5.2022',",
            "                'thumbnail': r're:^https?://.+\\.jpg$',",
            "                'duration': 138,",
            "                'age_limit': 0,",
            "                'upload_date': '20220504',",
            "            },",
            "        },",
            "        {",
            "            # Webpage contains double BOM",
            "            'url': 'https://www.filmarkivet.se/movies/paris-d-moll/',",
            "            'md5': 'df02cadc719dcc63d43288366f037754',",
            "            'info_dict': {",
            "                'id': 'paris-d-moll',",
            "                'ext': 'mp4',",
            "                'upload_date': '20220518',",
            "                'title': 'Paris d-moll',",
            "                'description': 'md5:319e37ea5542293db37e1e13072fe330',",
            "                'thumbnail': 'https://www.filmarkivet.se/wp-content/uploads/parisdmoll2.jpg',",
            "                'timestamp': 1652833414,",
            "                'age_limit': 0,",
            "            }",
            "        },",
            "        {",
            "            'url': 'https://www.mollymovieclub.com/p/interstellar?s=r#details',",
            "            'md5': '198bde8bed23d0b23c70725c83c9b6d9',",
            "            'info_dict': {",
            "                'id': '53602801',",
            "                'ext': 'mpga',",
            "                'title': 'Interstellar',",
            "                'description': 'Listen now | Episode One',",
            "                'thumbnail': 'md5:c30d9c83f738e16d8551d7219d321538',",
            "                'uploader': 'Molly Movie Club',",
            "                'uploader_id': '839621',",
            "            },",
            "        },",
            "        {",
            "            'url': 'https://www.blockedandreported.org/p/episode-117-lets-talk-about-depp?s=r',",
            "            'md5': 'c0cc44ee7415daeed13c26e5b56d6aa0',",
            "            'info_dict': {",
            "                'id': '57962052',",
            "                'ext': 'mpga',",
            "                'title': 'md5:855b2756f0ee10f6723fa00b16266f8d',",
            "                'description': 'md5:fe512a5e94136ad260c80bde00ea4eef',",
            "                'thumbnail': 'md5:2218f27dfe517bb5ac16c47d0aebac59',",
            "                'uploader': 'Blocked and Reported',",
            "                'uploader_id': '500230',",
            "            },",
            "        },",
            "        {",
            "            'url': 'https://www.skimag.com/video/ski-people-1980/',",
            "            'md5': '022a7e31c70620ebec18deeab376ee03',",
            "            'info_dict': {",
            "                'id': 'YTmgRiNU',",
            "                'ext': 'mp4',",
            "                'title': '1980 Ski People',",
            "                'timestamp': 1610407738,",
            "                'description': 'md5:cf9c3d101452c91e141f292b19fe4843',",
            "                'thumbnail': 'https://cdn.jwplayer.com/v2/media/YTmgRiNU/poster.jpg?width=720',",
            "                'duration': 5688.0,",
            "                'upload_date': '20210111',",
            "            }",
            "        },",
            "        {",
            "            'note': 'JSON LD with multiple @type',",
            "            'url': 'https://www.nu.nl/280161/video/hoe-een-bladvlo-dit-verwoestende-japanse-onkruid-moet-vernietigen.html',",
            "            'md5': 'c7949f34f57273013fb7ccb1156393db',",
            "            'info_dict': {",
            "                'id': 'ipy2AcGL',",
            "                'ext': 'mp4',",
            "                'description': 'md5:6a9d644bab0dc2dc06849c2505d8383d',",
            "                'thumbnail': r're:https://media\\.nu\\.nl/m/.+\\.jpg',",
            "                'title': 'Hoe een bladvlo dit verwoestende Japanse onkruid moet vernietigen',",
            "                'timestamp': 1586577474,",
            "                'upload_date': '20200411',",
            "                'age_limit': 0,",
            "                'duration': 111.0,",
            "            }",
            "        },",
            "        {",
            "            'note': 'JSON LD with unexpected data type',",
            "            'url': 'https://www.autoweek.nl/autotests/artikel/porsche-911-gt3-rs-rij-impressie-2/',",
            "            'info_dict': {",
            "                'id': 'porsche-911-gt3-rs-rij-impressie-2',",
            "                'ext': 'mp4',",
            "                'title': 'Test: Porsche 911 GT3 RS',",
            "                'description': 'Je ziet het niet, maar het is er wel. Downforce, hebben we het dan over. En in de nieuwe Porsche 911 GT3 RS is er zelfs heel veel downforce.',",
            "                'timestamp': 1664920902,",
            "                'upload_date': '20221004',",
            "                'thumbnail': r're:^https://media.autoweek.nl/m/.+\\.jpg$',",
            "                'age_limit': 0,",
            "                'direct': True,",
            "            }",
            "        },",
            "        {",
            "            'note': 'server returns data in brotli compression by default if `accept-encoding: *` is specified.',",
            "            'url': 'https://www.extra.cz/cauky-lidi-70-dil-babis-predstavil-pohadky-prymulanek-nebo-andrejovy-nove-saty-ac867',",
            "            'info_dict': {",
            "                'id': 'cauky-lidi-70-dil-babis-predstavil-pohadky-prymulanek-nebo-andrejovy-nove-saty-ac867',",
            "                'ext': 'mp4',",
            "                'title': '\u010dauky lidi 70 finall',",
            "                'description': '\u010dauky lidi 70 finall',",
            "                'thumbnail': 'h',",
            "                'upload_date': '20220606',",
            "                'timestamp': 1654513791,",
            "                'duration': 318.0,",
            "                'direct': True,",
            "                'age_limit': 0,",
            "            },",
            "        },",
            "        {",
            "            'note': 'JW Player embed with unicode-escape sequences in URL',",
            "            'url': 'https://www.medici.tv/en/concerts/lahav-shani-mozart-mahler-israel-philharmonic-abu-dhabi-classics',",
            "            'info_dict': {",
            "                'id': 'm',",
            "                'ext': 'mp4',",
            "                'title': 'Lahav Shani conducts the Israel Philharmonic\\'s first-ever concert in Abu Dhabi',",
            "                'description': 'Mahler\\'s ',",
            "                'uploader': 'www.medici.tv',",
            "                'age_limit': 0,",
            "                'thumbnail': r're:^https?://.+\\.jpg',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        {",
            "            'url': 'https://shooshtime.com/videos/284002/just-out-of-the-shower-joi/',",
            "            'md5': 'e2f0a4c329f7986280b7328e24036d60',",
            "            'info_dict': {",
            "                'id': '284002',",
            "                'display_id': 'just-out-of-the-shower-joi',",
            "                'ext': 'mp4',",
            "                'title': 'Just Out Of The Shower JOI - Shooshtime',",
            "                'thumbnail': 'https://i.shoosh.co/contents/videos_screenshots/284000/284002/preview.mp4.jpg',",
            "                'height': 720,",
            "                'age_limit': 18,",
            "            },",
            "        },",
            "        {",
            "            'note': 'Live HLS direct link',",
            "            'url': 'https://d18j67ugtrocuq.cloudfront.net/out/v1/2767aec339144787926bd0322f72c6e9/index.m3u8',",
            "            'info_dict': {",
            "                'id': 'index',",
            "                'title': r're:index',",
            "                'ext': 'mp4',",
            "                'live_status': 'is_live',",
            "            },",
            "            'params': {",
            "                'skip_download': 'm3u8',",
            "            },",
            "        },",
            "        {",
            "            'note': 'Video.js VOD HLS',",
            "            'url': 'https://gist.githubusercontent.com/bashonly/2aae0862c50f4a4b84f220c315767208/raw/e3380d413749dabbe804c9c2d8fd9a45142475c7/videojs_hls_test.html',",
            "            'info_dict': {",
            "                'id': 'videojs_hls_test',",
            "                'title': 'video',",
            "                'ext': 'mp4',",
            "                'age_limit': 0,",
            "                'duration': 1800,",
            "            },",
            "            'params': {",
            "                'skip_download': 'm3u8',",
            "            },",
            "        },",
            "    ]",
            "",
            "    def report_following_redirect(self, new_url):",
            "        \"\"\"Report information extraction.\"\"\"",
            "        self._downloader.to_screen('[redirect] Following redirect to %s' % new_url)",
            "",
            "    def report_detected(self, name, num=1, note=None):",
            "        if num > 1:",
            "            name += 's'",
            "        elif not num:",
            "            return",
            "        else:",
            "            num = 'a'",
            "",
            "        self._downloader.write_debug(f'Identified {num} {name}{format_field(note, None, \"; %s\")}')",
            "",
            "    def _extra_manifest_info(self, info, manifest_url):",
            "        fragment_query = self._configuration_arg('fragment_query', [None], casesense=True)[0]",
            "        if fragment_query is not None:",
            "            info['extra_param_to_segment_url'] = (",
            "                urllib.parse.urlparse(fragment_query).query or fragment_query",
            "                or urllib.parse.urlparse(manifest_url).query or None)",
            "",
            "        hex_or_none = lambda x: x if re.fullmatch(r'(0x)?[\\da-f]+', x, re.IGNORECASE) else None",
            "        info['hls_aes'] = traverse_obj(self._configuration_arg('hls_key', casesense=True), {",
            "            'uri': (0, {url_or_none}), 'key': (0, {hex_or_none}), 'iv': (1, {hex_or_none}),",
            "        }) or None",
            "",
            "        variant_query = self._configuration_arg('variant_query', [None], casesense=True)[0]",
            "        if variant_query is not None:",
            "            query = urllib.parse.parse_qs(",
            "                urllib.parse.urlparse(variant_query).query or variant_query",
            "                or urllib.parse.urlparse(manifest_url).query)",
            "            for fmt in self._downloader._get_formats(info):",
            "                fmt['url'] = update_url_query(fmt['url'], query)",
            "",
            "        # Attempt to detect live HLS or set VOD duration",
            "        m3u8_format = next((f for f in self._downloader._get_formats(info)",
            "                            if determine_protocol(f) == 'm3u8_native'), None)",
            "        if m3u8_format:",
            "            is_live = self._configuration_arg('is_live', [None])[0]",
            "            if is_live is not None:",
            "                info['live_status'] = 'not_live' if is_live == 'false' else 'is_live'",
            "                return",
            "            headers = m3u8_format.get('http_headers') or info.get('http_headers')",
            "            duration = self._extract_m3u8_vod_duration(",
            "                m3u8_format['url'], info.get('id'), note='Checking m3u8 live status',",
            "                errnote='Failed to download m3u8 media playlist', headers=headers)",
            "            if not duration:",
            "                info['live_status'] = 'is_live'",
            "            info['duration'] = info.get('duration') or duration",
            "",
            "    def _extract_rss(self, url, video_id, doc):",
            "        NS_MAP = {",
            "            'itunes': 'http://www.itunes.com/dtds/podcast-1.0.dtd',",
            "        }",
            "",
            "        entries = []",
            "        for it in doc.findall('./channel/item'):",
            "            next_url = next(",
            "                (e.attrib.get('url') for e in it.findall('./enclosure')),",
            "                xpath_text(it, 'link', fatal=False))",
            "            if not next_url:",
            "                continue",
            "",
            "            guid = try_call(lambda: it.find('guid').text)",
            "            if guid:",
            "                next_url = smuggle_url(next_url, {'force_videoid': guid})",
            "",
            "            def itunes(key):",
            "                return xpath_text(it, xpath_with_ns(f'./itunes:{key}', NS_MAP), default=None)",
            "",
            "            entries.append({",
            "                '_type': 'url_transparent',",
            "                'url': next_url,",
            "                'title': try_call(lambda: it.find('title').text),",
            "                'description': xpath_text(it, 'description', default=None),",
            "                'timestamp': unified_timestamp(xpath_text(it, 'pubDate', default=None)),",
            "                'duration': parse_duration(itunes('duration')),",
            "                'thumbnail': url_or_none(xpath_attr(it, xpath_with_ns('./itunes:image', NS_MAP), 'href')),",
            "                'episode': itunes('title'),",
            "                'episode_number': int_or_none(itunes('episode')),",
            "                'season_number': int_or_none(itunes('season')),",
            "                'age_limit': {'true': 18, 'yes': 18, 'false': 0, 'no': 0}.get((itunes('explicit') or '').lower()),",
            "            })",
            "",
            "        return {",
            "            '_type': 'playlist',",
            "            'id': url,",
            "            'title': try_call(lambda: doc.find('./channel/title').text),",
            "            'description': try_call(lambda: doc.find('./channel/description').text),",
            "            'entries': entries,",
            "        }",
            "",
            "    @classmethod",
            "    def _kvs_get_real_url(cls, video_url, license_code):",
            "        if not video_url.startswith('function/0/'):",
            "            return video_url  # not obfuscated",
            "",
            "        parsed = urllib.parse.urlparse(video_url[len('function/0/'):])",
            "        license = cls._kvs_get_license_token(license_code)",
            "        urlparts = parsed.path.split('/')",
            "",
            "        HASH_LENGTH = 32",
            "        hash = urlparts[3][:HASH_LENGTH]",
            "        indices = list(range(HASH_LENGTH))",
            "",
            "        # Swap indices of hash according to the destination calculated from the license token",
            "        accum = 0",
            "        for src in reversed(range(HASH_LENGTH)):",
            "            accum += license[src]",
            "            dest = (src + accum) % HASH_LENGTH",
            "            indices[src], indices[dest] = indices[dest], indices[src]",
            "",
            "        urlparts[3] = ''.join(hash[index] for index in indices) + urlparts[3][HASH_LENGTH:]",
            "        return urllib.parse.urlunparse(parsed._replace(path='/'.join(urlparts)))",
            "",
            "    @staticmethod",
            "    def _kvs_get_license_token(license):",
            "        license = license.replace('$', '')",
            "        license_values = [int(char) for char in license]",
            "",
            "        modlicense = license.replace('0', '1')",
            "        center = len(modlicense) // 2",
            "        fronthalf = int(modlicense[:center + 1])",
            "        backhalf = int(modlicense[center:])",
            "        modlicense = str(4 * abs(fronthalf - backhalf))[:center + 1]",
            "",
            "        return [",
            "            (license_values[index + offset] + current) % 10",
            "            for index, current in enumerate(map(int, modlicense))",
            "            for offset in range(4)",
            "        ]",
            "",
            "    def _extract_kvs(self, url, webpage, video_id):",
            "        flashvars = self._search_json(",
            "            r'(?s:<script\\b[^>]*>.*?var\\s+flashvars\\s*=)',",
            "            webpage, 'flashvars', video_id, transform_source=js_to_json)",
            "",
            "        # extract the part after the last / as the display_id from the",
            "        # canonical URL.",
            "        display_id = self._search_regex(",
            "            r'(?:<link href=\"https?://[^\"]+/(.+?)/?\" rel=\"canonical\"\\s*/?>'",
            "            r'|<link rel=\"canonical\" href=\"https?://[^\"]+/(.+?)/?\"\\s*/?>)',",
            "            webpage, 'display_id', fatal=False)",
            "        title = self._html_search_regex(r'<(?:h1|title)>(?:Video: )?(.+?)</(?:h1|title)>', webpage, 'title')",
            "",
            "        thumbnail = flashvars['preview_url']",
            "        if thumbnail.startswith('//'):",
            "            protocol, _, _ = url.partition('/')",
            "            thumbnail = protocol + thumbnail",
            "",
            "        url_keys = list(filter(re.compile(r'^video_(?:url|alt_url\\d*)$').match, flashvars.keys()))",
            "        formats = []",
            "        for key in url_keys:",
            "            if '/get_file/' not in flashvars[key]:",
            "                continue",
            "            format_id = flashvars.get(f'{key}_text', key)",
            "            formats.append({",
            "                'url': urljoin(url, self._kvs_get_real_url(flashvars[key], flashvars['license_code'])),",
            "                'format_id': format_id,",
            "                'ext': 'mp4',",
            "                **(parse_resolution(format_id) or parse_resolution(flashvars[key])),",
            "                'http_headers': {'Referer': url},",
            "            })",
            "            if not formats[-1].get('height'):",
            "                formats[-1]['quality'] = 1",
            "",
            "        return {",
            "            'id': flashvars['video_id'],",
            "            'display_id': display_id,",
            "            'title': title,",
            "            'thumbnail': urljoin(url, thumbnail),",
            "            'formats': formats,",
            "        }",
            "",
            "    def _real_extract(self, url):",
            "        if url.startswith('//'):",
            "            return self.url_result(self.http_scheme() + url)",
            "",
            "        parsed_url = urllib.parse.urlparse(url)",
            "        if not parsed_url.scheme:",
            "            default_search = self.get_param('default_search')",
            "            if default_search is None:",
            "                default_search = 'fixup_error'",
            "",
            "            if default_search in ('auto', 'auto_warning', 'fixup_error'):",
            "                if re.match(r'^[^\\s/]+\\.[^\\s/]+/', url):",
            "                    self.report_warning('The url doesn\\'t specify the protocol, trying with http')",
            "                    return self.url_result('http://' + url)",
            "                elif default_search != 'fixup_error':",
            "                    if default_search == 'auto_warning':",
            "                        if re.match(r'^(?:url|URL)$', url):",
            "                            raise ExtractorError(",
            "                                'Invalid URL:  %r . Call yt-dlp like this:  yt-dlp -v \"https://www.youtube.com/watch?v=BaW_jenozKc\"  ' % url,",
            "                                expected=True)",
            "                        else:",
            "                            self.report_warning(",
            "                                'Falling back to youtube search for  %s . Set --default-search \"auto\" to suppress this warning.' % url)",
            "                    return self.url_result('ytsearch:' + url)",
            "",
            "            if default_search in ('error', 'fixup_error'):",
            "                raise ExtractorError(",
            "                    '%r is not a valid URL. '",
            "                    'Set --default-search \"ytsearch\" (or run  yt-dlp \"ytsearch:%s\" ) to search YouTube'",
            "                    % (url, url), expected=True)",
            "            else:",
            "                if ':' not in default_search:",
            "                    default_search += ':'",
            "                return self.url_result(default_search + url)",
            "",
            "        original_url = url",
            "        url, smuggled_data = unsmuggle_url(url, {})",
            "        force_videoid = None",
            "        is_intentional = smuggled_data.get('to_generic')",
            "        if 'force_videoid' in smuggled_data:",
            "            force_videoid = smuggled_data['force_videoid']",
            "            video_id = force_videoid",
            "        else:",
            "            video_id = self._generic_id(url)",
            "",
            "        # Some webservers may serve compressed content of rather big size (e.g. gzipped flac)",
            "        # making it impossible to download only chunk of the file (yet we need only 512kB to",
            "        # test whether it's HTML or not). According to yt-dlp default Accept-Encoding",
            "        # that will always result in downloading the whole file that is not desirable.",
            "        # Therefore for extraction pass we have to override Accept-Encoding to any in order",
            "        # to accept raw bytes and being able to download only a chunk.",
            "        # It may probably better to solve this by checking Content-Type for application/octet-stream",
            "        # after a HEAD request, but not sure if we can rely on this.",
            "        full_response = self._request_webpage(url, video_id, headers={",
            "            'Accept-Encoding': 'identity',",
            "            **smuggled_data.get('http_headers', {})",
            "        })",
            "        new_url = full_response.url",
            "        url = urllib.parse.urlparse(url)._replace(scheme=urllib.parse.urlparse(new_url).scheme).geturl()",
            "        if new_url != extract_basic_auth(url)[0]:",
            "            self.report_following_redirect(new_url)",
            "            if force_videoid:",
            "                new_url = smuggle_url(new_url, {'force_videoid': force_videoid})",
            "            return self.url_result(new_url)",
            "",
            "        info_dict = {",
            "            'id': video_id,",
            "            'title': self._generic_title(url),",
            "            'timestamp': unified_timestamp(full_response.headers.get('Last-Modified'))",
            "        }",
            "",
            "        # Check for direct link to a video",
            "        content_type = full_response.headers.get('Content-Type', '').lower()",
            "        m = re.match(r'^(?P<type>audio|video|application(?=/(?:ogg$|(?:vnd\\.apple\\.|x-)?mpegurl)))/(?P<format_id>[^;\\s]+)', content_type)",
            "        if m:",
            "            self.report_detected('direct video link')",
            "            headers = smuggled_data.get('http_headers', {})",
            "            format_id = str(m.group('format_id'))",
            "            ext = determine_ext(url, default_ext=None) or urlhandle_detect_ext(full_response)",
            "            subtitles = {}",
            "            if format_id.endswith('mpegurl') or ext == 'm3u8':",
            "                formats, subtitles = self._extract_m3u8_formats_and_subtitles(url, video_id, 'mp4', headers=headers)",
            "            elif format_id.endswith('mpd') or format_id.endswith('dash+xml') or ext == 'mpd':",
            "                formats, subtitles = self._extract_mpd_formats_and_subtitles(url, video_id, headers=headers)",
            "            elif format_id == 'f4m' or ext == 'f4m':",
            "                formats = self._extract_f4m_formats(url, video_id, headers=headers)",
            "            else:",
            "                formats = [{",
            "                    'format_id': format_id,",
            "                    'url': url,",
            "                    'ext': ext,",
            "                    'vcodec': 'none' if m.group('type') == 'audio' else None",
            "                }]",
            "                info_dict['direct'] = True",
            "            info_dict.update({",
            "                'formats': formats,",
            "                'subtitles': subtitles,",
            "                'http_headers': headers or None,",
            "            })",
            "            self._extra_manifest_info(info_dict, url)",
            "            return info_dict",
            "",
            "        if not self.get_param('test', False) and not is_intentional:",
            "            force = self.get_param('force_generic_extractor', False)",
            "            self.report_warning('%s generic information extractor' % ('Forcing' if force else 'Falling back on'))",
            "",
            "        first_bytes = full_response.read(512)",
            "",
            "        # Is it an M3U playlist?",
            "        if first_bytes.startswith(b'#EXTM3U'):",
            "            self.report_detected('M3U playlist')",
            "            info_dict['formats'], info_dict['subtitles'] = self._extract_m3u8_formats_and_subtitles(url, video_id, 'mp4')",
            "            self._extra_manifest_info(info_dict, url)",
            "            return info_dict",
            "",
            "        # Maybe it's a direct link to a video?",
            "        # Be careful not to download the whole thing!",
            "        if not is_html(first_bytes):",
            "            self.report_warning(",
            "                'URL could be a direct video link, returning it as such.')",
            "            info_dict.update({",
            "                'direct': True,",
            "                'url': url,",
            "            })",
            "            return info_dict",
            "",
            "        webpage = self._webpage_read_content(",
            "            full_response, url, video_id, prefix=first_bytes)",
            "",
            "        if '<title>DPG Media Privacy Gate</title>' in webpage:",
            "            webpage = self._download_webpage(url, video_id)",
            "",
            "        self.report_extraction(video_id)",
            "",
            "        # Is it an RSS feed, a SMIL file, an XSPF playlist or a MPD manifest?",
            "        try:",
            "            try:",
            "                doc = compat_etree_fromstring(webpage)",
            "            except xml.etree.ElementTree.ParseError:",
            "                doc = compat_etree_fromstring(webpage.encode('utf-8'))",
            "            if doc.tag == 'rss':",
            "                self.report_detected('RSS feed')",
            "                return self._extract_rss(url, video_id, doc)",
            "            elif doc.tag == 'SmoothStreamingMedia':",
            "                info_dict['formats'], info_dict['subtitles'] = self._parse_ism_formats_and_subtitles(doc, url)",
            "                self.report_detected('ISM manifest')",
            "                return info_dict",
            "            elif re.match(r'^(?:{[^}]+})?smil$', doc.tag):",
            "                smil = self._parse_smil(doc, url, video_id)",
            "                self.report_detected('SMIL file')",
            "                return smil",
            "            elif doc.tag == '{http://xspf.org/ns/0/}playlist':",
            "                self.report_detected('XSPF playlist')",
            "                return self.playlist_result(",
            "                    self._parse_xspf(",
            "                        doc, video_id, xspf_url=url,",
            "                        xspf_base_url=full_response.url),",
            "                    video_id)",
            "            elif re.match(r'(?i)^(?:{[^}]+})?MPD$', doc.tag):",
            "                info_dict['formats'], info_dict['subtitles'] = self._parse_mpd_formats_and_subtitles(",
            "                    doc,",
            "                    mpd_base_url=full_response.url.rpartition('/')[0],",
            "                    mpd_url=url)",
            "                self._extra_manifest_info(info_dict, url)",
            "                self.report_detected('DASH manifest')",
            "                return info_dict",
            "            elif re.match(r'^{http://ns\\.adobe\\.com/f4m/[12]\\.0}manifest$', doc.tag):",
            "                info_dict['formats'] = self._parse_f4m_formats(doc, url, video_id)",
            "                self.report_detected('F4M manifest')",
            "                return info_dict",
            "        except xml.etree.ElementTree.ParseError:",
            "            pass",
            "",
            "        info_dict.update({",
            "            # it's tempting to parse this further, but you would",
            "            # have to take into account all the variations like",
            "            #   Video Title - Site Name",
            "            #   Site Name | Video Title",
            "            #   Video Title - Tagline | Site Name",
            "            # and so on and so forth; it's just not practical",
            "            'title': self._generic_title('', webpage, default='video'),",
            "            'description': self._og_search_description(webpage, default=None),",
            "            'thumbnail': self._og_search_thumbnail(webpage, default=None),",
            "            'age_limit': self._rta_search(webpage),",
            "        })",
            "",
            "        self._downloader.write_debug('Looking for embeds')",
            "        embeds = list(self._extract_embeds(original_url, webpage, urlh=full_response, info_dict=info_dict))",
            "        if len(embeds) == 1:",
            "            return merge_dicts(embeds[0], info_dict)",
            "        elif embeds:",
            "            return self.playlist_result(embeds, **info_dict)",
            "        raise UnsupportedError(url)",
            "",
            "    def _extract_embeds(self, url, webpage, *, urlh=None, info_dict={}):",
            "        \"\"\"Returns an iterator of video entries\"\"\"",
            "        info_dict = types.MappingProxyType(info_dict)  # Prevents accidental mutation",
            "        video_id = traverse_obj(info_dict, 'display_id', 'id') or self._generic_id(url)",
            "        url, smuggled_data = unsmuggle_url(url, {})",
            "        actual_url = urlh.url if urlh else url",
            "",
            "        # Sometimes embedded video player is hidden behind percent encoding",
            "        # (e.g. https://github.com/ytdl-org/youtube-dl/issues/2448)",
            "        # Unescaping the whole page allows to handle those cases in a generic way",
            "        # FIXME: unescaping the whole page may break URLs, commenting out for now.",
            "        # There probably should be a second run of generic extractor on unescaped webpage.",
            "        # webpage = urllib.parse.unquote(webpage)",
            "",
            "        embeds = []",
            "        for ie in self._downloader._ies.values():",
            "            if ie.ie_key() in smuggled_data.get('block_ies', []):",
            "                continue",
            "            gen = ie.extract_from_webpage(self._downloader, url, webpage)",
            "            current_embeds = []",
            "            try:",
            "                while True:",
            "                    current_embeds.append(next(gen))",
            "            except self.StopExtraction:",
            "                self.report_detected(f'{ie.IE_NAME} exclusive embed', len(current_embeds),",
            "                                     embeds and 'discarding other embeds')",
            "                return current_embeds",
            "            except StopIteration:",
            "                self.report_detected(f'{ie.IE_NAME} embed', len(current_embeds))",
            "                embeds.extend(current_embeds)",
            "",
            "        if embeds:",
            "            return embeds",
            "",
            "        jwplayer_data = self._find_jwplayer_data(",
            "            webpage, video_id, transform_source=js_to_json)",
            "        if jwplayer_data:",
            "            if isinstance(jwplayer_data.get('playlist'), str):",
            "                self.report_detected('JW Player playlist')",
            "                return [self.url_result(jwplayer_data['playlist'], 'JWPlatform')]",
            "            try:",
            "                info = self._parse_jwplayer_data(",
            "                    jwplayer_data, video_id, require_title=False, base_url=url)",
            "                if traverse_obj(info, 'formats', ('entries', ..., 'formats')):",
            "                    self.report_detected('JW Player data')",
            "                    return [info]",
            "            except ExtractorError:",
            "                # See https://github.com/ytdl-org/youtube-dl/pull/16735",
            "                pass",
            "",
            "        # Video.js embed",
            "        mobj = re.search(",
            "            r'(?s)\\bvideojs\\s*\\(.+?([a-zA-Z0-9_$]+)\\.src\\s*\\(\\s*((?:\\[.+?\\]|{.+?}))\\s*\\)\\s*;',",
            "            webpage)",
            "        if mobj is not None:",
            "            varname = mobj.group(1)",
            "            sources = variadic(self._parse_json(",
            "                mobj.group(2), video_id, transform_source=js_to_json, fatal=False) or [])",
            "            formats, subtitles, src = [], {}, None",
            "            for source in sources:",
            "                src = source.get('src')",
            "                if not src or not isinstance(src, str):",
            "                    continue",
            "                src = urllib.parse.urljoin(url, src)",
            "                src_type = source.get('type')",
            "                if isinstance(src_type, str):",
            "                    src_type = src_type.lower()",
            "                ext = determine_ext(src).lower()",
            "                if src_type == 'video/youtube':",
            "                    return [self.url_result(src, YoutubeIE.ie_key())]",
            "                if src_type == 'application/dash+xml' or ext == 'mpd':",
            "                    fmts, subs = self._extract_mpd_formats_and_subtitles(",
            "                        src, video_id, mpd_id='dash', fatal=False)",
            "                    formats.extend(fmts)",
            "                    self._merge_subtitles(subs, target=subtitles)",
            "                elif src_type == 'application/x-mpegurl' or ext == 'm3u8':",
            "                    fmts, subs = self._extract_m3u8_formats_and_subtitles(",
            "                        src, video_id, 'mp4', entry_protocol='m3u8_native',",
            "                        m3u8_id='hls', fatal=False)",
            "                    formats.extend(fmts)",
            "                    self._merge_subtitles(subs, target=subtitles)",
            "",
            "                if not formats:",
            "                    formats.append({",
            "                        'url': src,",
            "                        'ext': (mimetype2ext(src_type)",
            "                                or ext if ext in KNOWN_EXTENSIONS else 'mp4'),",
            "                        'http_headers': {",
            "                            'Referer': actual_url,",
            "                        },",
            "                    })",
            "            # https://docs.videojs.com/player#addRemoteTextTrack",
            "            # https://html.spec.whatwg.org/multipage/media.html#htmltrackelement",
            "            for sub_match in re.finditer(rf'(?s){re.escape(varname)}' r'\\.addRemoteTextTrack\\(({.+?})\\s*,\\s*(?:true|false)\\)', webpage):",
            "                sub = self._parse_json(",
            "                    sub_match.group(1), video_id, transform_source=js_to_json, fatal=False) or {}",
            "                sub_src = str_or_none(sub.get('src'))",
            "                if not sub_src:",
            "                    continue",
            "                subtitles.setdefault(dict_get(sub, ('language', 'srclang')) or 'und', []).append({",
            "                    'url': urllib.parse.urljoin(url, sub_src),",
            "                    'name': sub.get('label'),",
            "                    'http_headers': {",
            "                        'Referer': actual_url,",
            "                    },",
            "                })",
            "            if formats or subtitles:",
            "                self.report_detected('video.js embed')",
            "                info_dict = {'formats': formats, 'subtitles': subtitles}",
            "                if formats:",
            "                    self._extra_manifest_info(info_dict, src)",
            "                return [info_dict]",
            "",
            "        # Look for generic KVS player (before json-ld bc of some urls that break otherwise)",
            "        found = self._search_regex((",
            "            r'<script\\b[^>]+?\\bsrc\\s*=\\s*([\"\\'])https?://(?:(?!\\1)[^?#])+/kt_player\\.js\\?v=(?P<ver>\\d+(?:\\.\\d+)+)\\1[^>]*>',",
            "            r'kt_player\\s*\\(\\s*([\"\\'])(?:(?!\\1)[\\w\\W])+\\1\\s*,\\s*([\"\\'])https?://(?:(?!\\2)[^?#])+/kt_player\\.swf\\?v=(?P<ver>\\d+(?:\\.\\d+)+)\\2\\s*,',",
            "        ), webpage, 'KVS player', group='ver', default=False)",
            "        if found:",
            "            self.report_detected('KVS Player')",
            "            if found.split('.')[0] not in ('4', '5', '6'):",
            "                self.report_warning(f'Untested major version ({found}) in player engine - download may fail.')",
            "            return [self._extract_kvs(url, webpage, video_id)]",
            "",
            "        # Looking for http://schema.org/VideoObject",
            "        json_ld = self._search_json_ld(webpage, video_id, default={})",
            "        if json_ld.get('url') not in (url, None):",
            "            self.report_detected('JSON LD')",
            "            is_direct = json_ld.get('ext') not in (None, *MEDIA_EXTENSIONS.manifests)",
            "            return [merge_dicts({",
            "                '_type': 'video' if is_direct else 'url_transparent',",
            "                'url': smuggle_url(json_ld['url'], {",
            "                    'force_videoid': video_id,",
            "                    'to_generic': True,",
            "                    'http_headers': {'Referer': url},",
            "                }),",
            "            }, json_ld)]",
            "",
            "        def check_video(vurl):",
            "            if YoutubeIE.suitable(vurl):",
            "                return True",
            "            if RtmpIE.suitable(vurl):",
            "                return True",
            "            vpath = urllib.parse.urlparse(vurl).path",
            "            vext = determine_ext(vpath, None)",
            "            return vext not in (None, 'swf', 'png', 'jpg', 'srt', 'sbv', 'sub', 'vtt', 'ttml', 'js', 'xml')",
            "",
            "        def filter_video(urls):",
            "            return list(filter(check_video, urls))",
            "",
            "        # Start with something easy: JW Player in SWFObject",
            "        found = filter_video(re.findall(r'flashvars: [\\'\"](?:.*&)?file=(http[^\\'\"&]*)', webpage))",
            "        if found:",
            "            self.report_detected('JW Player in SFWObject')",
            "        else:",
            "            # Look for gorilla-vid style embedding",
            "            found = filter_video(re.findall(r'''(?sx)",
            "                (?:",
            "                    jw_plugins|",
            "                    JWPlayerOptions|",
            "                    jwplayer\\s*\\(\\s*[\"'][^'\"]+[\"']\\s*\\)\\s*\\.setup",
            "                )",
            "                .*?",
            "                ['\"]?file['\"]?\\s*:\\s*[\"\\'](.*?)[\"\\']''', webpage))",
            "            if found:",
            "                self.report_detected('JW Player embed')",
            "        if not found:",
            "            # Broaden the search a little bit",
            "            found = filter_video(re.findall(r'[^A-Za-z0-9]?(?:file|source)=(http[^\\'\"&]*)', webpage))",
            "            if found:",
            "                self.report_detected('video file')",
            "        if not found:",
            "            # Broaden the findall a little bit: JWPlayer JS loader",
            "            found = filter_video(re.findall(",
            "                r'[^A-Za-z0-9]?(?:file|video_url)[\"\\']?:\\s*[\"\\'](http(?![^\\'\"]+\\.[0-9]+[\\'\"])[^\\'\"]+)[\"\\']', webpage))",
            "            if found:",
            "                self.report_detected('JW Player JS loader')",
            "        if not found:",
            "            # Flow player",
            "            found = filter_video(re.findall(r'''(?xs)",
            "                flowplayer\\(\"[^\"]+\",\\s*",
            "                    \\{[^}]+?\\}\\s*,",
            "                    \\s*\\{[^}]+? [\"']?clip[\"']?\\s*:\\s*\\{\\s*",
            "                        [\"']?url[\"']?\\s*:\\s*[\"']([^\"']+)[\"']",
            "            ''', webpage))",
            "            if found:",
            "                self.report_detected('Flow Player')",
            "        if not found:",
            "            # Cinerama player",
            "            found = re.findall(",
            "                r\"cinerama\\.embedPlayer\\(\\s*\\'[^']+\\',\\s*'([^']+)'\", webpage)",
            "            if found:",
            "                self.report_detected('Cinerama player')",
            "        if not found:",
            "            # Try to find twitter cards info",
            "            # twitter:player:stream should be checked before twitter:player since",
            "            # it is expected to contain a raw stream (see",
            "            # https://dev.twitter.com/cards/types/player#On_twitter.com_via_desktop_browser)",
            "            found = filter_video(re.findall(",
            "                r'<meta (?:property|name)=\"twitter:player:stream\" (?:content|value)=\"(.+?)\"', webpage))",
            "            if found:",
            "                self.report_detected('Twitter card')",
            "        if not found:",
            "            # We look for Open Graph info:",
            "            # We have to match any number spaces between elements, some sites try to align them, e.g.: statigr.am",
            "            m_video_type = re.findall(r'<meta.*?property=\"og:video:type\".*?content=\"video/(.*?)\"', webpage)",
            "            # We only look in og:video if the MIME type is a video, don't try if it's a Flash player:",
            "            if m_video_type is not None:",
            "                found = filter_video(re.findall(r'<meta.*?property=\"og:(?:video|audio)\".*?content=\"(.*?)\"', webpage))",
            "                if found:",
            "                    self.report_detected('Open Graph video info')",
            "        if not found:",
            "            REDIRECT_REGEX = r'[0-9]{,2};\\s*(?:URL|url)=\\'?([^\\'\"]+)'",
            "            found = re.search(",
            "                r'(?i)<meta\\s+(?=(?:[a-z-]+=\"[^\"]+\"\\s+)*http-equiv=\"refresh\")'",
            "                r'(?:[a-z-]+=\"[^\"]+\"\\s+)*?content=\"%s' % REDIRECT_REGEX,",
            "                webpage)",
            "            if not found:",
            "                # Look also in Refresh HTTP header",
            "                refresh_header = urlh and urlh.headers.get('Refresh')",
            "                if refresh_header:",
            "                    found = re.search(REDIRECT_REGEX, refresh_header)",
            "            if found:",
            "                new_url = urllib.parse.urljoin(url, unescapeHTML(found.group(1)))",
            "                if new_url != url:",
            "                    self.report_following_redirect(new_url)",
            "                    return [self.url_result(new_url)]",
            "                else:",
            "                    found = None",
            "",
            "        if not found:",
            "            # twitter:player is a https URL to iframe player that may or may not",
            "            # be supported by yt-dlp thus this is checked the very last (see",
            "            # https://dev.twitter.com/cards/types/player#On_twitter.com_via_desktop_browser)",
            "            embed_url = self._html_search_meta('twitter:player', webpage, default=None)",
            "            if embed_url and embed_url != url:",
            "                self.report_detected('twitter:player iframe')",
            "                return [self.url_result(embed_url)]",
            "",
            "        if not found:",
            "            return []",
            "",
            "        domain_name = self._search_regex(r'^(?:https?://)?([^/]*)/.*', url, 'video uploader', default=None)",
            "",
            "        entries = []",
            "        for video_url in orderedSet(found):",
            "            video_url = video_url.encode().decode('unicode-escape')",
            "            video_url = unescapeHTML(video_url)",
            "            video_url = video_url.replace('\\\\/', '/')",
            "            video_url = urllib.parse.urljoin(url, video_url)",
            "            video_id = urllib.parse.unquote(os.path.basename(video_url))",
            "",
            "            # Sometimes, jwplayer extraction will result in a YouTube URL",
            "            if YoutubeIE.suitable(video_url):",
            "                entries.append(self.url_result(video_url, 'Youtube'))",
            "                continue",
            "",
            "            video_id = os.path.splitext(video_id)[0]",
            "            headers = {",
            "                'referer': actual_url",
            "            }",
            "",
            "            entry_info_dict = {",
            "                'id': video_id,",
            "                'uploader': domain_name,",
            "                'title': info_dict['title'],",
            "                'age_limit': info_dict['age_limit'],",
            "                'http_headers': headers,",
            "            }",
            "",
            "            if RtmpIE.suitable(video_url):",
            "                entry_info_dict.update({",
            "                    '_type': 'url_transparent',",
            "                    'ie_key': RtmpIE.ie_key(),",
            "                    'url': video_url,",
            "                })",
            "                entries.append(entry_info_dict)",
            "                continue",
            "",
            "            ext = determine_ext(video_url)",
            "            if ext == 'smil':",
            "                entry_info_dict = {**self._extract_smil_info(video_url, video_id), **entry_info_dict}",
            "            elif ext == 'xspf':",
            "                return [self._extract_xspf_playlist(video_url, video_id)]",
            "            elif ext == 'm3u8':",
            "                entry_info_dict['formats'], entry_info_dict['subtitles'] = self._extract_m3u8_formats_and_subtitles(video_url, video_id, ext='mp4', headers=headers)",
            "                self._extra_manifest_info(entry_info_dict, video_url)",
            "            elif ext == 'mpd':",
            "                entry_info_dict['formats'], entry_info_dict['subtitles'] = self._extract_mpd_formats_and_subtitles(video_url, video_id, headers=headers)",
            "                self._extra_manifest_info(entry_info_dict, video_url)",
            "            elif ext == 'f4m':",
            "                entry_info_dict['formats'] = self._extract_f4m_formats(video_url, video_id, headers=headers)",
            "            elif re.search(r'(?i)\\.(?:ism|smil)/manifest', video_url) and video_url != url:",
            "                # Just matching .ism/manifest is not enough to be reliably sure",
            "                # whether it's actually an ISM manifest or some other streaming",
            "                # manifest since there are various streaming URL formats",
            "                # possible (see [1]) as well as some other shenanigans like",
            "                # .smil/manifest URLs that actually serve an ISM (see [2]) and",
            "                # so on.",
            "                # Thus the most reasonable way to solve this is to delegate",
            "                # to generic extractor in order to look into the contents of",
            "                # the manifest itself.",
            "                # 1. https://azure.microsoft.com/en-us/documentation/articles/media-services-deliver-content-overview/#streaming-url-formats",
            "                # 2. https://svs.itworkscdn.net/lbcivod/smil:itwfcdn/lbci/170976.smil/Manifest",
            "                entry_info_dict = self.url_result(",
            "                    smuggle_url(video_url, {'to_generic': True}),",
            "                    GenericIE.ie_key())",
            "            else:",
            "                entry_info_dict['url'] = video_url",
            "",
            "            entries.append(entry_info_dict)",
            "",
            "        if len(entries) > 1:",
            "            for num, e in enumerate(entries, start=1):",
            "                # 'url' results don't have a title",
            "                if e.get('title') is not None:",
            "                    e['title'] = '%s (%d)' % (e['title'], num)",
            "        return entries"
        ],
        "afterPatchFile": [
            "import os",
            "import re",
            "import types",
            "import urllib.parse",
            "import xml.etree.ElementTree",
            "",
            "from .common import InfoExtractor  # isort: split",
            "from .commonprotocols import RtmpIE",
            "from .youtube import YoutubeIE",
            "from ..compat import compat_etree_fromstring",
            "from ..utils import (",
            "    KNOWN_EXTENSIONS,",
            "    MEDIA_EXTENSIONS,",
            "    ExtractorError,",
            "    UnsupportedError,",
            "    determine_ext,",
            "    determine_protocol,",
            "    dict_get,",
            "    extract_basic_auth,",
            "    filter_dict,",
            "    format_field,",
            "    int_or_none,",
            "    is_html,",
            "    js_to_json,",
            "    merge_dicts,",
            "    mimetype2ext,",
            "    orderedSet,",
            "    parse_duration,",
            "    parse_resolution,",
            "    smuggle_url,",
            "    str_or_none,",
            "    traverse_obj,",
            "    try_call,",
            "    unescapeHTML,",
            "    unified_timestamp,",
            "    unsmuggle_url,",
            "    update_url_query,",
            "    urlhandle_detect_ext,",
            "    url_or_none,",
            "    urljoin,",
            "    variadic,",
            "    xpath_attr,",
            "    xpath_text,",
            "    xpath_with_ns,",
            ")",
            "",
            "",
            "class GenericIE(InfoExtractor):",
            "    IE_DESC = 'Generic downloader that works on some sites'",
            "    _VALID_URL = r'.*'",
            "    IE_NAME = 'generic'",
            "    _NETRC_MACHINE = False  # Suppress username warning",
            "    _TESTS = [",
            "        # Direct link to a video",
            "        {",
            "            'url': 'http://media.w3.org/2010/05/sintel/trailer.mp4',",
            "            'md5': '67d406c2bcb6af27fa886f31aa934bbe',",
            "            'info_dict': {",
            "                'id': 'trailer',",
            "                'ext': 'mp4',",
            "                'title': 'trailer',",
            "                'upload_date': '20100513',",
            "                'direct': True,",
            "                'timestamp': 1273772943.0,",
            "            }",
            "        },",
            "        # Direct link to media delivered compressed (until Accept-Encoding is *)",
            "        {",
            "            'url': 'http://calimero.tk/muzik/FictionJunction-Parallel_Hearts.flac',",
            "            'md5': '128c42e68b13950268b648275386fc74',",
            "            'info_dict': {",
            "                'id': 'FictionJunction-Parallel_Hearts',",
            "                'ext': 'flac',",
            "                'title': 'FictionJunction-Parallel_Hearts',",
            "                'upload_date': '20140522',",
            "            },",
            "            'expected_warnings': [",
            "                'URL could be a direct video link, returning it as such.'",
            "            ],",
            "            'skip': 'URL invalid',",
            "        },",
            "        # Direct download with broken HEAD",
            "        {",
            "            'url': 'http://ai-radio.org:8000/radio.opus',",
            "            'info_dict': {",
            "                'id': 'radio',",
            "                'ext': 'opus',",
            "                'title': 'radio',",
            "            },",
            "            'params': {",
            "                'skip_download': True,  # infinite live stream",
            "            },",
            "            'expected_warnings': [",
            "                r'501.*Not Implemented',",
            "                r'400.*Bad Request',",
            "            ],",
            "        },",
            "        # Direct link with incorrect MIME type",
            "        {",
            "            'url': 'http://ftp.nluug.nl/video/nluug/2014-11-20_nj14/zaal-2/5_Lennart_Poettering_-_Systemd.webm',",
            "            'md5': '4ccbebe5f36706d85221f204d7eb5913',",
            "            'info_dict': {",
            "                'url': 'http://ftp.nluug.nl/video/nluug/2014-11-20_nj14/zaal-2/5_Lennart_Poettering_-_Systemd.webm',",
            "                'id': '5_Lennart_Poettering_-_Systemd',",
            "                'ext': 'webm',",
            "                'title': '5_Lennart_Poettering_-_Systemd',",
            "                'upload_date': '20141120',",
            "                'direct': True,",
            "                'timestamp': 1416498816.0,",
            "            },",
            "            'expected_warnings': [",
            "                'URL could be a direct video link, returning it as such.'",
            "            ]",
            "        },",
            "        # RSS feed",
            "        {",
            "            'url': 'http://phihag.de/2014/youtube-dl/rss2.xml',",
            "            'info_dict': {",
            "                'id': 'https://phihag.de/2014/youtube-dl/rss2.xml',",
            "                'title': 'Zero Punctuation',",
            "                'description': 're:.*groundbreaking video review series.*'",
            "            },",
            "            'playlist_mincount': 11,",
            "        },",
            "        # RSS feed with enclosure",
            "        {",
            "            'url': 'http://podcastfeeds.nbcnews.com/audio/podcast/MSNBC-MADDOW-NETCAST-M4V.xml',",
            "            'info_dict': {",
            "                'id': 'http://podcastfeeds.nbcnews.com/nbcnews/video/podcast/MSNBC-MADDOW-NETCAST-M4V.xml',",
            "                'title': 'MSNBC Rachel Maddow (video)',",
            "                'description': 're:.*her unique approach to storytelling.*',",
            "            },",
            "            'playlist': [{",
            "                'info_dict': {",
            "                    'ext': 'mov',",
            "                    'id': 'pdv_maddow_netcast_mov-12-03-2020-223726',",
            "                    'title': 'MSNBC Rachel Maddow (video) - 12-03-2020-223726',",
            "                    'description': 're:.*her unique approach to storytelling.*',",
            "                    'upload_date': '20201204',",
            "                },",
            "            }],",
            "            'skip': 'Dead link',",
            "        },",
            "        # RSS feed with item with description and thumbnails",
            "        {",
            "            'url': 'https://anchor.fm/s/dd00e14/podcast/rss',",
            "            'info_dict': {",
            "                'id': 'https://anchor.fm/s/dd00e14/podcast/rss',",
            "                'title': 're:.*100% Hydrogen.*',",
            "                'description': 're:.*In this episode.*',",
            "            },",
            "            'playlist': [{",
            "                'info_dict': {",
            "                    'ext': 'm4a',",
            "                    'id': '818a5d38-01cd-152f-2231-ee479677fa82',",
            "                    'title': 're:Hydrogen!',",
            "                    'description': 're:.*In this episode we are going.*',",
            "                    'timestamp': 1567977776,",
            "                    'upload_date': '20190908',",
            "                    'duration': 423,",
            "                    'thumbnail': r're:^https?://.*\\.jpg$',",
            "                    'episode_number': 1,",
            "                    'season_number': 1,",
            "                    'age_limit': 0,",
            "                    'season': 'Season 1',",
            "                    'direct': True,",
            "                    'episode': 'Episode 1',",
            "                },",
            "            }],",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # RSS feed with enclosures and unsupported link URLs",
            "        {",
            "            'url': 'http://www.hellointernet.fm/podcast?format=rss',",
            "            'info_dict': {",
            "                'id': 'http://www.hellointernet.fm/podcast?format=rss',",
            "                'description': 'CGP Grey and Brady Haran talk about YouTube, life, work, whatever.',",
            "                'title': 'Hello Internet',",
            "            },",
            "            'playlist_mincount': 100,",
            "        },",
            "        # RSS feed with guid",
            "        {",
            "            'url': 'https://www.omnycontent.com/d/playlist/a7b4f8fe-59d9-4afc-a79a-a90101378abf/bf2c1d80-3656-4449-9d00-a903004e8f84/efbff746-e7c1-463a-9d80-a903004e8f8f/podcast.rss',",
            "            'info_dict': {",
            "                'id': 'https://www.omnycontent.com/d/playlist/a7b4f8fe-59d9-4afc-a79a-a90101378abf/bf2c1d80-3656-4449-9d00-a903004e8f84/efbff746-e7c1-463a-9d80-a903004e8f8f/podcast.rss',",
            "                'description': 'md5:be809a44b63b0c56fb485caf68685520',",
            "                'title': 'The Little Red Podcast',",
            "            },",
            "            'playlist_mincount': 76,",
            "        },",
            "        # SMIL from http://videolectures.net/promogram_igor_mekjavic_eng",
            "        {",
            "            'url': 'http://videolectures.net/promogram_igor_mekjavic_eng/video/1/smil.xml',",
            "            'info_dict': {",
            "                'id': 'smil',",
            "                'ext': 'mp4',",
            "                'title': 'Automatics, robotics and biocybernetics',",
            "                'description': 'md5:815fc1deb6b3a2bff99de2d5325be482',",
            "                'upload_date': '20130627',",
            "                'formats': 'mincount:16',",
            "                'subtitles': 'mincount:1',",
            "            },",
            "            'params': {",
            "                'force_generic_extractor': True,",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # SMIL from http://www1.wdr.de/mediathek/video/livestream/index.html",
            "        {",
            "            'url': 'http://metafilegenerator.de/WDR/WDR_FS/hds/hds.smil',",
            "            'info_dict': {",
            "                'id': 'hds',",
            "                'ext': 'flv',",
            "                'title': 'hds',",
            "                'formats': 'mincount:1',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # SMIL from https://www.restudy.dk/video/play/id/1637",
            "        {",
            "            'url': 'https://www.restudy.dk/awsmedia/SmilDirectory/video_1637.xml',",
            "            'info_dict': {",
            "                'id': 'video_1637',",
            "                'ext': 'flv',",
            "                'title': 'video_1637',",
            "                'formats': 'mincount:3',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # SMIL from http://adventure.howstuffworks.com/5266-cool-jobs-iditarod-musher-video.htm",
            "        {",
            "            'url': 'http://services.media.howstuffworks.com/videos/450221/smil-service.smil',",
            "            'info_dict': {",
            "                'id': 'smil-service',",
            "                'ext': 'flv',",
            "                'title': 'smil-service',",
            "                'formats': 'mincount:1',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # SMIL from http://new.livestream.com/CoheedandCambria/WebsterHall/videos/4719370",
            "        {",
            "            'url': 'http://api.new.livestream.com/accounts/1570303/events/1585861/videos/4719370.smil',",
            "            'info_dict': {",
            "                'id': '4719370',",
            "                'ext': 'mp4',",
            "                'title': '571de1fd-47bc-48db-abf9-238872a58d1f',",
            "                'formats': 'mincount:3',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # XSPF playlist from http://www.telegraaf.nl/tv/nieuws/binnenland/24353229/__Tikibad_ontruimd_wegens_brand__.html",
            "        {",
            "            'url': 'http://www.telegraaf.nl/xml/playlist/2015/8/7/mZlp2ctYIUEB.xspf',",
            "            'info_dict': {",
            "                'id': 'mZlp2ctYIUEB',",
            "                'ext': 'mp4',",
            "                'title': 'Tikibad ontruimd wegens brand',",
            "                'description': 'md5:05ca046ff47b931f9b04855015e163a4',",
            "                'thumbnail': r're:^https?://.*\\.jpg$',",
            "                'duration': 33,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'skip': '404 Not Found',",
            "        },",
            "        # MPD from http://dash-mse-test.appspot.com/media.html",
            "        {",
            "            'url': 'http://yt-dash-mse-test.commondatastorage.googleapis.com/media/car-20120827-manifest.mpd',",
            "            'md5': '4b57baab2e30d6eb3a6a09f0ba57ef53',",
            "            'info_dict': {",
            "                'id': 'car-20120827-manifest',",
            "                'ext': 'mp4',",
            "                'title': 'car-20120827-manifest',",
            "                'formats': 'mincount:9',",
            "                'upload_date': '20130904',",
            "                'timestamp': 1378272859.0,",
            "            },",
            "        },",
            "        # m3u8 served with Content-Type: audio/x-mpegURL; charset=utf-8",
            "        {",
            "            'url': 'http://once.unicornmedia.com/now/master/playlist/bb0b18ba-64f5-4b1b-a29f-0ac252f06b68/77a785f3-5188-4806-b788-0893a61634ed/93677179-2d99-4ef4-9e17-fe70d49abfbf/content.m3u8',",
            "            'info_dict': {",
            "                'id': 'content',",
            "                'ext': 'mp4',",
            "                'title': 'content',",
            "                'formats': 'mincount:8',",
            "            },",
            "            'params': {",
            "                # m3u8 downloads",
            "                'skip_download': True,",
            "            },",
            "            'skip': 'video gone',",
            "        },",
            "        # m3u8 served with Content-Type: text/plain",
            "        {",
            "            'url': 'http://www.nacentapps.com/m3u8/index.m3u8',",
            "            'info_dict': {",
            "                'id': 'index',",
            "                'ext': 'mp4',",
            "                'title': 'index',",
            "                'upload_date': '20140720',",
            "                'formats': 'mincount:11',",
            "            },",
            "            'params': {",
            "                # m3u8 downloads",
            "                'skip_download': True,",
            "            },",
            "            'skip': 'video gone',",
            "        },",
            "        # google redirect",
            "        {",
            "            'url': 'http://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&ved=0CCUQtwIwAA&url=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DcmQHVoWB5FY&ei=F-sNU-LLCaXk4QT52ICQBQ&usg=AFQjCNEw4hL29zgOohLXvpJ-Bdh2bils1Q&bvm=bv.61965928,d.bGE',",
            "            'info_dict': {",
            "                'id': 'cmQHVoWB5FY',",
            "                'ext': 'mp4',",
            "                'upload_date': '20130224',",
            "                'uploader_id': '@TheVerge',",
            "                'description': r're:^Chris Ziegler takes a look at the\\.*',",
            "                'uploader': 'The Verge',",
            "                'title': 'First Firefox OS phones side-by-side',",
            "            },",
            "            'params': {",
            "                'skip_download': False,",
            "            }",
            "        },",
            "        {",
            "            # redirect in Refresh HTTP header",
            "            'url': 'https://www.facebook.com/l.php?u=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DpO8h3EaFRdo&h=TAQHsoToz&enc=AZN16h-b6o4Zq9pZkCCdOLNKMN96BbGMNtcFwHSaazus4JHT_MFYkAA-WARTX2kvsCIdlAIyHZjl6d33ILIJU7Jzwk_K3mcenAXoAzBNoZDI_Q7EXGDJnIhrGkLXo_LJ_pAa2Jzbx17UHMd3jAs--6j2zaeto5w9RTn8T_1kKg3fdC5WPX9Dbb18vzH7YFX0eSJmoa6SP114rvlkw6pkS1-T&s=1',",
            "            'info_dict': {",
            "                'id': 'pO8h3EaFRdo',",
            "                'ext': 'mp4',",
            "                'title': 'Tripeo Boiler Room x Dekmantel Festival DJ Set',",
            "                'description': 'md5:6294cc1af09c4049e0652b51a2df10d5',",
            "                'upload_date': '20150917',",
            "                'uploader_id': 'brtvofficial',",
            "                'uploader': 'Boiler Room',",
            "            },",
            "            'params': {",
            "                'skip_download': False,",
            "            },",
            "        },",
            "        {",
            "            'url': 'http://www.hodiho.fr/2013/02/regis-plante-sa-jeep.html',",
            "            'md5': '85b90ccc9d73b4acd9138d3af4c27f89',",
            "            'info_dict': {",
            "                'id': '13601338388002',",
            "                'ext': 'mp4',",
            "                'uploader': 'www.hodiho.fr',",
            "                'title': 'R\\u00e9gis plante sa Jeep',",
            "            }",
            "        },",
            "        # bandcamp page with custom domain",
            "        {",
            "            'add_ie': ['Bandcamp'],",
            "            'url': 'http://bronyrock.com/track/the-pony-mash',",
            "            'info_dict': {",
            "                'id': '3235767654',",
            "                'ext': 'mp3',",
            "                'title': 'The Pony Mash',",
            "                'uploader': 'M_Pallante',",
            "            },",
            "            'skip': 'There is a limit of 200 free downloads / month for the test song',",
            "        },",
            "        # ooyala video",
            "        {",
            "            'url': 'http://www.rollingstone.com/music/videos/norwegian-dj-cashmere-cat-goes-spartan-on-with-me-premiere-20131219',",
            "            'md5': '166dd577b433b4d4ebfee10b0824d8ff',",
            "            'info_dict': {",
            "                'id': 'BwY2RxaTrTkslxOfcan0UCf0YqyvWysJ',",
            "                'ext': 'mp4',",
            "                'title': '2cc213299525360.mov',  # that's what we get",
            "                'duration': 238.231,",
            "            },",
            "            'add_ie': ['Ooyala'],",
            "        },",
            "        {",
            "            # ooyala video embedded with http://player.ooyala.com/iframe.js",
            "            'url': 'http://www.macrumors.com/2015/07/24/steve-jobs-the-man-in-the-machine-first-trailer/',",
            "            'info_dict': {",
            "                'id': 'p0MGJndjoG5SOKqO_hZJuZFPB-Tr5VgB',",
            "                'ext': 'mp4',",
            "                'title': '\"Steve Jobs: Man in the Machine\" trailer',",
            "                'description': 'The first trailer for the Alex Gibney documentary \"Steve Jobs: Man in the Machine.\"',",
            "                'duration': 135.427,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'skip': 'movie expired',",
            "        },",
            "        # ooyala video embedded with http://player.ooyala.com/static/v4/production/latest/core.min.js",
            "        {",
            "            'url': 'http://wnep.com/2017/07/22/steampunk-fest-comes-to-honesdale/',",
            "            'info_dict': {",
            "                'id': 'lwYWYxYzE6V5uJMjNGyKtwwiw9ZJD7t2',",
            "                'ext': 'mp4',",
            "                'title': 'Steampunk Fest Comes to Honesdale',",
            "                'duration': 43.276,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            }",
            "        },",
            "        # embed.ly video",
            "        {",
            "            'url': 'http://www.tested.com/science/weird/460206-tested-grinding-coffee-2000-frames-second/',",
            "            'info_dict': {",
            "                'id': '9ODmcdjQcHQ',",
            "                'ext': 'mp4',",
            "                'title': 'Tested: Grinding Coffee at 2000 Frames Per Second',",
            "                'upload_date': '20140225',",
            "                'description': 'md5:06a40fbf30b220468f1e0957c0f558ff',",
            "                'uploader': 'Tested',",
            "                'uploader_id': 'testedcom',",
            "            },",
            "            # No need to test YoutubeIE here",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # funnyordie embed",
            "        {",
            "            'url': 'http://www.theguardian.com/world/2014/mar/11/obama-zach-galifianakis-between-two-ferns',",
            "            'info_dict': {",
            "                'id': '18e820ec3f',",
            "                'ext': 'mp4',",
            "                'title': 'Between Two Ferns with Zach Galifianakis: President Barack Obama',",
            "                'description': 'Episode 18: President Barack Obama sits down with Zach Galifianakis for his most memorable interview yet.',",
            "            },",
            "            # HEAD requests lead to endless 301, while GET is OK",
            "            'expected_warnings': ['301'],",
            "        },",
            "        # RUTV embed",
            "        {",
            "            'url': 'http://www.rg.ru/2014/03/15/reg-dfo/anklav-anons.html',",
            "            'info_dict': {",
            "                'id': '776940',",
            "                'ext': 'mp4',",
            "                'title': '\u041e\u0445\u043e\u0442\u0441\u043a\u043e\u0435 \u043c\u043e\u0440\u0435 \u0441\u0442\u0430\u043b\u043e \u0446\u0435\u043b\u0438\u043a\u043e\u043c \u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u043c',",
            "                'description': 'md5:5ed62483b14663e2a95ebbe115eb8f43',",
            "            },",
            "            'params': {",
            "                # m3u8 download",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # TVC embed",
            "        {",
            "            'url': 'http://sch1298sz.mskobr.ru/dou_edu/karamel_ki/filial_galleries/video/iframe_src_http_tvc_ru_video_iframe_id_55304_isplay_false_acc_video_id_channel_brand_id_11_show_episodes_episode_id_32307_frameb/',",
            "            'info_dict': {",
            "                'id': '55304',",
            "                'ext': 'mp4',",
            "                'title': '\u0414\u043e\u0448\u043a\u043e\u043b\u044c\u043d\u043e\u0435 \u0432\u043e\u0441\u043f\u0438\u0442\u0430\u043d\u0438\u0435',",
            "            },",
            "        },",
            "        # SportBox embed",
            "        {",
            "            'url': 'http://www.vestifinance.ru/articles/25753',",
            "            'info_dict': {",
            "                'id': '25753',",
            "                'title': '\u041f\u0440\u044f\u043c\u044b\u0435 \u0442\u0440\u0430\u043d\u0441\u043b\u044f\u0446\u0438\u0438 \u0441 \u0424\u043e\u0440\u0443\u043c\u0430-\u0432\u044b\u0441\u0442\u0430\u0432\u043a\u0438 \"\u0413\u043e\u0441\u0437\u0430\u043a\u0430\u0437-2013\"',",
            "            },",
            "            'playlist': [{",
            "                'info_dict': {",
            "                    'id': '370908',",
            "                    'title': '\u0413\u043e\u0441\u0437\u0430\u043a\u0430\u0437. \u0414\u0435\u043d\u044c 3',",
            "                    'ext': 'mp4',",
            "                }",
            "            }, {",
            "                'info_dict': {",
            "                    'id': '370905',",
            "                    'title': '\u0413\u043e\u0441\u0437\u0430\u043a\u0430\u0437. \u0414\u0435\u043d\u044c 2',",
            "                    'ext': 'mp4',",
            "                }",
            "            }, {",
            "                'info_dict': {",
            "                    'id': '370902',",
            "                    'title': '\u0413\u043e\u0441\u0437\u0430\u043a\u0430\u0437. \u0414\u0435\u043d\u044c 1',",
            "                    'ext': 'mp4',",
            "                }",
            "            }],",
            "            'params': {",
            "                # m3u8 download",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # Myvi.ru embed",
            "        {",
            "            'url': 'http://www.kinomyvi.tv/news/detail/Pervij-dublirovannij-trejler--Uzhastikov-_nOw1',",
            "            'info_dict': {",
            "                'id': 'f4dafcad-ff21-423d-89b5-146cfd89fa1e',",
            "                'ext': 'mp4',",
            "                'title': '\u0423\u0436\u0430\u0441\u0442\u0438\u043a\u0438, \u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u0442\u0440\u0435\u0439\u043b\u0435\u0440 (2015)',",
            "                'thumbnail': r're:^https?://.*\\.jpg$',",
            "                'duration': 153,",
            "            }",
            "        },",
            "        # XHamster embed",
            "        {",
            "            'url': 'http://www.numisc.com/forum/showthread.php?11696-FM15-which-pumiscer-was-this-%28-vid-%29-%28-alfa-as-fuck-srx-%29&s=711f5db534502e22260dec8c5e2d66d8',",
            "            'info_dict': {",
            "                'id': 'showthread',",
            "                'title': '[NSFL] [FM15] which pumiscer was this ( vid ) ( alfa as fuck srx )',",
            "            },",
            "            'playlist_mincount': 7,",
            "            # This forum does not allow <iframe> syntaxes anymore",
            "            # Now HTML tags are displayed as-is",
            "            'skip': 'No videos on this page',",
            "        },",
            "        # Embedded TED video",
            "        {",
            "            'url': 'http://en.support.wordpress.com/videos/ted-talks/',",
            "            'md5': '65fdff94098e4a607385a60c5177c638',",
            "            'info_dict': {",
            "                'id': '1969',",
            "                'ext': 'mp4',",
            "                'title': 'Hidden miracles of the natural world',",
            "                'uploader': 'Louie Schwartzberg',",
            "                'description': 'md5:8145d19d320ff3e52f28401f4c4283b9',",
            "            }",
            "        },",
            "        # nowvideo embed hidden behind percent encoding",
            "        {",
            "            'url': 'http://www.waoanime.tv/the-super-dimension-fortress-macross-episode-1/',",
            "            'md5': '2baf4ddd70f697d94b1c18cf796d5107',",
            "            'info_dict': {",
            "                'id': '06e53103ca9aa',",
            "                'ext': 'flv',",
            "                'title': 'Macross Episode 001  Watch Macross Episode 001 onl',",
            "                'description': 'No description',",
            "            },",
            "        },",
            "        # arte embed",
            "        {",
            "            'url': 'http://www.tv-replay.fr/redirection/20-03-14/x-enius-arte-10753389.html',",
            "            'md5': '7653032cbb25bf6c80d80f217055fa43',",
            "            'info_dict': {",
            "                'id': '048195-004_PLUS7-F',",
            "                'ext': 'flv',",
            "                'title': 'X:enius',",
            "                'description': 'md5:d5fdf32ef6613cdbfd516ae658abf168',",
            "                'upload_date': '20140320',",
            "            },",
            "            'params': {",
            "                'skip_download': 'Requires rtmpdump'",
            "            },",
            "            'skip': 'video gone',",
            "        },",
            "        # francetv embed",
            "        {",
            "            'url': 'http://www.tsprod.com/replay-du-concert-alcaline-de-calogero',",
            "            'info_dict': {",
            "                'id': 'EV_30231',",
            "                'ext': 'mp4',",
            "                'title': 'Alcaline, le concert avec Calogero',",
            "                'description': 'md5:61f08036dcc8f47e9cfc33aed08ffaff',",
            "                'upload_date': '20150226',",
            "                'timestamp': 1424989860,",
            "                'duration': 5400,",
            "            },",
            "            'params': {",
            "                # m3u8 downloads",
            "                'skip_download': True,",
            "            },",
            "            'expected_warnings': [",
            "                'Forbidden'",
            "            ]",
            "        },",
            "        # Cond\u00e9 Nast embed",
            "        {",
            "            'url': 'http://www.wired.com/2014/04/honda-asimo/',",
            "            'md5': 'ba0dfe966fa007657bd1443ee672db0f',",
            "            'info_dict': {",
            "                'id': '53501be369702d3275860000',",
            "                'ext': 'mp4',",
            "                'title': 'Honda\u2019s  New Asimo Robot Is More Human Than Ever',",
            "            }",
            "        },",
            "        # Dailymotion embed",
            "        {",
            "            'url': 'http://www.spi0n.com/zap-spi0n-com-n216/',",
            "            'md5': '441aeeb82eb72c422c7f14ec533999cd',",
            "            'info_dict': {",
            "                'id': 'k2mm4bCdJ6CQ2i7c8o2',",
            "                'ext': 'mp4',",
            "                'title': 'Le Zap de Spi0n n\u00b0216 - Zapping du Web',",
            "                'description': 'md5:faf028e48a461b8b7fad38f1e104b119',",
            "                'uploader': 'Spi0n',",
            "                'uploader_id': 'xgditw',",
            "                'upload_date': '20140425',",
            "                'timestamp': 1398441542,",
            "            },",
            "            'add_ie': ['Dailymotion'],",
            "        },",
            "        # DailyMail embed",
            "        {",
            "            'url': 'http://www.bumm.sk/krimi/2017/07/05/biztonsagi-kamera-buktatta-le-az-agg-ferfit-utlegelo-apolot',",
            "            'info_dict': {",
            "                'id': '1495629',",
            "                'ext': 'mp4',",
            "                'title': 'Care worker punches elderly dementia patient in head 11 times',",
            "                'description': 'md5:3a743dee84e57e48ec68bf67113199a5',",
            "            },",
            "            'add_ie': ['DailyMail'],",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # YouTube embed",
            "        {",
            "            'url': 'http://www.badzine.de/ansicht/datum/2014/06/09/so-funktioniert-die-neue-englische-badminton-liga.html',",
            "            'info_dict': {",
            "                'id': 'FXRb4ykk4S0',",
            "                'ext': 'mp4',",
            "                'title': 'The NBL Auction 2014',",
            "                'uploader': 'BADMINTON England',",
            "                'uploader_id': 'BADMINTONEvents',",
            "                'upload_date': '20140603',",
            "                'description': 'md5:9ef128a69f1e262a700ed83edb163a73',",
            "            },",
            "            'add_ie': ['Youtube'],",
            "            'params': {",
            "                'skip_download': True,",
            "            }",
            "        },",
            "        # MTVServices embed",
            "        {",
            "            'url': 'http://www.vulture.com/2016/06/new-key-peele-sketches-released.html',",
            "            'md5': 'ca1aef97695ef2c1d6973256a57e5252',",
            "            'info_dict': {",
            "                'id': '769f7ec0-0692-4d62-9b45-0d88074bffc1',",
            "                'ext': 'mp4',",
            "                'title': 'Key and Peele|October 10, 2012|2|203|Liam Neesons - Uncensored',",
            "                'description': 'Two valets share their love for movie star Liam Neesons.',",
            "                'timestamp': 1349922600,",
            "                'upload_date': '20121011',",
            "            },",
            "        },",
            "        # YouTube embed via <data-embed-url=\"\">",
            "        {",
            "            'url': 'https://play.google.com/store/apps/details?id=com.gameloft.android.ANMP.GloftA8HM',",
            "            'info_dict': {",
            "                'id': '4vAffPZIT44',",
            "                'ext': 'mp4',",
            "                'title': 'Asphalt 8: Airborne - Update - Welcome to Dubai!',",
            "                'uploader': 'Gameloft',",
            "                'uploader_id': 'gameloft',",
            "                'upload_date': '20140828',",
            "                'description': 'md5:c80da9ed3d83ae6d1876c834de03e1c4',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            }",
            "        },",
            "        # Flowplayer",
            "        {",
            "            'url': 'http://www.handjobhub.com/video/busty-blonde-siri-tit-fuck-while-wank-6313.html',",
            "            'md5': '9d65602bf31c6e20014319c7d07fba27',",
            "            'info_dict': {",
            "                'id': '5123ea6d5e5a7',",
            "                'ext': 'mp4',",
            "                'age_limit': 18,",
            "                'uploader': 'www.handjobhub.com',",
            "                'title': 'Busty Blonde Siri Tit Fuck While Wank at HandjobHub.com',",
            "            }",
            "        },",
            "        # MLB embed",
            "        {",
            "            'url': 'http://umpire-empire.com/index.php/topic/58125-laz-decides-no-thats-low/',",
            "            'md5': '96f09a37e44da40dd083e12d9a683327',",
            "            'info_dict': {",
            "                'id': '33322633',",
            "                'ext': 'mp4',",
            "                'title': 'Ump changes call to ball',",
            "                'description': 'md5:71c11215384298a172a6dcb4c2e20685',",
            "                'duration': 48,",
            "                'timestamp': 1401537900,",
            "                'upload_date': '20140531',",
            "                'thumbnail': r're:^https?://.*\\.jpg$',",
            "            },",
            "        },",
            "        # Wistia standard embed (async)",
            "        {",
            "            'url': 'https://www.getdrip.com/university/brennan-dunn-drip-workshop/',",
            "            'info_dict': {",
            "                'id': '807fafadvk',",
            "                'ext': 'mp4',",
            "                'title': 'Drip Brennan Dunn Workshop',",
            "                'description': 'a JV Webinars video from getdrip-1',",
            "                'duration': 4986.95,",
            "                'timestamp': 1463607249,",
            "                'upload_date': '20160518',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'skip': 'webpage 404 not found',",
            "        },",
            "        # Soundcloud embed",
            "        {",
            "            'url': 'http://nakedsecurity.sophos.com/2014/10/29/sscc-171-are-you-sure-that-1234-is-a-bad-password-podcast/',",
            "            'info_dict': {",
            "                'id': '174391317',",
            "                'ext': 'mp3',",
            "                'description': 'md5:ff867d6b555488ad3c52572bb33d432c',",
            "                'uploader': 'Sophos Security',",
            "                'title': 'Chet Chat 171 - Oct 29, 2014',",
            "                'upload_date': '20141029',",
            "            }",
            "        },",
            "        # Soundcloud multiple embeds",
            "        {",
            "            'url': 'http://www.guitarplayer.com/lessons/1014/legato-workout-one-hour-to-more-fluid-performance---tab/52809',",
            "            'info_dict': {",
            "                'id': '52809',",
            "                'title': 'Guitar Essentials: Legato Workout\u2014One-Hour to Fluid Performance  | TAB + AUDIO',",
            "            },",
            "            'playlist_mincount': 7,",
            "        },",
            "        # TuneIn station embed",
            "        {",
            "            'url': 'http://radiocnrv.com/promouvoir-radio-cnrv/',",
            "            'info_dict': {",
            "                'id': '204146',",
            "                'ext': 'mp3',",
            "                'title': 'CNRV',",
            "                'location': 'Paris, France',",
            "                'is_live': True,",
            "            },",
            "            'params': {",
            "                # Live stream",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # Livestream embed",
            "        {",
            "            'url': 'http://www.esa.int/Our_Activities/Space_Science/Rosetta/Philae_comet_touch-down_webcast',",
            "            'info_dict': {",
            "                'id': '67864563',",
            "                'ext': 'flv',",
            "                'upload_date': '20141112',",
            "                'title': 'Rosetta #CometLanding webcast HL 10',",
            "            }",
            "        },",
            "        # Another Livestream embed, without 'new.' in URL",
            "        {",
            "            'url': 'https://www.freespeech.org/',",
            "            'info_dict': {",
            "                'id': '123537347',",
            "                'ext': 'mp4',",
            "                'title': 're:^FSTV [0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}$',",
            "            },",
            "            'params': {",
            "                # Live stream",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # LazyYT",
            "        {",
            "            'url': 'https://skiplagged.com/',",
            "            'info_dict': {",
            "                'id': 'skiplagged',",
            "                'title': 'Skiplagged: The smart way to find cheap flights',",
            "            },",
            "            'playlist_mincount': 1,",
            "            'add_ie': ['Youtube'],",
            "        },",
            "        # Cinchcast embed",
            "        {",
            "            'url': 'http://undergroundwellness.com/podcasts/306-5-steps-to-permanent-gut-healing/',",
            "            'info_dict': {",
            "                'id': '7141703',",
            "                'ext': 'mp3',",
            "                'upload_date': '20141126',",
            "                'title': 'Jack Tips: 5 Steps to Permanent Gut Healing',",
            "            }",
            "        },",
            "        # Cinerama player",
            "        {",
            "            'url': 'http://www.abc.net.au/7.30/content/2015/s4164797.htm',",
            "            'info_dict': {",
            "                'id': '730m_DandD_1901_512k',",
            "                'ext': 'mp4',",
            "                'uploader': 'www.abc.net.au',",
            "                'title': 'Game of Thrones with dice - Dungeons and Dragons fantasy role-playing game gets new life - 19/01/2015',",
            "            }",
            "        },",
            "        # embedded viddler video",
            "        {",
            "            'url': 'http://deadspin.com/i-cant-stop-watching-john-wall-chop-the-nuggets-with-th-1681801597',",
            "            'info_dict': {",
            "                'id': '4d03aad9',",
            "                'ext': 'mp4',",
            "                'uploader': 'deadspin',",
            "                'title': 'WALL-TO-GORTAT',",
            "                'timestamp': 1422285291,",
            "                'upload_date': '20150126',",
            "            },",
            "            'add_ie': ['Viddler'],",
            "        },",
            "        # Libsyn embed",
            "        {",
            "            'url': 'http://thedailyshow.cc.com/podcast/episodetwelve',",
            "            'info_dict': {",
            "                'id': '3377616',",
            "                'ext': 'mp3',",
            "                'title': \"The Daily Show Podcast without Jon Stewart - Episode 12: Bassem Youssef: Egypt's Jon Stewart\",",
            "                'description': 'md5:601cb790edd05908957dae8aaa866465',",
            "                'upload_date': '20150220',",
            "            },",
            "            'skip': 'All The Daily Show URLs now redirect to http://www.cc.com/shows/',",
            "        },",
            "        # jwplayer YouTube",
            "        {",
            "            'url': 'http://media.nationalarchives.gov.uk/index.php/webinar-using-discovery-national-archives-online-catalogue/',",
            "            'info_dict': {",
            "                'id': 'Mrj4DVp2zeA',",
            "                'ext': 'mp4',",
            "                'upload_date': '20150212',",
            "                'uploader': 'The National Archives UK',",
            "                'description': 'md5:8078af856dca76edc42910b61273dbbf',",
            "                'uploader_id': 'NationalArchives08',",
            "                'title': 'Webinar: Using Discovery, The National Archives\u2019 online catalogue',",
            "            },",
            "        },",
            "        # jwplayer rtmp",
            "        {",
            "            'url': 'http://www.suffolk.edu/sjc/live.php',",
            "            'info_dict': {",
            "                'id': 'live',",
            "                'ext': 'flv',",
            "                'title': 'Massachusetts Supreme Judicial Court Oral Arguments',",
            "                'uploader': 'www.suffolk.edu',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'skip': 'Only has video a few mornings per month, see http://www.suffolk.edu/sjc/',",
            "        },",
            "        # jwplayer with only the json URL",
            "        {",
            "            'url': 'https://www.hollywoodreporter.com/news/general-news/dunkirk-team-reveals-what-christopher-nolan-said-oscar-win-meet-your-oscar-winner-1092454',",
            "            'info_dict': {",
            "                'id': 'TljWkvWH',",
            "                'ext': 'mp4',",
            "                'upload_date': '20180306',",
            "                'title': 'md5:91eb1862f6526415214f62c00b453936',",
            "                'description': 'md5:73048ae50ae953da10549d1d2fe9b3aa',",
            "                'timestamp': 1520367225,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # Complex jwplayer",
            "        {",
            "            'url': 'http://www.indiedb.com/games/king-machine/videos',",
            "            'info_dict': {",
            "                'id': 'videos',",
            "                'ext': 'mp4',",
            "                'title': 'king machine trailer 1',",
            "                'description': 'Browse King Machine videos & audio for sweet media. Your eyes will thank you.',",
            "                'thumbnail': r're:^https?://.*\\.jpg$',",
            "            },",
            "        },",
            "        {",
            "            # Youtube embed, formerly: Video.js embed, multiple formats",
            "            'url': 'http://ortcam.com/solidworks-\u0443\u0440\u043e\u043a-6-\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430-\u0447\u0435\u0440\u0442\u0435\u0436\u0430_33f9b7351.html',",
            "            'info_dict': {",
            "                'id': 'yygqldloqIk',",
            "                'ext': 'mp4',",
            "                'title': 'SolidWorks. \u0423\u0440\u043e\u043a 6 \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0447\u0435\u0440\u0442\u0435\u0436\u0430',",
            "                'description': 'md5:baf95267792646afdbf030e4d06b2ab3',",
            "                'upload_date': '20130314',",
            "                'uploader': 'PRO\u0441\u0442\u043e\u04353D',",
            "                'uploader_id': 'PROstoe3D',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        {",
            "            # Video.js embed, single format",
            "            'url': 'https://www.vooplayer.com/v3/watch/watch.php?v=NzgwNTg=',",
            "            'info_dict': {",
            "                'id': 'watch',",
            "                'ext': 'mp4',",
            "                'title': 'Step 1 -  Good Foundation',",
            "                'description': 'md5:d1e7ff33a29fc3eb1673d6c270d344f4',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'skip': '404 Not Found',",
            "        },",
            "        # rtl.nl embed",
            "        {",
            "            'url': 'http://www.rtlnieuws.nl/nieuws/buitenland/aanslagen-kopenhagen',",
            "            'playlist_mincount': 5,",
            "            'info_dict': {",
            "                'id': 'aanslagen-kopenhagen',",
            "                'title': 'Aanslagen Kopenhagen',",
            "            }",
            "        },",
            "        # Zapiks embed",
            "        {",
            "            'url': 'http://www.skipass.com/news/116090-bon-appetit-s5ep3-baqueira-mi-cor.html',",
            "            'info_dict': {",
            "                'id': '118046',",
            "                'ext': 'mp4',",
            "                'title': 'EP3S5 - Bon App\u00e9tit - Baqueira Mi Corazon !',",
            "            }",
            "        },",
            "        # Kaltura embed (different embed code)",
            "        {",
            "            'url': 'http://www.premierchristianradio.com/Shows/Saturday/Unbelievable/Conference-Videos/Os-Guinness-Is-It-Fools-Talk-Unbelievable-Conference-2014',",
            "            'info_dict': {",
            "                'id': '1_a52wc67y',",
            "                'ext': 'flv',",
            "                'upload_date': '20150127',",
            "                'uploader_id': 'PremierMedia',",
            "                'timestamp': int,",
            "                'title': 'Os Guinness // Is It Fools Talk? // Unbelievable? Conference 2014',",
            "            },",
            "        },",
            "        # Kaltura embed with single quotes",
            "        {",
            "            'url': 'http://fod.infobase.com/p_ViewPlaylist.aspx?AssignmentID=NUN8ZY',",
            "            'info_dict': {",
            "                'id': '0_izeg5utt',",
            "                'ext': 'mp4',",
            "                'title': '35871',",
            "                'timestamp': 1355743100,",
            "                'upload_date': '20121217',",
            "                'uploader_id': 'cplapp@learn360.com',",
            "            },",
            "            'add_ie': ['Kaltura'],",
            "        },",
            "        {",
            "            # Kaltura embedded via quoted entry_id",
            "            'url': 'https://www.oreilly.com/ideas/my-cloud-makes-pretty-pictures',",
            "            'info_dict': {",
            "                'id': '0_utuok90b',",
            "                'ext': 'mp4',",
            "                'title': '06_matthew_brender_raj_dutt',",
            "                'timestamp': 1466638791,",
            "                'upload_date': '20160622',",
            "            },",
            "            'add_ie': ['Kaltura'],",
            "            'expected_warnings': [",
            "                'Could not send HEAD request'",
            "            ],",
            "            'params': {",
            "                'skip_download': True,",
            "            }",
            "        },",
            "        {",
            "            # Kaltura embedded, some fileExt broken (#11480)",
            "            'url': 'http://www.cornell.edu/video/nima-arkani-hamed-standard-models-of-particle-physics',",
            "            'info_dict': {",
            "                'id': '1_sgtvehim',",
            "                'ext': 'mp4',",
            "                'title': 'Our \"Standard Models\" of particle physics and cosmology',",
            "                'description': 'md5:67ea74807b8c4fea92a6f38d6d323861',",
            "                'timestamp': 1321158993,",
            "                'upload_date': '20111113',",
            "                'uploader_id': 'kps1',",
            "            },",
            "            'add_ie': ['Kaltura'],",
            "        },",
            "        {",
            "            # Kaltura iframe embed",
            "            'url': 'http://www.gsd.harvard.edu/event/i-m-pei-a-centennial-celebration/',",
            "            'md5': 'ae5ace8eb09dc1a35d03b579a9c2cc44',",
            "            'info_dict': {",
            "                'id': '0_f2cfbpwy',",
            "                'ext': 'mp4',",
            "                'title': 'I. M. Pei: A Centennial Celebration',",
            "                'description': 'md5:1db8f40c69edc46ca180ba30c567f37c',",
            "                'upload_date': '20170403',",
            "                'uploader_id': 'batchUser',",
            "                'timestamp': 1491232186,",
            "            },",
            "            'add_ie': ['Kaltura'],",
            "        },",
            "        {",
            "            # Kaltura iframe embed, more sophisticated",
            "            'url': 'http://www.cns.nyu.edu/~eero/math-tools/Videos/lecture-05sep2017.html',",
            "            'info_dict': {",
            "                'id': '1_9gzouybz',",
            "                'ext': 'mp4',",
            "                'title': 'lecture-05sep2017',",
            "                'description': 'md5:40f347d91fd4ba047e511c5321064b49',",
            "                'upload_date': '20170913',",
            "                'uploader_id': 'eps2',",
            "                'timestamp': 1505340777,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'add_ie': ['Kaltura'],",
            "        },",
            "        {",
            "            # meta twitter:player",
            "            'url': 'http://thechive.com/2017/12/08/all-i-want-for-christmas-is-more-twerk/',",
            "            'info_dict': {",
            "                'id': '0_01b42zps',",
            "                'ext': 'mp4',",
            "                'title': 'Main Twerk (Video)',",
            "                'upload_date': '20171208',",
            "                'uploader_id': 'sebastian.salinas@thechive.com',",
            "                'timestamp': 1512713057,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'add_ie': ['Kaltura'],",
            "        },",
            "        # referrer protected EaglePlatform embed",
            "        {",
            "            'url': 'https://tvrain.ru/lite/teleshow/kak_vse_nachinalos/namin-418921/',",
            "            'info_dict': {",
            "                'id': '582306',",
            "                'ext': 'mp4',",
            "                'title': '\u0421\u0442\u0430\u0441 \u041d\u0430\u043c\u0438\u043d: \u00ab\u041c\u044b \u043d\u0430\u0440\u0443\u0448\u0438\u043b\u0438 \u0434\u0435\u0432\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u041a\u0440\u0435\u043c\u043b\u044f\u00bb',",
            "                'thumbnail': r're:^https?://.*\\.jpg$',",
            "                'duration': 3382,",
            "                'view_count': int,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # ClipYou (EaglePlatform) embed (custom URL)",
            "        {",
            "            'url': 'http://muz-tv.ru/play/7129/',",
            "            # Not checking MD5 as sometimes the direct HTTP link results in 404 and HLS is used",
            "            'info_dict': {",
            "                'id': '12820',",
            "                'ext': 'mp4',",
            "                'title': \"'O Sole Mio\",",
            "                'thumbnail': r're:^https?://.*\\.jpg$',",
            "                'duration': 216,",
            "                'view_count': int,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'skip': 'This video is unavailable.',",
            "        },",
            "        # Pladform embed",
            "        {",
            "            'url': 'http://muz-tv.ru/kinozal/view/7400/',",
            "            'info_dict': {",
            "                'id': '100183293',",
            "                'ext': 'mp4',",
            "                'title': '\u0422\u0430\u0439\u043d\u044b \u043f\u0435\u0440\u0435\u0432\u0430\u043b\u0430 \u0414\u044f\u0442\u043b\u043e\u0432\u0430 \u2022 1 \u0441\u0435\u0440\u0438\u044f 2 \u0447\u0430\u0441\u0442\u044c',",
            "                'description': '\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0435\u0440\u0438\u0430\u043b-\u0440\u0430\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0434\u043d\u043e\u0439 \u0438\u0437 \u0441\u0430\u043c\u044b\u0445 \u0436\u0443\u0442\u043a\u0438\u0445 \u0442\u0430\u0439\u043d \u0425\u0425 \u0432\u0435\u043a\u0430',",
            "                'thumbnail': r're:^https?://.*\\.jpg$',",
            "                'duration': 694,",
            "                'age_limit': 0,",
            "            },",
            "            'skip': 'HTTP Error 404: Not Found',",
            "        },",
            "        # Playwire embed",
            "        {",
            "            'url': 'http://www.cinemablend.com/new/First-Joe-Dirt-2-Trailer-Teaser-Stupid-Greatness-70874.html',",
            "            'info_dict': {",
            "                'id': '3519514',",
            "                'ext': 'mp4',",
            "                'title': 'Joe Dirt 2 Beautiful Loser Teaser Trailer',",
            "                'thumbnail': r're:^https?://.*\\.png$',",
            "                'duration': 45.115,",
            "            },",
            "        },",
            "        # Crooks and Liars embed",
            "        {",
            "            'url': 'http://crooksandliars.com/2015/04/fox-friends-says-protecting-atheists',",
            "            'info_dict': {",
            "                'id': '8RUoRhRi',",
            "                'ext': 'mp4',",
            "                'title': \"Fox & Friends Says Protecting Atheists From Discrimination Is Anti-Christian!\",",
            "                'description': 'md5:e1a46ad1650e3a5ec7196d432799127f',",
            "                'timestamp': 1428207000,",
            "                'upload_date': '20150405',",
            "                'uploader': 'Heather',",
            "            },",
            "        },",
            "        # Crooks and Liars external embed",
            "        {",
            "            'url': 'http://theothermccain.com/2010/02/02/video-proves-that-bill-kristol-has-been-watching-glenn-beck/comment-page-1/',",
            "            'info_dict': {",
            "                'id': 'MTE3MjUtMzQ2MzA',",
            "                'ext': 'mp4',",
            "                'title': 'md5:5e3662a81a4014d24c250d76d41a08d5',",
            "                'description': 'md5:9b8e9542d6c3c5de42d6451b7d780cec',",
            "                'timestamp': 1265032391,",
            "                'upload_date': '20100201',",
            "                'uploader': 'Heather',",
            "            },",
            "        },",
            "        # NBC Sports vplayer embed",
            "        {",
            "            'url': 'http://www.riderfans.com/forum/showthread.php?121827-Freeman&s=e98fa1ea6dc08e886b1678d35212494a',",
            "            'info_dict': {",
            "                'id': 'ln7x1qSThw4k',",
            "                'ext': 'flv',",
            "                'title': \"PFT Live: New leader in the 'new-look' defense\",",
            "                'description': 'md5:65a19b4bbfb3b0c0c5768bed1dfad74e',",
            "                'uploader': 'NBCU-SPORTS',",
            "                'upload_date': '20140107',",
            "                'timestamp': 1389118457,",
            "            },",
            "            'skip': 'Invalid Page URL',",
            "        },",
            "        # NBC News embed",
            "        {",
            "            'url': 'http://www.vulture.com/2016/06/letterman-couldnt-care-less-about-late-night.html',",
            "            'md5': '1aa589c675898ae6d37a17913cf68d66',",
            "            'info_dict': {",
            "                'id': 'x_dtl_oa_LettermanliftPR_160608',",
            "                'ext': 'mp4',",
            "                'title': 'David Letterman: A Preview',",
            "                'description': 'A preview of Tom Brokaw\\'s interview with David Letterman as part of the On Assignment series powered by Dateline. Airs Sunday June 12 at 7/6c.',",
            "                'upload_date': '20160609',",
            "                'timestamp': 1465431544,",
            "                'uploader': 'NBCU-NEWS',",
            "            },",
            "        },",
            "        # UDN embed",
            "        {",
            "            'url': 'https://video.udn.com/news/300346',",
            "            'md5': 'fd2060e988c326991037b9aff9df21a6',",
            "            'info_dict': {",
            "                'id': '300346',",
            "                'ext': 'mp4',",
            "                'title': '\u4e2d\u4e00\u4e2d\u7537\u5e2b\u8b8a\u6027 \u5168\u6821\u5e2b\u751f\u529b\u633a',",
            "                'thumbnail': r're:^https?://.*\\.jpg$',",
            "            },",
            "            'params': {",
            "                # m3u8 download",
            "                'skip_download': True,",
            "            },",
            "            'expected_warnings': ['Failed to parse JSON Expecting value'],",
            "        },",
            "        # Kinja embed",
            "        {",
            "            'url': 'http://www.clickhole.com/video/dont-understand-bitcoin-man-will-mumble-explanatio-2537',",
            "            'info_dict': {",
            "                'id': '106351',",
            "                'ext': 'mp4',",
            "                'title': 'Don\u2019t Understand Bitcoin? This Man Will Mumble An Explanation At You',",
            "                'description': 'Migrated from OnionStudios',",
            "                'thumbnail': r're:^https?://.*\\.jpe?g$',",
            "                'uploader': 'clickhole',",
            "                'upload_date': '20150527',",
            "                'timestamp': 1432744860,",
            "            }",
            "        },",
            "        # SnagFilms embed",
            "        {",
            "            'url': 'http://whilewewatch.blogspot.ru/2012/06/whilewewatch-whilewewatch-gripping.html',",
            "            'info_dict': {",
            "                'id': '74849a00-85a9-11e1-9660-123139220831',",
            "                'ext': 'mp4',",
            "                'title': '#whilewewatch',",
            "            }",
            "        },",
            "        # AdobeTVVideo embed",
            "        {",
            "            'url': 'https://helpx.adobe.com/acrobat/how-to/new-experience-acrobat-dc.html?set=acrobat--get-started--essential-beginners',",
            "            'md5': '43662b577c018ad707a63766462b1e87',",
            "            'info_dict': {",
            "                'id': '2456',",
            "                'ext': 'mp4',",
            "                'title': 'New experience with Acrobat DC',",
            "                'description': 'New experience with Acrobat DC',",
            "                'duration': 248.667,",
            "            },",
            "        },",
            "        # Another form of arte.tv embed",
            "        {",
            "            'url': 'http://www.tv-replay.fr/redirection/09-04-16/arte-reportage-arte-11508975.html',",
            "            'md5': '850bfe45417ddf221288c88a0cffe2e2',",
            "            'info_dict': {",
            "                'id': '030273-562_PLUS7-F',",
            "                'ext': 'mp4',",
            "                'title': 'ARTE Reportage - Nulle part, en France',",
            "                'description': 'md5:e3a0e8868ed7303ed509b9e3af2b870d',",
            "                'upload_date': '20160409',",
            "            },",
            "        },",
            "        # Duplicated embedded video URLs",
            "        {",
            "            'url': 'http://www.hudl.com/athlete/2538180/highlights/149298443',",
            "            'info_dict': {",
            "                'id': '149298443_480_16c25b74_2',",
            "                'ext': 'mp4',",
            "                'title': 'vs. Blue Orange Spring Game',",
            "                'uploader': 'www.hudl.com',",
            "            },",
            "        },",
            "        # twitter:player:stream embed",
            "        {",
            "            'url': 'http://www.rtl.be/info/video/589263.aspx?CategoryID=288',",
            "            'info_dict': {",
            "                'id': 'master',",
            "                'ext': 'mp4',",
            "                'title': 'Une nouvelle esp\u00e8ce de dinosaure d\u00e9couverte en Argentine',",
            "                'uploader': 'www.rtl.be',",
            "            },",
            "            'params': {",
            "                # m3u8 downloads",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # twitter:player embed",
            "        {",
            "            'url': 'http://www.theatlantic.com/video/index/484130/what-do-black-holes-sound-like/',",
            "            'md5': 'a3e0df96369831de324f0778e126653c',",
            "            'info_dict': {",
            "                'id': '4909620399001',",
            "                'ext': 'mp4',",
            "                'title': 'What Do Black Holes Sound Like?',",
            "                'description': 'what do black holes sound like',",
            "                'upload_date': '20160524',",
            "                'uploader_id': '29913724001',",
            "                'timestamp': 1464107587,",
            "                'uploader': 'TheAtlantic',",
            "            },",
            "            'skip': 'Private Youtube video',",
            "        },",
            "        # Facebook <iframe> embed",
            "        {",
            "            'url': 'https://www.hostblogger.de/blog/archives/6181-Auto-jagt-Betonmischer.html',",
            "            'md5': 'fbcde74f534176ecb015849146dd3aee',",
            "            'info_dict': {",
            "                'id': '599637780109885',",
            "                'ext': 'mp4',",
            "                'title': 'Facebook video #599637780109885',",
            "            },",
            "        },",
            "        # Facebook <iframe> embed, plugin video",
            "        {",
            "            'url': 'http://5pillarsuk.com/2017/06/07/tariq-ramadan-disagrees-with-pr-exercise-by-imams-refusing-funeral-prayers-for-london-attackers/',",
            "            'info_dict': {",
            "                'id': '1754168231264132',",
            "                'ext': 'mp4',",
            "                'title': 'About the Imams and Religious leaders refusing to perform funeral prayers for...',",
            "                'uploader': 'Tariq Ramadan (official)',",
            "                'timestamp': 1496758379,",
            "                'upload_date': '20170606',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        # Facebook API embed",
            "        {",
            "            'url': 'http://www.lothype.com/blue-stars-2016-preview-standstill-full-show/',",
            "            'md5': 'a47372ee61b39a7b90287094d447d94e',",
            "            'info_dict': {",
            "                'id': '10153467542406923',",
            "                'ext': 'mp4',",
            "                'title': 'Facebook video #10153467542406923',",
            "            },",
            "        },",
            "        # Wordpress \"YouTube Video Importer\" plugin",
            "        {",
            "            'url': 'http://www.lothype.com/blue-devils-drumline-stanford-lot-2016/',",
            "            'md5': 'd16797741b560b485194eddda8121b48',",
            "            'info_dict': {",
            "                'id': 'HNTXWDXV9Is',",
            "                'ext': 'mp4',",
            "                'title': 'Blue Devils Drumline Stanford lot 2016',",
            "                'upload_date': '20160627',",
            "                'uploader_id': 'GENOCIDE8GENERAL10',",
            "                'uploader': 'cylus cyrus',",
            "            },",
            "        },",
            "        {",
            "            # video stored on custom kaltura server",
            "            'url': 'http://www.expansion.com/multimedia/videos.html?media=EQcM30NHIPv',",
            "            'md5': '537617d06e64dfed891fa1593c4b30cc',",
            "            'info_dict': {",
            "                'id': '0_1iotm5bh',",
            "                'ext': 'mp4',",
            "                'title': 'Elecciones brit\u00e1nicas: 5 lecciones para Rajoy',",
            "                'description': 'md5:435a89d68b9760b92ce67ed227055f16',",
            "                'uploader_id': 'videos.expansion@el-mundo.net',",
            "                'upload_date': '20150429',",
            "                'timestamp': 1430303472,",
            "            },",
            "            'add_ie': ['Kaltura'],",
            "        },",
            "        {",
            "            # multiple kaltura embeds, nsfw",
            "            'url': 'https://www.quartier-rouge.be/prive/femmes/kamila-avec-video-jaime-sadomie.html',",
            "            'info_dict': {",
            "                'id': 'kamila-avec-video-jaime-sadomie',",
            "                'title': \"Kamila avec v\u00eddeo \u201cJ'aime sadomie\u201d\",",
            "            },",
            "            'playlist_count': 8,",
            "        },",
            "        {",
            "            # Non-standard Vimeo embed",
            "            'url': 'https://openclassrooms.com/courses/understanding-the-web',",
            "            'md5': '64d86f1c7d369afd9a78b38cbb88d80a',",
            "            'info_dict': {",
            "                'id': '148867247',",
            "                'ext': 'mp4',",
            "                'title': 'Understanding the web - Teaser',",
            "                'description': 'This is \"Understanding the web - Teaser\" by openclassrooms on Vimeo, the home for high quality videos and the people who love them.',",
            "                'upload_date': '20151214',",
            "                'uploader': 'OpenClassrooms',",
            "                'uploader_id': 'openclassrooms',",
            "            },",
            "            'add_ie': ['Vimeo'],",
            "        },",
            "        {",
            "            # generic vimeo embed that requires original URL passed as Referer",
            "            'url': 'http://racing4everyone.eu/2016/07/30/formula-1-2016-round12-germany/',",
            "            'only_matching': True,",
            "        },",
            "        {",
            "            'url': 'https://support.arkena.com/display/PLAY/Ways+to+embed+your+video',",
            "            'md5': 'b96f2f71b359a8ecd05ce4e1daa72365',",
            "            'info_dict': {",
            "                'id': 'b41dda37-d8e7-4d3f-b1b5-9a9db578bdfe',",
            "                'ext': 'mp4',",
            "                'title': 'Big Buck Bunny',",
            "                'description': 'Royalty free test video',",
            "                'timestamp': 1432816365,",
            "                'upload_date': '20150528',",
            "                'is_live': False,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'add_ie': ['Arkena'],",
            "        },",
            "        {",
            "            'url': 'http://nova.bg/news/view/2016/08/16/156543/%D0%BD%D0%B0-%D0%BA%D0%BE%D1%81%D1%8A%D0%BC-%D0%BE%D1%82-%D0%B2%D0%B7%D1%80%D0%B8%D0%B2-%D0%BE%D1%82%D1%86%D0%B5%D0%BF%D0%B8%D1%85%D0%B0-%D1%86%D1%8F%D0%BB-%D0%BA%D0%B2%D0%B0%D1%80%D1%82%D0%B0%D0%BB-%D0%B7%D0%B0%D1%80%D0%B0%D0%B4%D0%B8-%D0%B8%D0%B7%D1%82%D0%B8%D1%87%D0%B0%D0%BD%D0%B5-%D0%BD%D0%B0-%D0%B3%D0%B0%D0%B7-%D0%B2-%D0%BF%D0%BB%D0%BE%D0%B2%D0%B4%D0%B8%D0%B2/',",
            "            'info_dict': {",
            "                'id': '1c7141f46c',",
            "                'ext': 'mp4',",
            "                'title': '\u041d\u0410 \u041a\u041e\u0421\u042a\u041c \u041e\u0422 \u0412\u0417\u0420\u0418\u0412: \u0418\u0437\u0442\u0438\u0447\u0430\u043d\u0435 \u043d\u0430 \u0433\u0430\u0437 \u043d\u0430 \u0431\u0435\u043d\u0437\u0438\u043d\u043e\u0441\u0442\u0430\u043d\u0446\u0438\u044f \u0432 \u041f\u043b\u043e\u0432\u0434\u0438\u0432',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'add_ie': ['Vbox7'],",
            "        },",
            "        {",
            "            # DBTV embeds",
            "            'url': 'http://www.dagbladet.no/2016/02/23/nyheter/nordlys/ski/troms/ver/43254897/',",
            "            'info_dict': {",
            "                'id': '43254897',",
            "                'title': 'Etter ett \u00e5rs planlegging, klaffet endelig alt: - Jeg m\u00e5tte ta en liten dans',",
            "            },",
            "            'playlist_mincount': 3,",
            "        },",
            "        {",
            "            # Videa embeds",
            "            'url': 'http://forum.dvdtalk.com/movie-talk/623756-deleted-magic-star-wars-ot-deleted-alt-scenes-docu-style.html',",
            "            'info_dict': {",
            "                'id': '623756-deleted-magic-star-wars-ot-deleted-alt-scenes-docu-style',",
            "                'title': 'Deleted Magic - Star Wars: OT Deleted / Alt. Scenes Docu. Style - DVD Talk Forum',",
            "            },",
            "            'playlist_mincount': 2,",
            "        },",
            "        {",
            "            # 20 minuten embed",
            "            'url': 'http://www.20min.ch/schweiz/news/story/So-kommen-Sie-bei-Eis-und-Schnee-sicher-an-27032552',",
            "            'info_dict': {",
            "                'id': '523629',",
            "                'ext': 'mp4',",
            "                'title': 'So kommen Sie bei Eis und Schnee sicher an',",
            "                'description': 'md5:117c212f64b25e3d95747e5276863f7d',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'add_ie': ['TwentyMinuten'],",
            "        },",
            "        {",
            "            # VideoPress embed",
            "            'url': 'https://en.support.wordpress.com/videopress/',",
            "            'info_dict': {",
            "                'id': 'OcobLTqC',",
            "                'ext': 'm4v',",
            "                'title': 'IMG_5786',",
            "                'timestamp': 1435711927,",
            "                'upload_date': '20150701',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'add_ie': ['VideoPress'],",
            "        },",
            "        {",
            "            # Rutube embed",
            "            'url': 'http://magazzino.friday.ru/videos/vipuski/kazan-2',",
            "            'info_dict': {",
            "                'id': '9b3d5bee0a8740bf70dfd29d3ea43541',",
            "                'ext': 'flv',",
            "                'title': '\u041c\u0430\u0433\u0430\u0437\u0437\u0438\u043d\u043e: \u041a\u0430\u0437\u0430\u043d\u044c 2',",
            "                'description': 'md5:99bccdfac2269f0e8fdbc4bbc9db184a',",
            "                'uploader': '\u041c\u0430\u0433\u0430\u0437\u0437\u0438\u043d\u043e',",
            "                'upload_date': '20170228',",
            "                'uploader_id': '996642',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'add_ie': ['Rutube'],",
            "        },",
            "        {",
            "            # glomex:embed",
            "            'url': 'https://www.skai.gr/news/world/iatrikos-syllogos-tourkias-to-turkovac-aplo-dialyma-erntogan-eiste-apateones-kai-pseytes',",
            "            'info_dict': {",
            "                'id': 'v-ch2nkhcirwc9-sf',",
            "                'ext': 'mp4',",
            "                'title': 'md5:786e1e24e06c55993cee965ef853a0c1',",
            "                'description': 'md5:8b517a61d577efe7e36fde72fd535995',",
            "                'timestamp': 1641885019,",
            "                'upload_date': '20220111',",
            "                'duration': 460000,",
            "                'thumbnail': 'https://i3thumbs.glomex.com/dC1idjJwdndiMjRzeGwvMjAyMi8wMS8xMS8wNy8xMF8zNV82MWRkMmQ2YmU5ZTgyLmpwZw==/profile:player-960x540',",
            "            },",
            "        },",
            "        {",
            "            # megatvcom:embed",
            "            'url': 'https://www.in.gr/2021/12/18/greece/apokalypsi-mega-poios-parelave-tin-ereyna-tsiodra-ek-merous-tis-kyvernisis-o-prothypourgos-telika-gnorize/',",
            "            'info_dict': {",
            "                'id': 'apokalypsi-mega-poios-parelave-tin-ereyna-tsiodra-ek-merous-tis-kyvernisis-o-prothypourgos-telika-gnorize',",
            "                'title': 'md5:5e569cf996ec111057c2764ec272848f',",
            "            },",
            "            'playlist': [{",
            "                'md5': '1afa26064ff00ccb91617957dbc73dc1',",
            "                'info_dict': {",
            "                    'ext': 'mp4',",
            "                    'id': '564916',",
            "                    'display_id': 'md5:6cdf22d3a2e7bacb274b7295089a1770',",
            "                    'title': 'md5:33b9dd39584685b62873043670eb52a6',",
            "                    'description': 'md5:c1db7310f390518ac36dd69d947ef1a1',",
            "                    'timestamp': 1639753145,",
            "                    'upload_date': '20211217',",
            "                    'thumbnail': 'https://www.megatv.com/wp-content/uploads/2021/12/prezerakos-1024x597.jpg',",
            "                },",
            "            }, {",
            "                'md5': '4a1c220695f1ef865a8b7966a53e2474',",
            "                'info_dict': {",
            "                    'ext': 'mp4',",
            "                    'id': '564905',",
            "                    'display_id': 'md5:ead15695e485e649aed2b81ebd699b88',",
            "                    'title': 'md5:2b71fd54249a3ca34609fe39ae31c47b',",
            "                    'description': 'md5:c42e12f638d0a97d6de4508e2c4df982',",
            "                    'timestamp': 1639753047,",
            "                    'upload_date': '20211217',",
            "                    'thumbnail': 'https://www.megatv.com/wp-content/uploads/2021/12/tsiodras-mitsotakis-1024x545.jpg',",
            "                },",
            "            }]",
            "        },",
            "        {",
            "            'url': 'https://www.ertnews.gr/video/manolis-goyalles-o-anthropos-piso-apo-ti-diadiktyaki-vasilopita/',",
            "            'info_dict': {",
            "                'id': '2022/tv/news-themata-ianouarios/20220114-apotis6-gouales-pita.mp4',",
            "                'ext': 'mp4',",
            "                'title': 'md5:df64f5b61c06d0e9556c0cdd5cf14464',",
            "                'thumbnail': 'https://www.ert.gr/themata/photos/2021/20220114-apotis6-gouales-pita.jpg',",
            "            },",
            "        },",
            "        {",
            "            # ThePlatform embedded with whitespaces in URLs",
            "            'url': 'http://www.golfchannel.com/topics/shows/golftalkcentral.htm',",
            "            'only_matching': True,",
            "        },",
            "        {",
            "            # Senate ISVP iframe https",
            "            'url': 'https://www.hsgac.senate.gov/hearings/canadas-fast-track-refugee-plan-unanswered-questions-and-implications-for-us-national-security',",
            "            'md5': 'fb8c70b0b515e5037981a2492099aab8',",
            "            'info_dict': {",
            "                'id': 'govtaff020316',",
            "                'ext': 'mp4',",
            "                'title': 'Integrated Senate Video Player',",
            "            },",
            "            'add_ie': ['SenateISVP'],",
            "        },",
            "        {",
            "            # Limelight embeds (1 channel embed + 4 media embeds)",
            "            'url': 'http://www.sedona.com/FacilitatorTraining2017',",
            "            'info_dict': {",
            "                'id': 'FacilitatorTraining2017',",
            "                'title': 'Facilitator Training 2017',",
            "            },",
            "            'playlist_mincount': 5,",
            "        },",
            "        {",
            "            # Limelight embed (LimelightPlayerUtil.embed)",
            "            'url': 'https://tv5.ca/videos?v=xuu8qowr291ri',",
            "            'info_dict': {",
            "                'id': '95d035dc5c8a401588e9c0e6bd1e9c92',",
            "                'ext': 'mp4',",
            "                'title': '07448641',",
            "                'timestamp': 1499890639,",
            "                'upload_date': '20170712',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'add_ie': ['LimelightMedia'],",
            "        },",
            "        {",
            "            'url': 'http://kron4.com/2017/04/28/standoff-with-walnut-creek-murder-suspect-ends-with-arrest/',",
            "            'info_dict': {",
            "                'id': 'standoff-with-walnut-creek-murder-suspect-ends-with-arrest',",
            "                'title': 'Standoff with Walnut Creek murder suspect ends',",
            "                'description': 'md5:3ccc48a60fc9441eeccfc9c469ebf788',",
            "            },",
            "            'playlist_mincount': 4,",
            "        },",
            "        {",
            "            # WashingtonPost embed",
            "            'url': 'http://www.vanityfair.com/hollywood/2017/04/donald-trump-tv-pitches',",
            "            'info_dict': {",
            "                'id': '8caf6e88-d0ec-11e5-90d3-34c2c42653ac',",
            "                'ext': 'mp4',",
            "                'title': \"No one has seen the drama series based on Trump's life \\u2014 until now\",",
            "                'description': 'Donald Trump wanted a weekly TV drama based on his life. It never aired. But The Washington Post recently obtained a scene from the pilot script \u2014 and enlisted actors.',",
            "                'timestamp': 1455216756,",
            "                'uploader': 'The Washington Post',",
            "                'upload_date': '20160211',",
            "            },",
            "            'add_ie': ['WashingtonPost'],",
            "        },",
            "        {",
            "            # JOJ.sk embeds",
            "            'url': 'https://www.noviny.sk/slovensko/238543-slovenskom-sa-prehnala-vlna-silnych-burok',",
            "            'info_dict': {",
            "                'id': '238543-slovenskom-sa-prehnala-vlna-silnych-burok',",
            "                'title': 'Slovenskom sa prehnala vlna siln\u00fdch b\u00farok',",
            "            },",
            "            'playlist_mincount': 5,",
            "            'add_ie': ['Joj'],",
            "        },",
            "        {",
            "            # AMP embed (see https://www.ampproject.org/docs/reference/components/amp-video)",
            "            'url': 'https://tvrain.ru/amp/418921/',",
            "            'md5': 'cc00413936695987e8de148b67d14f1d',",
            "            'info_dict': {",
            "                'id': '418921',",
            "                'ext': 'mp4',",
            "                'title': '\u0421\u0442\u0430\u0441 \u041d\u0430\u043c\u0438\u043d: \u00ab\u041c\u044b \u043d\u0430\u0440\u0443\u0448\u0438\u043b\u0438 \u0434\u0435\u0432\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u041a\u0440\u0435\u043c\u043b\u044f\u00bb',",
            "            },",
            "        },",
            "        {",
            "            # vzaar embed",
            "            'url': 'http://help.vzaar.com/article/165-embedding-video',",
            "            'md5': '7e3919d9d2620b89e3e00bec7fe8c9d4',",
            "            'info_dict': {",
            "                'id': '8707641',",
            "                'ext': 'mp4',",
            "                'title': 'Building A Business Online: Principal Chairs Q & A',",
            "            },",
            "        },",
            "        {",
            "            # multiple HTML5 videos on one page",
            "            'url': 'https://www.paragon-software.com/home/rk-free/keyscenarios.html',",
            "            'info_dict': {",
            "                'id': 'keyscenarios',",
            "                'title': 'Rescue Kit 14 Free Edition - Getting started',",
            "            },",
            "            'playlist_count': 4,",
            "        },",
            "        {",
            "            # vshare embed",
            "            'url': 'https://youtube-dl-demo.neocities.org/vshare.html',",
            "            'md5': '17b39f55b5497ae8b59f5fbce8e35886',",
            "            'info_dict': {",
            "                'id': '0f64ce6',",
            "                'title': 'vl14062007715967',",
            "                'ext': 'mp4',",
            "            }",
            "        },",
            "        {",
            "            'url': 'http://www.heidelberg-laureate-forum.org/blog/video/lecture-friday-september-23-2016-sir-c-antony-r-hoare/',",
            "            'md5': 'aecd089f55b1cb5a59032cb049d3a356',",
            "            'info_dict': {",
            "                'id': '90227f51a80c4d8f86c345a7fa62bd9a1d',",
            "                'ext': 'mp4',",
            "                'title': 'Lecture: Friday, September 23, 2016 - Sir Tony Hoare',",
            "                'description': 'md5:5a51db84a62def7b7054df2ade403c6c',",
            "                'timestamp': 1474354800,",
            "                'upload_date': '20160920',",
            "            }",
            "        },",
            "        {",
            "            'url': 'http://www.kidzworld.com/article/30935-trolls-the-beat-goes-on-interview-skylar-astin-and-amanda-leighton',",
            "            'info_dict': {",
            "                'id': '1731611',",
            "                'ext': 'mp4',",
            "                'title': 'Official Trailer | TROLLS: THE BEAT GOES ON!',",
            "                'description': 'md5:eb5f23826a027ba95277d105f248b825',",
            "                'timestamp': 1516100691,",
            "                'upload_date': '20180116',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'add_ie': ['SpringboardPlatform'],",
            "        },",
            "        {",
            "            'url': 'https://www.yapfiles.ru/show/1872528/690b05d3054d2dbe1e69523aa21bb3b1.mp4.html',",
            "            'info_dict': {",
            "                'id': 'vMDE4NzI1Mjgt690b',",
            "                'ext': 'mp4',",
            "                'title': '\u041a\u043e\u0442\u044f\u0442\u0430',",
            "            },",
            "            'add_ie': ['YapFiles'],",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        {",
            "            # CloudflareStream embed",
            "            'url': 'https://www.cloudflare.com/products/cloudflare-stream/',",
            "            'info_dict': {",
            "                'id': '31c9291ab41fac05471db4e73aa11717',",
            "                'ext': 'mp4',",
            "                'title': '31c9291ab41fac05471db4e73aa11717',",
            "            },",
            "            'add_ie': ['CloudflareStream'],",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        {",
            "            # PeerTube embed",
            "            'url': 'https://joinpeertube.org/fr/home/',",
            "            'info_dict': {",
            "                'id': 'home',",
            "                'title': 'Reprenez le contr\u00f4le de vos vid\u00e9os ! #JoinPeertube',",
            "            },",
            "            'playlist_count': 2,",
            "        },",
            "        {",
            "            # Indavideo embed",
            "            'url': 'https://streetkitchen.hu/receptek/igy_kell_otthon_hamburgert_sutni/',",
            "            'info_dict': {",
            "                'id': '1693903',",
            "                'ext': 'mp4',",
            "                'title': '\u00cdgy kell otthon hamburgert s\u00fctni',",
            "                'description': 'md5:f5a730ecf900a5c852e1e00540bbb0f7',",
            "                'timestamp': 1426330212,",
            "                'upload_date': '20150314',",
            "                'uploader': 'StreetKitchen',",
            "                'uploader_id': '546363',",
            "            },",
            "            'add_ie': ['IndavideoEmbed'],",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        {",
            "            # APA embed via JWPlatform embed",
            "            'url': 'http://www.vol.at/blue-man-group/5593454',",
            "            'info_dict': {",
            "                'id': 'jjv85FdZ',",
            "                'ext': 'mp4',",
            "                'title': '\"Blau ist mysteri\u00f6s\": Die Blue Man Group im Interview',",
            "                'description': 'md5:d41d8cd98f00b204e9800998ecf8427e',",
            "                'thumbnail': r're:^https?://.*\\.jpg$',",
            "                'duration': 254,",
            "                'timestamp': 1519211149,",
            "                'upload_date': '20180221',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        {",
            "            'url': 'http://share-videos.se/auto/video/83645793?uid=13',",
            "            'md5': 'b68d276de422ab07ee1d49388103f457',",
            "            'info_dict': {",
            "                'id': '83645793',",
            "                'title': 'Lock up and get excited',",
            "                'ext': 'mp4'",
            "            },",
            "            'skip': 'TODO: fix nested playlists processing in tests',",
            "        },",
            "        {",
            "            # Viqeo embeds",
            "            'url': 'https://viqeo.tv/',",
            "            'info_dict': {",
            "                'id': 'viqeo',",
            "                'title': 'All-new video platform',",
            "            },",
            "            'playlist_count': 6,",
            "        },",
            "        # {",
            "        #     # Zype embed",
            "        #     'url': 'https://www.cookscountry.com/episode/554-smoky-barbecue-favorites',",
            "        #     'info_dict': {",
            "        #         'id': '5b400b834b32992a310622b9',",
            "        #         'ext': 'mp4',",
            "        #         'title': 'Smoky Barbecue Favorites',",
            "        #         'thumbnail': r're:^https?://.*\\.jpe?g',",
            "        #         'description': 'md5:5ff01e76316bd8d46508af26dc86023b',",
            "        #         'upload_date': '20170909',",
            "        #         'timestamp': 1504915200,",
            "        #     },",
            "        #     'add_ie': [ZypeIE.ie_key()],",
            "        #     'params': {",
            "        #         'skip_download': True,",
            "        #     },",
            "        # },",
            "        {",
            "            # videojs embed",
            "            'url': 'https://video.sibnet.ru/shell.php?videoid=3422904',",
            "            'info_dict': {",
            "                'id': 'shell',",
            "                'ext': 'mp4',",
            "                'title': '\u0414\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a \u043f\u0438\u0446\u0446\u044b \u0441\u043f\u0440\u043e\u0441\u0438\u043b \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0441\u044b\u0433\u0440\u0430\u0442\u044c \u043d\u0430 \u0444\u043e\u0440\u0442\u0435\u043f\u0438\u0430\u043d\u043e',",
            "                'description': 'md5:89209cdc587dab1e4a090453dbaa2cb1',",
            "                'thumbnail': r're:^https?://.*\\.jpg$',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'expected_warnings': ['Failed to download MPD manifest'],",
            "        },",
            "        {",
            "            # DailyMotion embed with DM.player",
            "            'url': 'https://www.beinsports.com/us/copa-del-rey/video/the-locker-room-valencia-beat-barca-in-copa/1203804',",
            "            'info_dict': {",
            "                'id': 'k6aKkGHd9FJs4mtJN39',",
            "                'ext': 'mp4',",
            "                'title': 'The Locker Room: Valencia Beat Barca In Copa del Rey Final',",
            "                'description': 'This video is private.',",
            "                'uploader_id': 'x1jf30l',",
            "                'uploader': 'beIN SPORTS USA',",
            "                'upload_date': '20190528',",
            "                'timestamp': 1559062971,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        {",
            "            # tvopengr:embed",
            "            'url': 'https://www.ethnos.gr/World/article/190604/hparosiaxekinoynoisynomiliessthgeneyhmethskiatoypolemoypanoapothnoykrania',",
            "            'md5': 'eb0c3995d0a6f18f6538c8e057865d7d',",
            "            'info_dict': {",
            "                'id': '101119',",
            "                'ext': 'mp4',",
            "                'display_id': 'oikarpoitondiapragmateyseonhparosias',",
            "                'title': 'md5:b979f4d640c568617d6547035528a149',",
            "                'description': 'md5:e54fc1977c7159b01cc11cd7d9d85550',",
            "                'timestamp': 1641772800,",
            "                'upload_date': '20220110',",
            "                'thumbnail': 'https://opentv-static.siliconweb.com/imgHandler/1920/70bc39fa-895b-4918-a364-c39d2135fc6d.jpg',",
            "",
            "            }",
            "        },",
            "        {",
            "            # blogger embed",
            "            'url': 'https://blog.tomeuvizoso.net/2019/01/a-panfrost-milestone.html',",
            "            'md5': 'f1bc19b6ea1b0fd1d81e84ca9ec467ac',",
            "            'info_dict': {",
            "                'id': 'BLOGGER-video-3c740e3a49197e16-796',",
            "                'ext': 'mp4',",
            "                'title': 'Blogger',",
            "                'thumbnail': r're:^https?://.*',",
            "            },",
            "        },",
            "        # {",
            "        #     # TODO: find another test",
            "        #     # http://schema.org/VideoObject",
            "        #     'url': 'https://flipagram.com/f/nyvTSJMKId',",
            "        #     'md5': '888dcf08b7ea671381f00fab74692755',",
            "        #     'info_dict': {",
            "        #         'id': 'nyvTSJMKId',",
            "        #         'ext': 'mp4',",
            "        #         'title': 'Flipagram by sjuria101 featuring Midnight Memories by One Direction',",
            "        #         'description': '#love for cats.',",
            "        #         'timestamp': 1461244995,",
            "        #         'upload_date': '20160421',",
            "        #     },",
            "        #     'params': {",
            "        #         'force_generic_extractor': True,",
            "        #     },",
            "        # },",
            "        {",
            "            # VHX Embed",
            "            'url': 'https://demo.vhx.tv/category-c/videos/file-example-mp4-480-1-5mg-copy',",
            "            'info_dict': {",
            "                'id': '858208',",
            "                'ext': 'mp4',",
            "                'title': 'Untitled',",
            "                'uploader_id': 'user80538407',",
            "                'uploader': 'OTT Videos',",
            "            },",
            "        },",
            "        {",
            "            # ArcPublishing PoWa video player",
            "            'url': 'https://www.adn.com/politics/2020/11/02/video-senate-candidates-campaign-in-anchorage-on-eve-of-election-day/',",
            "            'md5': 'b03b2fac8680e1e5a7cc81a5c27e71b3',",
            "            'info_dict': {",
            "                'id': '8c99cb6e-b29c-4bc9-9173-7bf9979225ab',",
            "                'ext': 'mp4',",
            "                'title': 'Senate candidates wave to voters on Anchorage streets',",
            "                'description': 'md5:91f51a6511f090617353dc720318b20e',",
            "                'timestamp': 1604378735,",
            "                'upload_date': '20201103',",
            "                'duration': 1581,",
            "            },",
            "        },",
            "        {",
            "            # MyChannels SDK embed",
            "            # https://www.24kitchen.nl/populair/deskundige-dit-waarom-sommigen-gevoelig-zijn-voor-voedselallergieen",
            "            'url': 'https://www.demorgen.be/nieuws/burgemeester-rotterdam-richt-zich-in-videoboodschap-tot-relschoppers-voelt-het-goed~b0bcfd741/',",
            "            'md5': '90c0699c37006ef18e198c032d81739c',",
            "            'info_dict': {",
            "                'id': '194165',",
            "                'ext': 'mp4',",
            "                'title': 'Burgemeester Aboutaleb spreekt relschoppers toe',",
            "                'timestamp': 1611740340,",
            "                'upload_date': '20210127',",
            "                'duration': 159,",
            "            },",
            "        },",
            "        {",
            "            # Simplecast player embed",
            "            'url': 'https://www.bio.org/podcast',",
            "            'info_dict': {",
            "                'id': 'podcast',",
            "                'title': 'I AM BIO Podcast | BIO',",
            "            },",
            "            'playlist_mincount': 52,",
            "        }, {",
            "            # WimTv embed player",
            "            'url': 'http://www.msmotor.tv/wearefmi-pt-2-2021/',",
            "            'info_dict': {",
            "                'id': 'wearefmi-pt-2-2021',",
            "                'title': '#WEAREFMI \u2013 PT.2 \u2013 2021 \u2013 MsMotorTV',",
            "            },",
            "            'playlist_count': 1,",
            "        }, {",
            "            # KVS Player",
            "            'url': 'https://www.kvs-demo.com/videos/105/kelis-4th-of-july/',",
            "            'info_dict': {",
            "                'id': '105',",
            "                'display_id': 'kelis-4th-of-july',",
            "                'ext': 'mp4',",
            "                'title': 'Kelis - 4th Of July',",
            "                'description': 'Kelis - 4th Of July',",
            "                'thumbnail': r're:https://(?:www\\.)?kvs-demo.com/contents/videos_screenshots/0/105/preview.jpg',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'expected_warnings': ['Untested major version'],",
            "        }, {",
            "            # KVS Player",
            "            'url': 'https://www.kvs-demo.com/embed/105/',",
            "            'info_dict': {",
            "                'id': '105',",
            "                'display_id': 'kelis-4th-of-july',",
            "                'ext': 'mp4',",
            "                'title': 'Kelis - 4th Of July / Embed Player',",
            "                'thumbnail': r're:https://(?:www\\.)?kvs-demo.com/contents/videos_screenshots/0/105/preview.jpg',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        }, {",
            "            'url': 'https://youix.com/video/leningrad-zoj/',",
            "            'md5': '94f96ba95706dc3880812b27b7d8a2b8',",
            "            'info_dict': {",
            "                'id': '18485',",
            "                'display_id': 'leningrad-zoj',",
            "                'ext': 'mp4',",
            "                'title': '\u041a\u043b\u0438\u043f: \u041b\u0435\u043d\u0438\u043d\u0433\u0440\u0430\u0434 - \u0417\u041e\u0416 \u0441\u043a\u0430\u0447\u0430\u0442\u044c, \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043e\u043d\u043b\u0430\u0439\u043d | Youix.com',",
            "                'thumbnail': r're:https://youix.com/contents/videos_screenshots/18000/18485/preview(?:_480x320_youix_com.mp4)?\\.jpg',",
            "            },",
            "        }, {",
            "            # KVS Player",
            "            'url': 'https://youix.com/embed/18485',",
            "            'md5': '94f96ba95706dc3880812b27b7d8a2b8',",
            "            'info_dict': {",
            "                'id': '18485',",
            "                'display_id': 'leningrad-zoj',",
            "                'ext': 'mp4',",
            "                'title': '\u041b\u0435\u043d\u0438\u043d\u0433\u0440\u0430\u0434 - \u0417\u041e\u0416',",
            "                'thumbnail': r're:https://youix.com/contents/videos_screenshots/18000/18485/preview(?:_480x320_youix_com.mp4)?\\.jpg',",
            "            },",
            "        }, {",
            "            # KVS Player",
            "            'url': 'https://bogmedia.org/videos/21217/40-nochey-40-nights-2016/',",
            "            'md5': '94166bdb26b4cb1fb9214319a629fc51',",
            "            'info_dict': {",
            "                'id': '21217',",
            "                'display_id': '40-nochey-2016',",
            "                'ext': 'mp4',",
            "                'title': '40 \u043d\u043e\u0447\u0435\u0439 (2016) - BogMedia.org',",
            "                'description': 'md5:4e6d7d622636eb7948275432eb256dc3',",
            "                'thumbnail': 'https://bogmedia.org/contents/videos_screenshots/21000/21217/preview_480p.mp4.jpg',",
            "            },",
            "        },",
            "        {",
            "            # KVS Player (for sites that serve kt_player.js via non-https urls)",
            "            'url': 'http://www.camhub.world/embed/389508',",
            "            'md5': 'fbe89af4cfb59c8fd9f34a202bb03e32',",
            "            'info_dict': {",
            "                'id': '389508',",
            "                'display_id': 'syren-de-mer-onlyfans-05-07-2020have-a-happy-safe-holiday5f014e68a220979bdb8cd-source',",
            "                'ext': 'mp4',",
            "                'title': 'Syren De Mer onlyfans_05-07-2020Have_a_happy_safe_holiday5f014e68a220979bdb8cd_source / Embed \u043f\u043b\u0435\u0435\u0440',",
            "                'thumbnail': r're:https?://www\\.camhub\\.world/contents/videos_screenshots/389000/389508/preview\\.mp4\\.jpg',",
            "            },",
            "        },",
            "        {",
            "            # Reddit-hosted video that will redirect and be processed by RedditIE",
            "            # Redirects to https://www.reddit.com/r/videos/comments/6rrwyj/that_small_heart_attack/",
            "            'url': 'https://v.redd.it/zv89llsvexdz',",
            "            'md5': '87f5f02f6c1582654146f830f21f8662',",
            "            'info_dict': {",
            "                'id': 'zv89llsvexdz',",
            "                'ext': 'mp4',",
            "                'timestamp': 1501941939.0,",
            "                'title': 'That small heart attack.',",
            "                'upload_date': '20170805',",
            "                'uploader': 'Antw87'",
            "            }",
            "        },",
            "        {",
            "            # 1080p Reddit-hosted video that will redirect and be processed by RedditIE",
            "            'url': 'https://v.redd.it/33hgok7dfbz71/',",
            "            'md5': '7a1d587940242c9bb3bd6eb320b39258',",
            "            'info_dict': {",
            "                'id': '33hgok7dfbz71',",
            "                'ext': 'mp4',",
            "                'title': \"The game Didn't want me to Knife that Guy I guess\",",
            "                'uploader': 'paraf1ve',",
            "                'timestamp': 1636788683.0,",
            "                'upload_date': '20211113'",
            "            }",
            "        },",
            "        {",
            "            # MainStreaming player",
            "            'url': 'https://www.lactv.it/2021/10/03/lac-news24-la-settimana-03-10-2021/',",
            "            'info_dict': {",
            "                'id': 'EUlZfGWkGpOd',",
            "                'title': 'La Settimana ',",
            "                'description': '03 Ottobre ore 02:00',",
            "                'ext': 'mp4',",
            "                'live_status': 'not_live',",
            "                'thumbnail': r're:https?://[A-Za-z0-9-]*\\.msvdn.net/image/\\w+/poster',",
            "                'duration': 1512",
            "            }",
            "        },",
            "        {",
            "            # Multiple gfycat iframe embeds",
            "            'url': 'https://www.gezip.net/bbs/board.php?bo_table=entertaine&wr_id=613422',",
            "            'info_dict': {",
            "                'title': '\uc7ac\uc774, \uc724, \uc138\uc740 \ud669\uae08 \ub4dc\ub808\uc2a4\ub97c \uc785\uace0 \ube5b\ub09c\ub2e4',",
            "                'id': 'board'",
            "            },",
            "            'playlist_count': 8,",
            "        },",
            "        {",
            "            # Multiple gfycat gifs (direct links)",
            "            'url': 'https://www.gezip.net/bbs/board.php?bo_table=entertaine&wr_id=612199',",
            "            'info_dict': {",
            "                'title': '\uc633\uac8c \ub41c \ud06c\ub86d \ub2c8\ud2b8 \uc2a4\ud14c\uc774\uc528 \uc544\uc774\uc0ac',",
            "                'id': 'board'",
            "            },",
            "            'playlist_count': 6",
            "        },",
            "        {",
            "            # Multiple gfycat embeds, with uppercase \"IFR\" in urls",
            "            'url': 'https://kkzz.kr/?vid=2295',",
            "            'info_dict': {",
            "                'title': '\uc9c0\ubc29\uc2dc \uc570\ubc84\uc11c\ub354 \uc5d0\uc2a4\ud30c \uce74\ub9ac\ub098 \uc6c0\uc9e4',",
            "                'id': '?vid=2295'",
            "            },",
            "            'playlist_count': 9",
            "        },",
            "        {",
            "            # Panopto embeds",
            "            'url': 'https://www.monash.edu/learning-teaching/teachhq/learning-technologies/panopto/how-to/insert-a-quiz-into-a-panopto-video',",
            "            'info_dict': {",
            "                'ext': 'mp4',",
            "                'id': '0bd3f16c-824a-436a-8486-ac5900693aef',",
            "                'title': 'Quizzes in Panopto',",
            "            },",
            "        },",
            "        {",
            "            # Ruutu embed",
            "            'url': 'https://www.nelonen.fi/ohjelmat/madventures-suomi/2160731-riku-ja-tunna-lahtevat-peurajahtiin-tv-sta-tutun-biologin-kanssa---metsastysreissu-huipentuu-kasvissyojan-painajaiseen',",
            "            'md5': 'a2513a98d3496099e6eced40f7e6a14b',",
            "            'info_dict': {",
            "                'id': '4044426',",
            "                'ext': 'mp4',",
            "                'title': 'Riku ja Tunna l\u00e4htev\u00e4t peurajahtiin tv:st\u00e4 tutun biologin kanssa \u2013 mets\u00e4stysreissu huipentuu kasvissy\u00f6j\u00e4n painajaiseen!',",
            "                'thumbnail': r're:^https?://.+\\.jpg$',",
            "                'duration': 108,",
            "                'series': 'Madventures Suomi',",
            "                'description': 'md5:aa55b44bd06a1e337a6f1d0b46507381',",
            "                'categories': ['Matkailu', 'El\u00e4m\u00e4ntyyli'],",
            "                'age_limit': 0,",
            "                'upload_date': '20220308',",
            "            },",
            "        },",
            "        {",
            "            # Multiple Ruutu embeds",
            "            'url': 'https://www.hs.fi/kotimaa/art-2000008762560.html',",
            "            'info_dict': {",
            "                'title': 'Koronavirus | Epidemiahuippu voi olla Suomessa ohi, mutta koronaviruksen poistamista yleisvaarallisten tautien joukosta harkitaan vasta syksyll\u00e4',",
            "                'id': 'art-2000008762560'",
            "            },",
            "            'playlist_count': 3",
            "        },",
            "        {",
            "            # Ruutu embed in hs.fi with a single video",
            "            'url': 'https://www.hs.fi/kotimaa/art-2000008793421.html',",
            "            'md5': 'f8964e65d8fada6e8a562389bf366bb4',",
            "            'info_dict': {",
            "                'id': '4081841',",
            "                'ext': 'mp4',",
            "                'title': 'Puolustusvoimat siirsi panssariajoneuvoja harjoituksiin Niinisaloon 2.5.2022',",
            "                'thumbnail': r're:^https?://.+\\.jpg$',",
            "                'duration': 138,",
            "                'age_limit': 0,",
            "                'upload_date': '20220504',",
            "            },",
            "        },",
            "        {",
            "            # Webpage contains double BOM",
            "            'url': 'https://www.filmarkivet.se/movies/paris-d-moll/',",
            "            'md5': 'df02cadc719dcc63d43288366f037754',",
            "            'info_dict': {",
            "                'id': 'paris-d-moll',",
            "                'ext': 'mp4',",
            "                'upload_date': '20220518',",
            "                'title': 'Paris d-moll',",
            "                'description': 'md5:319e37ea5542293db37e1e13072fe330',",
            "                'thumbnail': 'https://www.filmarkivet.se/wp-content/uploads/parisdmoll2.jpg',",
            "                'timestamp': 1652833414,",
            "                'age_limit': 0,",
            "            }",
            "        },",
            "        {",
            "            'url': 'https://www.mollymovieclub.com/p/interstellar?s=r#details',",
            "            'md5': '198bde8bed23d0b23c70725c83c9b6d9',",
            "            'info_dict': {",
            "                'id': '53602801',",
            "                'ext': 'mpga',",
            "                'title': 'Interstellar',",
            "                'description': 'Listen now | Episode One',",
            "                'thumbnail': 'md5:c30d9c83f738e16d8551d7219d321538',",
            "                'uploader': 'Molly Movie Club',",
            "                'uploader_id': '839621',",
            "            },",
            "        },",
            "        {",
            "            'url': 'https://www.blockedandreported.org/p/episode-117-lets-talk-about-depp?s=r',",
            "            'md5': 'c0cc44ee7415daeed13c26e5b56d6aa0',",
            "            'info_dict': {",
            "                'id': '57962052',",
            "                'ext': 'mpga',",
            "                'title': 'md5:855b2756f0ee10f6723fa00b16266f8d',",
            "                'description': 'md5:fe512a5e94136ad260c80bde00ea4eef',",
            "                'thumbnail': 'md5:2218f27dfe517bb5ac16c47d0aebac59',",
            "                'uploader': 'Blocked and Reported',",
            "                'uploader_id': '500230',",
            "            },",
            "        },",
            "        {",
            "            'url': 'https://www.skimag.com/video/ski-people-1980/',",
            "            'md5': '022a7e31c70620ebec18deeab376ee03',",
            "            'info_dict': {",
            "                'id': 'YTmgRiNU',",
            "                'ext': 'mp4',",
            "                'title': '1980 Ski People',",
            "                'timestamp': 1610407738,",
            "                'description': 'md5:cf9c3d101452c91e141f292b19fe4843',",
            "                'thumbnail': 'https://cdn.jwplayer.com/v2/media/YTmgRiNU/poster.jpg?width=720',",
            "                'duration': 5688.0,",
            "                'upload_date': '20210111',",
            "            }",
            "        },",
            "        {",
            "            'note': 'JSON LD with multiple @type',",
            "            'url': 'https://www.nu.nl/280161/video/hoe-een-bladvlo-dit-verwoestende-japanse-onkruid-moet-vernietigen.html',",
            "            'md5': 'c7949f34f57273013fb7ccb1156393db',",
            "            'info_dict': {",
            "                'id': 'ipy2AcGL',",
            "                'ext': 'mp4',",
            "                'description': 'md5:6a9d644bab0dc2dc06849c2505d8383d',",
            "                'thumbnail': r're:https://media\\.nu\\.nl/m/.+\\.jpg',",
            "                'title': 'Hoe een bladvlo dit verwoestende Japanse onkruid moet vernietigen',",
            "                'timestamp': 1586577474,",
            "                'upload_date': '20200411',",
            "                'age_limit': 0,",
            "                'duration': 111.0,",
            "            }",
            "        },",
            "        {",
            "            'note': 'JSON LD with unexpected data type',",
            "            'url': 'https://www.autoweek.nl/autotests/artikel/porsche-911-gt3-rs-rij-impressie-2/',",
            "            'info_dict': {",
            "                'id': 'porsche-911-gt3-rs-rij-impressie-2',",
            "                'ext': 'mp4',",
            "                'title': 'Test: Porsche 911 GT3 RS',",
            "                'description': 'Je ziet het niet, maar het is er wel. Downforce, hebben we het dan over. En in de nieuwe Porsche 911 GT3 RS is er zelfs heel veel downforce.',",
            "                'timestamp': 1664920902,",
            "                'upload_date': '20221004',",
            "                'thumbnail': r're:^https://media.autoweek.nl/m/.+\\.jpg$',",
            "                'age_limit': 0,",
            "                'direct': True,",
            "            }",
            "        },",
            "        {",
            "            'note': 'server returns data in brotli compression by default if `accept-encoding: *` is specified.',",
            "            'url': 'https://www.extra.cz/cauky-lidi-70-dil-babis-predstavil-pohadky-prymulanek-nebo-andrejovy-nove-saty-ac867',",
            "            'info_dict': {",
            "                'id': 'cauky-lidi-70-dil-babis-predstavil-pohadky-prymulanek-nebo-andrejovy-nove-saty-ac867',",
            "                'ext': 'mp4',",
            "                'title': '\u010dauky lidi 70 finall',",
            "                'description': '\u010dauky lidi 70 finall',",
            "                'thumbnail': 'h',",
            "                'upload_date': '20220606',",
            "                'timestamp': 1654513791,",
            "                'duration': 318.0,",
            "                'direct': True,",
            "                'age_limit': 0,",
            "            },",
            "        },",
            "        {",
            "            'note': 'JW Player embed with unicode-escape sequences in URL',",
            "            'url': 'https://www.medici.tv/en/concerts/lahav-shani-mozart-mahler-israel-philharmonic-abu-dhabi-classics',",
            "            'info_dict': {",
            "                'id': 'm',",
            "                'ext': 'mp4',",
            "                'title': 'Lahav Shani conducts the Israel Philharmonic\\'s first-ever concert in Abu Dhabi',",
            "                'description': 'Mahler\\'s ',",
            "                'uploader': 'www.medici.tv',",
            "                'age_limit': 0,",
            "                'thumbnail': r're:^https?://.+\\.jpg',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        {",
            "            'url': 'https://shooshtime.com/videos/284002/just-out-of-the-shower-joi/',",
            "            'md5': 'e2f0a4c329f7986280b7328e24036d60',",
            "            'info_dict': {",
            "                'id': '284002',",
            "                'display_id': 'just-out-of-the-shower-joi',",
            "                'ext': 'mp4',",
            "                'title': 'Just Out Of The Shower JOI - Shooshtime',",
            "                'thumbnail': 'https://i.shoosh.co/contents/videos_screenshots/284000/284002/preview.mp4.jpg',",
            "                'height': 720,",
            "                'age_limit': 18,",
            "            },",
            "        },",
            "        {",
            "            'note': 'Live HLS direct link',",
            "            'url': 'https://d18j67ugtrocuq.cloudfront.net/out/v1/2767aec339144787926bd0322f72c6e9/index.m3u8',",
            "            'info_dict': {",
            "                'id': 'index',",
            "                'title': r're:index',",
            "                'ext': 'mp4',",
            "                'live_status': 'is_live',",
            "            },",
            "            'params': {",
            "                'skip_download': 'm3u8',",
            "            },",
            "        },",
            "        {",
            "            'note': 'Video.js VOD HLS',",
            "            'url': 'https://gist.githubusercontent.com/bashonly/2aae0862c50f4a4b84f220c315767208/raw/e3380d413749dabbe804c9c2d8fd9a45142475c7/videojs_hls_test.html',",
            "            'info_dict': {",
            "                'id': 'videojs_hls_test',",
            "                'title': 'video',",
            "                'ext': 'mp4',",
            "                'age_limit': 0,",
            "                'duration': 1800,",
            "            },",
            "            'params': {",
            "                'skip_download': 'm3u8',",
            "            },",
            "        },",
            "    ]",
            "",
            "    def report_following_redirect(self, new_url):",
            "        \"\"\"Report information extraction.\"\"\"",
            "        self._downloader.to_screen('[redirect] Following redirect to %s' % new_url)",
            "",
            "    def report_detected(self, name, num=1, note=None):",
            "        if num > 1:",
            "            name += 's'",
            "        elif not num:",
            "            return",
            "        else:",
            "            num = 'a'",
            "",
            "        self._downloader.write_debug(f'Identified {num} {name}{format_field(note, None, \"; %s\")}')",
            "",
            "    def _extra_manifest_info(self, info, manifest_url):",
            "        fragment_query = self._configuration_arg('fragment_query', [None], casesense=True)[0]",
            "        if fragment_query is not None:",
            "            info['extra_param_to_segment_url'] = (",
            "                urllib.parse.urlparse(fragment_query).query or fragment_query",
            "                or urllib.parse.urlparse(manifest_url).query or None)",
            "",
            "        hex_or_none = lambda x: x if re.fullmatch(r'(0x)?[\\da-f]+', x, re.IGNORECASE) else None",
            "        info['hls_aes'] = traverse_obj(self._configuration_arg('hls_key', casesense=True), {",
            "            'uri': (0, {url_or_none}), 'key': (0, {hex_or_none}), 'iv': (1, {hex_or_none}),",
            "        }) or None",
            "",
            "        variant_query = self._configuration_arg('variant_query', [None], casesense=True)[0]",
            "        if variant_query is not None:",
            "            query = urllib.parse.parse_qs(",
            "                urllib.parse.urlparse(variant_query).query or variant_query",
            "                or urllib.parse.urlparse(manifest_url).query)",
            "            for fmt in self._downloader._get_formats(info):",
            "                fmt['url'] = update_url_query(fmt['url'], query)",
            "",
            "        # Attempt to detect live HLS or set VOD duration",
            "        m3u8_format = next((f for f in self._downloader._get_formats(info)",
            "                            if determine_protocol(f) == 'm3u8_native'), None)",
            "        if m3u8_format:",
            "            is_live = self._configuration_arg('is_live', [None])[0]",
            "            if is_live is not None:",
            "                info['live_status'] = 'not_live' if is_live == 'false' else 'is_live'",
            "                return",
            "            headers = m3u8_format.get('http_headers') or info.get('http_headers')",
            "            duration = self._extract_m3u8_vod_duration(",
            "                m3u8_format['url'], info.get('id'), note='Checking m3u8 live status',",
            "                errnote='Failed to download m3u8 media playlist', headers=headers)",
            "            if not duration:",
            "                info['live_status'] = 'is_live'",
            "            info['duration'] = info.get('duration') or duration",
            "",
            "    def _extract_rss(self, url, video_id, doc):",
            "        NS_MAP = {",
            "            'itunes': 'http://www.itunes.com/dtds/podcast-1.0.dtd',",
            "        }",
            "",
            "        entries = []",
            "        for it in doc.findall('./channel/item'):",
            "            next_url = next(",
            "                (e.attrib.get('url') for e in it.findall('./enclosure')),",
            "                xpath_text(it, 'link', fatal=False))",
            "            if not next_url:",
            "                continue",
            "",
            "            guid = try_call(lambda: it.find('guid').text)",
            "            if guid:",
            "                next_url = smuggle_url(next_url, {'force_videoid': guid})",
            "",
            "            def itunes(key):",
            "                return xpath_text(it, xpath_with_ns(f'./itunes:{key}', NS_MAP), default=None)",
            "",
            "            entries.append({",
            "                '_type': 'url_transparent',",
            "                'url': next_url,",
            "                'title': try_call(lambda: it.find('title').text),",
            "                'description': xpath_text(it, 'description', default=None),",
            "                'timestamp': unified_timestamp(xpath_text(it, 'pubDate', default=None)),",
            "                'duration': parse_duration(itunes('duration')),",
            "                'thumbnail': url_or_none(xpath_attr(it, xpath_with_ns('./itunes:image', NS_MAP), 'href')),",
            "                'episode': itunes('title'),",
            "                'episode_number': int_or_none(itunes('episode')),",
            "                'season_number': int_or_none(itunes('season')),",
            "                'age_limit': {'true': 18, 'yes': 18, 'false': 0, 'no': 0}.get((itunes('explicit') or '').lower()),",
            "            })",
            "",
            "        return {",
            "            '_type': 'playlist',",
            "            'id': url,",
            "            'title': try_call(lambda: doc.find('./channel/title').text),",
            "            'description': try_call(lambda: doc.find('./channel/description').text),",
            "            'entries': entries,",
            "        }",
            "",
            "    @classmethod",
            "    def _kvs_get_real_url(cls, video_url, license_code):",
            "        if not video_url.startswith('function/0/'):",
            "            return video_url  # not obfuscated",
            "",
            "        parsed = urllib.parse.urlparse(video_url[len('function/0/'):])",
            "        license = cls._kvs_get_license_token(license_code)",
            "        urlparts = parsed.path.split('/')",
            "",
            "        HASH_LENGTH = 32",
            "        hash = urlparts[3][:HASH_LENGTH]",
            "        indices = list(range(HASH_LENGTH))",
            "",
            "        # Swap indices of hash according to the destination calculated from the license token",
            "        accum = 0",
            "        for src in reversed(range(HASH_LENGTH)):",
            "            accum += license[src]",
            "            dest = (src + accum) % HASH_LENGTH",
            "            indices[src], indices[dest] = indices[dest], indices[src]",
            "",
            "        urlparts[3] = ''.join(hash[index] for index in indices) + urlparts[3][HASH_LENGTH:]",
            "        return urllib.parse.urlunparse(parsed._replace(path='/'.join(urlparts)))",
            "",
            "    @staticmethod",
            "    def _kvs_get_license_token(license):",
            "        license = license.replace('$', '')",
            "        license_values = [int(char) for char in license]",
            "",
            "        modlicense = license.replace('0', '1')",
            "        center = len(modlicense) // 2",
            "        fronthalf = int(modlicense[:center + 1])",
            "        backhalf = int(modlicense[center:])",
            "        modlicense = str(4 * abs(fronthalf - backhalf))[:center + 1]",
            "",
            "        return [",
            "            (license_values[index + offset] + current) % 10",
            "            for index, current in enumerate(map(int, modlicense))",
            "            for offset in range(4)",
            "        ]",
            "",
            "    def _extract_kvs(self, url, webpage, video_id):",
            "        flashvars = self._search_json(",
            "            r'(?s:<script\\b[^>]*>.*?var\\s+flashvars\\s*=)',",
            "            webpage, 'flashvars', video_id, transform_source=js_to_json)",
            "",
            "        # extract the part after the last / as the display_id from the",
            "        # canonical URL.",
            "        display_id = self._search_regex(",
            "            r'(?:<link href=\"https?://[^\"]+/(.+?)/?\" rel=\"canonical\"\\s*/?>'",
            "            r'|<link rel=\"canonical\" href=\"https?://[^\"]+/(.+?)/?\"\\s*/?>)',",
            "            webpage, 'display_id', fatal=False)",
            "        title = self._html_search_regex(r'<(?:h1|title)>(?:Video: )?(.+?)</(?:h1|title)>', webpage, 'title')",
            "",
            "        thumbnail = flashvars['preview_url']",
            "        if thumbnail.startswith('//'):",
            "            protocol, _, _ = url.partition('/')",
            "            thumbnail = protocol + thumbnail",
            "",
            "        url_keys = list(filter(re.compile(r'^video_(?:url|alt_url\\d*)$').match, flashvars.keys()))",
            "        formats = []",
            "        for key in url_keys:",
            "            if '/get_file/' not in flashvars[key]:",
            "                continue",
            "            format_id = flashvars.get(f'{key}_text', key)",
            "            formats.append({",
            "                'url': urljoin(url, self._kvs_get_real_url(flashvars[key], flashvars['license_code'])),",
            "                'format_id': format_id,",
            "                'ext': 'mp4',",
            "                **(parse_resolution(format_id) or parse_resolution(flashvars[key])),",
            "                'http_headers': {'Referer': url},",
            "            })",
            "            if not formats[-1].get('height'):",
            "                formats[-1]['quality'] = 1",
            "",
            "        return {",
            "            'id': flashvars['video_id'],",
            "            'display_id': display_id,",
            "            'title': title,",
            "            'thumbnail': urljoin(url, thumbnail),",
            "            'formats': formats,",
            "        }",
            "",
            "    def _real_extract(self, url):",
            "        if url.startswith('//'):",
            "            return self.url_result(self.http_scheme() + url)",
            "",
            "        parsed_url = urllib.parse.urlparse(url)",
            "        if not parsed_url.scheme:",
            "            default_search = self.get_param('default_search')",
            "            if default_search is None:",
            "                default_search = 'fixup_error'",
            "",
            "            if default_search in ('auto', 'auto_warning', 'fixup_error'):",
            "                if re.match(r'^[^\\s/]+\\.[^\\s/]+/', url):",
            "                    self.report_warning('The url doesn\\'t specify the protocol, trying with http')",
            "                    return self.url_result('http://' + url)",
            "                elif default_search != 'fixup_error':",
            "                    if default_search == 'auto_warning':",
            "                        if re.match(r'^(?:url|URL)$', url):",
            "                            raise ExtractorError(",
            "                                'Invalid URL:  %r . Call yt-dlp like this:  yt-dlp -v \"https://www.youtube.com/watch?v=BaW_jenozKc\"  ' % url,",
            "                                expected=True)",
            "                        else:",
            "                            self.report_warning(",
            "                                'Falling back to youtube search for  %s . Set --default-search \"auto\" to suppress this warning.' % url)",
            "                    return self.url_result('ytsearch:' + url)",
            "",
            "            if default_search in ('error', 'fixup_error'):",
            "                raise ExtractorError(",
            "                    '%r is not a valid URL. '",
            "                    'Set --default-search \"ytsearch\" (or run  yt-dlp \"ytsearch:%s\" ) to search YouTube'",
            "                    % (url, url), expected=True)",
            "            else:",
            "                if ':' not in default_search:",
            "                    default_search += ':'",
            "                return self.url_result(default_search + url)",
            "",
            "        original_url = url",
            "        url, smuggled_data = unsmuggle_url(url, {})",
            "        force_videoid = None",
            "        is_intentional = smuggled_data.get('to_generic')",
            "        if 'force_videoid' in smuggled_data:",
            "            force_videoid = smuggled_data['force_videoid']",
            "            video_id = force_videoid",
            "        else:",
            "            video_id = self._generic_id(url)",
            "",
            "        # Some webservers may serve compressed content of rather big size (e.g. gzipped flac)",
            "        # making it impossible to download only chunk of the file (yet we need only 512kB to",
            "        # test whether it's HTML or not). According to yt-dlp default Accept-Encoding",
            "        # that will always result in downloading the whole file that is not desirable.",
            "        # Therefore for extraction pass we have to override Accept-Encoding to any in order",
            "        # to accept raw bytes and being able to download only a chunk.",
            "        # It may probably better to solve this by checking Content-Type for application/octet-stream",
            "        # after a HEAD request, but not sure if we can rely on this.",
            "        full_response = self._request_webpage(url, video_id, headers=filter_dict({",
            "            'Accept-Encoding': 'identity',",
            "            'Referer': smuggled_data.get('referer'),",
            "        }))",
            "        new_url = full_response.url",
            "        url = urllib.parse.urlparse(url)._replace(scheme=urllib.parse.urlparse(new_url).scheme).geturl()",
            "        if new_url != extract_basic_auth(url)[0]:",
            "            self.report_following_redirect(new_url)",
            "            if force_videoid:",
            "                new_url = smuggle_url(new_url, {'force_videoid': force_videoid})",
            "            return self.url_result(new_url)",
            "",
            "        info_dict = {",
            "            'id': video_id,",
            "            'title': self._generic_title(url),",
            "            'timestamp': unified_timestamp(full_response.headers.get('Last-Modified'))",
            "        }",
            "",
            "        # Check for direct link to a video",
            "        content_type = full_response.headers.get('Content-Type', '').lower()",
            "        m = re.match(r'^(?P<type>audio|video|application(?=/(?:ogg$|(?:vnd\\.apple\\.|x-)?mpegurl)))/(?P<format_id>[^;\\s]+)', content_type)",
            "        if m:",
            "            self.report_detected('direct video link')",
            "            headers = filter_dict({'Referer': smuggled_data.get('referer')})",
            "            format_id = str(m.group('format_id'))",
            "            ext = determine_ext(url, default_ext=None) or urlhandle_detect_ext(full_response)",
            "            subtitles = {}",
            "            if format_id.endswith('mpegurl') or ext == 'm3u8':",
            "                formats, subtitles = self._extract_m3u8_formats_and_subtitles(url, video_id, 'mp4', headers=headers)",
            "            elif format_id.endswith('mpd') or format_id.endswith('dash+xml') or ext == 'mpd':",
            "                formats, subtitles = self._extract_mpd_formats_and_subtitles(url, video_id, headers=headers)",
            "            elif format_id == 'f4m' or ext == 'f4m':",
            "                formats = self._extract_f4m_formats(url, video_id, headers=headers)",
            "            else:",
            "                formats = [{",
            "                    'format_id': format_id,",
            "                    'url': url,",
            "                    'ext': ext,",
            "                    'vcodec': 'none' if m.group('type') == 'audio' else None",
            "                }]",
            "                info_dict['direct'] = True",
            "            info_dict.update({",
            "                'formats': formats,",
            "                'subtitles': subtitles,",
            "                'http_headers': headers or None,",
            "            })",
            "            self._extra_manifest_info(info_dict, url)",
            "            return info_dict",
            "",
            "        if not self.get_param('test', False) and not is_intentional:",
            "            force = self.get_param('force_generic_extractor', False)",
            "            self.report_warning('%s generic information extractor' % ('Forcing' if force else 'Falling back on'))",
            "",
            "        first_bytes = full_response.read(512)",
            "",
            "        # Is it an M3U playlist?",
            "        if first_bytes.startswith(b'#EXTM3U'):",
            "            self.report_detected('M3U playlist')",
            "            info_dict['formats'], info_dict['subtitles'] = self._extract_m3u8_formats_and_subtitles(url, video_id, 'mp4')",
            "            self._extra_manifest_info(info_dict, url)",
            "            return info_dict",
            "",
            "        # Maybe it's a direct link to a video?",
            "        # Be careful not to download the whole thing!",
            "        if not is_html(first_bytes):",
            "            self.report_warning(",
            "                'URL could be a direct video link, returning it as such.')",
            "            info_dict.update({",
            "                'direct': True,",
            "                'url': url,",
            "            })",
            "            return info_dict",
            "",
            "        webpage = self._webpage_read_content(",
            "            full_response, url, video_id, prefix=first_bytes)",
            "",
            "        if '<title>DPG Media Privacy Gate</title>' in webpage:",
            "            webpage = self._download_webpage(url, video_id)",
            "",
            "        self.report_extraction(video_id)",
            "",
            "        # Is it an RSS feed, a SMIL file, an XSPF playlist or a MPD manifest?",
            "        try:",
            "            try:",
            "                doc = compat_etree_fromstring(webpage)",
            "            except xml.etree.ElementTree.ParseError:",
            "                doc = compat_etree_fromstring(webpage.encode('utf-8'))",
            "            if doc.tag == 'rss':",
            "                self.report_detected('RSS feed')",
            "                return self._extract_rss(url, video_id, doc)",
            "            elif doc.tag == 'SmoothStreamingMedia':",
            "                info_dict['formats'], info_dict['subtitles'] = self._parse_ism_formats_and_subtitles(doc, url)",
            "                self.report_detected('ISM manifest')",
            "                return info_dict",
            "            elif re.match(r'^(?:{[^}]+})?smil$', doc.tag):",
            "                smil = self._parse_smil(doc, url, video_id)",
            "                self.report_detected('SMIL file')",
            "                return smil",
            "            elif doc.tag == '{http://xspf.org/ns/0/}playlist':",
            "                self.report_detected('XSPF playlist')",
            "                return self.playlist_result(",
            "                    self._parse_xspf(",
            "                        doc, video_id, xspf_url=url,",
            "                        xspf_base_url=full_response.url),",
            "                    video_id)",
            "            elif re.match(r'(?i)^(?:{[^}]+})?MPD$', doc.tag):",
            "                info_dict['formats'], info_dict['subtitles'] = self._parse_mpd_formats_and_subtitles(",
            "                    doc,",
            "                    mpd_base_url=full_response.url.rpartition('/')[0],",
            "                    mpd_url=url)",
            "                self._extra_manifest_info(info_dict, url)",
            "                self.report_detected('DASH manifest')",
            "                return info_dict",
            "            elif re.match(r'^{http://ns\\.adobe\\.com/f4m/[12]\\.0}manifest$', doc.tag):",
            "                info_dict['formats'] = self._parse_f4m_formats(doc, url, video_id)",
            "                self.report_detected('F4M manifest')",
            "                return info_dict",
            "        except xml.etree.ElementTree.ParseError:",
            "            pass",
            "",
            "        info_dict.update({",
            "            # it's tempting to parse this further, but you would",
            "            # have to take into account all the variations like",
            "            #   Video Title - Site Name",
            "            #   Site Name | Video Title",
            "            #   Video Title - Tagline | Site Name",
            "            # and so on and so forth; it's just not practical",
            "            'title': self._generic_title('', webpage, default='video'),",
            "            'description': self._og_search_description(webpage, default=None),",
            "            'thumbnail': self._og_search_thumbnail(webpage, default=None),",
            "            'age_limit': self._rta_search(webpage),",
            "        })",
            "",
            "        self._downloader.write_debug('Looking for embeds')",
            "        embeds = list(self._extract_embeds(original_url, webpage, urlh=full_response, info_dict=info_dict))",
            "        if len(embeds) == 1:",
            "            return merge_dicts(embeds[0], info_dict)",
            "        elif embeds:",
            "            return self.playlist_result(embeds, **info_dict)",
            "        raise UnsupportedError(url)",
            "",
            "    def _extract_embeds(self, url, webpage, *, urlh=None, info_dict={}):",
            "        \"\"\"Returns an iterator of video entries\"\"\"",
            "        info_dict = types.MappingProxyType(info_dict)  # Prevents accidental mutation",
            "        video_id = traverse_obj(info_dict, 'display_id', 'id') or self._generic_id(url)",
            "        url, smuggled_data = unsmuggle_url(url, {})",
            "        actual_url = urlh.url if urlh else url",
            "",
            "        # Sometimes embedded video player is hidden behind percent encoding",
            "        # (e.g. https://github.com/ytdl-org/youtube-dl/issues/2448)",
            "        # Unescaping the whole page allows to handle those cases in a generic way",
            "        # FIXME: unescaping the whole page may break URLs, commenting out for now.",
            "        # There probably should be a second run of generic extractor on unescaped webpage.",
            "        # webpage = urllib.parse.unquote(webpage)",
            "",
            "        embeds = []",
            "        for ie in self._downloader._ies.values():",
            "            if ie.ie_key() in smuggled_data.get('block_ies', []):",
            "                continue",
            "            gen = ie.extract_from_webpage(self._downloader, url, webpage)",
            "            current_embeds = []",
            "            try:",
            "                while True:",
            "                    current_embeds.append(next(gen))",
            "            except self.StopExtraction:",
            "                self.report_detected(f'{ie.IE_NAME} exclusive embed', len(current_embeds),",
            "                                     embeds and 'discarding other embeds')",
            "                return current_embeds",
            "            except StopIteration:",
            "                self.report_detected(f'{ie.IE_NAME} embed', len(current_embeds))",
            "                embeds.extend(current_embeds)",
            "",
            "        if embeds:",
            "            return embeds",
            "",
            "        jwplayer_data = self._find_jwplayer_data(",
            "            webpage, video_id, transform_source=js_to_json)",
            "        if jwplayer_data:",
            "            if isinstance(jwplayer_data.get('playlist'), str):",
            "                self.report_detected('JW Player playlist')",
            "                return [self.url_result(jwplayer_data['playlist'], 'JWPlatform')]",
            "            try:",
            "                info = self._parse_jwplayer_data(",
            "                    jwplayer_data, video_id, require_title=False, base_url=url)",
            "                if traverse_obj(info, 'formats', ('entries', ..., 'formats')):",
            "                    self.report_detected('JW Player data')",
            "                    return [info]",
            "            except ExtractorError:",
            "                # See https://github.com/ytdl-org/youtube-dl/pull/16735",
            "                pass",
            "",
            "        # Video.js embed",
            "        mobj = re.search(",
            "            r'(?s)\\bvideojs\\s*\\(.+?([a-zA-Z0-9_$]+)\\.src\\s*\\(\\s*((?:\\[.+?\\]|{.+?}))\\s*\\)\\s*;',",
            "            webpage)",
            "        if mobj is not None:",
            "            varname = mobj.group(1)",
            "            sources = variadic(self._parse_json(",
            "                mobj.group(2), video_id, transform_source=js_to_json, fatal=False) or [])",
            "            formats, subtitles, src = [], {}, None",
            "            for source in sources:",
            "                src = source.get('src')",
            "                if not src or not isinstance(src, str):",
            "                    continue",
            "                src = urllib.parse.urljoin(url, src)",
            "                src_type = source.get('type')",
            "                if isinstance(src_type, str):",
            "                    src_type = src_type.lower()",
            "                ext = determine_ext(src).lower()",
            "                if src_type == 'video/youtube':",
            "                    return [self.url_result(src, YoutubeIE.ie_key())]",
            "                if src_type == 'application/dash+xml' or ext == 'mpd':",
            "                    fmts, subs = self._extract_mpd_formats_and_subtitles(",
            "                        src, video_id, mpd_id='dash', fatal=False)",
            "                    formats.extend(fmts)",
            "                    self._merge_subtitles(subs, target=subtitles)",
            "                elif src_type == 'application/x-mpegurl' or ext == 'm3u8':",
            "                    fmts, subs = self._extract_m3u8_formats_and_subtitles(",
            "                        src, video_id, 'mp4', entry_protocol='m3u8_native',",
            "                        m3u8_id='hls', fatal=False)",
            "                    formats.extend(fmts)",
            "                    self._merge_subtitles(subs, target=subtitles)",
            "",
            "                if not formats:",
            "                    formats.append({",
            "                        'url': src,",
            "                        'ext': (mimetype2ext(src_type)",
            "                                or ext if ext in KNOWN_EXTENSIONS else 'mp4'),",
            "                        'http_headers': {",
            "                            'Referer': actual_url,",
            "                        },",
            "                    })",
            "            # https://docs.videojs.com/player#addRemoteTextTrack",
            "            # https://html.spec.whatwg.org/multipage/media.html#htmltrackelement",
            "            for sub_match in re.finditer(rf'(?s){re.escape(varname)}' r'\\.addRemoteTextTrack\\(({.+?})\\s*,\\s*(?:true|false)\\)', webpage):",
            "                sub = self._parse_json(",
            "                    sub_match.group(1), video_id, transform_source=js_to_json, fatal=False) or {}",
            "                sub_src = str_or_none(sub.get('src'))",
            "                if not sub_src:",
            "                    continue",
            "                subtitles.setdefault(dict_get(sub, ('language', 'srclang')) or 'und', []).append({",
            "                    'url': urllib.parse.urljoin(url, sub_src),",
            "                    'name': sub.get('label'),",
            "                    'http_headers': {",
            "                        'Referer': actual_url,",
            "                    },",
            "                })",
            "            if formats or subtitles:",
            "                self.report_detected('video.js embed')",
            "                info_dict = {'formats': formats, 'subtitles': subtitles}",
            "                if formats:",
            "                    self._extra_manifest_info(info_dict, src)",
            "                return [info_dict]",
            "",
            "        # Look for generic KVS player (before json-ld bc of some urls that break otherwise)",
            "        found = self._search_regex((",
            "            r'<script\\b[^>]+?\\bsrc\\s*=\\s*([\"\\'])https?://(?:(?!\\1)[^?#])+/kt_player\\.js\\?v=(?P<ver>\\d+(?:\\.\\d+)+)\\1[^>]*>',",
            "            r'kt_player\\s*\\(\\s*([\"\\'])(?:(?!\\1)[\\w\\W])+\\1\\s*,\\s*([\"\\'])https?://(?:(?!\\2)[^?#])+/kt_player\\.swf\\?v=(?P<ver>\\d+(?:\\.\\d+)+)\\2\\s*,',",
            "        ), webpage, 'KVS player', group='ver', default=False)",
            "        if found:",
            "            self.report_detected('KVS Player')",
            "            if found.split('.')[0] not in ('4', '5', '6'):",
            "                self.report_warning(f'Untested major version ({found}) in player engine - download may fail.')",
            "            return [self._extract_kvs(url, webpage, video_id)]",
            "",
            "        # Looking for http://schema.org/VideoObject",
            "        json_ld = self._search_json_ld(webpage, video_id, default={})",
            "        if json_ld.get('url') not in (url, None):",
            "            self.report_detected('JSON LD')",
            "            is_direct = json_ld.get('ext') not in (None, *MEDIA_EXTENSIONS.manifests)",
            "            return [merge_dicts({",
            "                '_type': 'video' if is_direct else 'url_transparent',",
            "                'url': smuggle_url(json_ld['url'], {",
            "                    'force_videoid': video_id,",
            "                    'to_generic': True,",
            "                    'referer': url,",
            "                }),",
            "            }, json_ld)]",
            "",
            "        def check_video(vurl):",
            "            if YoutubeIE.suitable(vurl):",
            "                return True",
            "            if RtmpIE.suitable(vurl):",
            "                return True",
            "            vpath = urllib.parse.urlparse(vurl).path",
            "            vext = determine_ext(vpath, None)",
            "            return vext not in (None, 'swf', 'png', 'jpg', 'srt', 'sbv', 'sub', 'vtt', 'ttml', 'js', 'xml')",
            "",
            "        def filter_video(urls):",
            "            return list(filter(check_video, urls))",
            "",
            "        # Start with something easy: JW Player in SWFObject",
            "        found = filter_video(re.findall(r'flashvars: [\\'\"](?:.*&)?file=(http[^\\'\"&]*)', webpage))",
            "        if found:",
            "            self.report_detected('JW Player in SFWObject')",
            "        else:",
            "            # Look for gorilla-vid style embedding",
            "            found = filter_video(re.findall(r'''(?sx)",
            "                (?:",
            "                    jw_plugins|",
            "                    JWPlayerOptions|",
            "                    jwplayer\\s*\\(\\s*[\"'][^'\"]+[\"']\\s*\\)\\s*\\.setup",
            "                )",
            "                .*?",
            "                ['\"]?file['\"]?\\s*:\\s*[\"\\'](.*?)[\"\\']''', webpage))",
            "            if found:",
            "                self.report_detected('JW Player embed')",
            "        if not found:",
            "            # Broaden the search a little bit",
            "            found = filter_video(re.findall(r'[^A-Za-z0-9]?(?:file|source)=(http[^\\'\"&]*)', webpage))",
            "            if found:",
            "                self.report_detected('video file')",
            "        if not found:",
            "            # Broaden the findall a little bit: JWPlayer JS loader",
            "            found = filter_video(re.findall(",
            "                r'[^A-Za-z0-9]?(?:file|video_url)[\"\\']?:\\s*[\"\\'](http(?![^\\'\"]+\\.[0-9]+[\\'\"])[^\\'\"]+)[\"\\']', webpage))",
            "            if found:",
            "                self.report_detected('JW Player JS loader')",
            "        if not found:",
            "            # Flow player",
            "            found = filter_video(re.findall(r'''(?xs)",
            "                flowplayer\\(\"[^\"]+\",\\s*",
            "                    \\{[^}]+?\\}\\s*,",
            "                    \\s*\\{[^}]+? [\"']?clip[\"']?\\s*:\\s*\\{\\s*",
            "                        [\"']?url[\"']?\\s*:\\s*[\"']([^\"']+)[\"']",
            "            ''', webpage))",
            "            if found:",
            "                self.report_detected('Flow Player')",
            "        if not found:",
            "            # Cinerama player",
            "            found = re.findall(",
            "                r\"cinerama\\.embedPlayer\\(\\s*\\'[^']+\\',\\s*'([^']+)'\", webpage)",
            "            if found:",
            "                self.report_detected('Cinerama player')",
            "        if not found:",
            "            # Try to find twitter cards info",
            "            # twitter:player:stream should be checked before twitter:player since",
            "            # it is expected to contain a raw stream (see",
            "            # https://dev.twitter.com/cards/types/player#On_twitter.com_via_desktop_browser)",
            "            found = filter_video(re.findall(",
            "                r'<meta (?:property|name)=\"twitter:player:stream\" (?:content|value)=\"(.+?)\"', webpage))",
            "            if found:",
            "                self.report_detected('Twitter card')",
            "        if not found:",
            "            # We look for Open Graph info:",
            "            # We have to match any number spaces between elements, some sites try to align them, e.g.: statigr.am",
            "            m_video_type = re.findall(r'<meta.*?property=\"og:video:type\".*?content=\"video/(.*?)\"', webpage)",
            "            # We only look in og:video if the MIME type is a video, don't try if it's a Flash player:",
            "            if m_video_type is not None:",
            "                found = filter_video(re.findall(r'<meta.*?property=\"og:(?:video|audio)\".*?content=\"(.*?)\"', webpage))",
            "                if found:",
            "                    self.report_detected('Open Graph video info')",
            "        if not found:",
            "            REDIRECT_REGEX = r'[0-9]{,2};\\s*(?:URL|url)=\\'?([^\\'\"]+)'",
            "            found = re.search(",
            "                r'(?i)<meta\\s+(?=(?:[a-z-]+=\"[^\"]+\"\\s+)*http-equiv=\"refresh\")'",
            "                r'(?:[a-z-]+=\"[^\"]+\"\\s+)*?content=\"%s' % REDIRECT_REGEX,",
            "                webpage)",
            "            if not found:",
            "                # Look also in Refresh HTTP header",
            "                refresh_header = urlh and urlh.headers.get('Refresh')",
            "                if refresh_header:",
            "                    found = re.search(REDIRECT_REGEX, refresh_header)",
            "            if found:",
            "                new_url = urllib.parse.urljoin(url, unescapeHTML(found.group(1)))",
            "                if new_url != url:",
            "                    self.report_following_redirect(new_url)",
            "                    return [self.url_result(new_url)]",
            "                else:",
            "                    found = None",
            "",
            "        if not found:",
            "            # twitter:player is a https URL to iframe player that may or may not",
            "            # be supported by yt-dlp thus this is checked the very last (see",
            "            # https://dev.twitter.com/cards/types/player#On_twitter.com_via_desktop_browser)",
            "            embed_url = self._html_search_meta('twitter:player', webpage, default=None)",
            "            if embed_url and embed_url != url:",
            "                self.report_detected('twitter:player iframe')",
            "                return [self.url_result(embed_url)]",
            "",
            "        if not found:",
            "            return []",
            "",
            "        domain_name = self._search_regex(r'^(?:https?://)?([^/]*)/.*', url, 'video uploader', default=None)",
            "",
            "        entries = []",
            "        for video_url in orderedSet(found):",
            "            video_url = video_url.encode().decode('unicode-escape')",
            "            video_url = unescapeHTML(video_url)",
            "            video_url = video_url.replace('\\\\/', '/')",
            "            video_url = urllib.parse.urljoin(url, video_url)",
            "            video_id = urllib.parse.unquote(os.path.basename(video_url))",
            "",
            "            # Sometimes, jwplayer extraction will result in a YouTube URL",
            "            if YoutubeIE.suitable(video_url):",
            "                entries.append(self.url_result(video_url, 'Youtube'))",
            "                continue",
            "",
            "            video_id = os.path.splitext(video_id)[0]",
            "            headers = {",
            "                'referer': actual_url",
            "            }",
            "",
            "            entry_info_dict = {",
            "                'id': video_id,",
            "                'uploader': domain_name,",
            "                'title': info_dict['title'],",
            "                'age_limit': info_dict['age_limit'],",
            "                'http_headers': headers,",
            "            }",
            "",
            "            if RtmpIE.suitable(video_url):",
            "                entry_info_dict.update({",
            "                    '_type': 'url_transparent',",
            "                    'ie_key': RtmpIE.ie_key(),",
            "                    'url': video_url,",
            "                })",
            "                entries.append(entry_info_dict)",
            "                continue",
            "",
            "            ext = determine_ext(video_url)",
            "            if ext == 'smil':",
            "                entry_info_dict = {**self._extract_smil_info(video_url, video_id), **entry_info_dict}",
            "            elif ext == 'xspf':",
            "                return [self._extract_xspf_playlist(video_url, video_id)]",
            "            elif ext == 'm3u8':",
            "                entry_info_dict['formats'], entry_info_dict['subtitles'] = self._extract_m3u8_formats_and_subtitles(video_url, video_id, ext='mp4', headers=headers)",
            "                self._extra_manifest_info(entry_info_dict, video_url)",
            "            elif ext == 'mpd':",
            "                entry_info_dict['formats'], entry_info_dict['subtitles'] = self._extract_mpd_formats_and_subtitles(video_url, video_id, headers=headers)",
            "                self._extra_manifest_info(entry_info_dict, video_url)",
            "            elif ext == 'f4m':",
            "                entry_info_dict['formats'] = self._extract_f4m_formats(video_url, video_id, headers=headers)",
            "            elif re.search(r'(?i)\\.(?:ism|smil)/manifest', video_url) and video_url != url:",
            "                # Just matching .ism/manifest is not enough to be reliably sure",
            "                # whether it's actually an ISM manifest or some other streaming",
            "                # manifest since there are various streaming URL formats",
            "                # possible (see [1]) as well as some other shenanigans like",
            "                # .smil/manifest URLs that actually serve an ISM (see [2]) and",
            "                # so on.",
            "                # Thus the most reasonable way to solve this is to delegate",
            "                # to generic extractor in order to look into the contents of",
            "                # the manifest itself.",
            "                # 1. https://azure.microsoft.com/en-us/documentation/articles/media-services-deliver-content-overview/#streaming-url-formats",
            "                # 2. https://svs.itworkscdn.net/lbcivod/smil:itwfcdn/lbci/170976.smil/Manifest",
            "                entry_info_dict = self.url_result(",
            "                    smuggle_url(video_url, {'to_generic': True}),",
            "                    GenericIE.ie_key())",
            "            else:",
            "                entry_info_dict['url'] = video_url",
            "",
            "            entries.append(entry_info_dict)",
            "",
            "        if len(entries) > 1:",
            "            for num, e in enumerate(entries, start=1):",
            "                # 'url' results don't have a title",
            "                if e.get('title') is not None:",
            "                    e['title'] = '%s (%d)' % (e['title'], num)",
            "        return entries"
        ],
        "action": [
            "0",
            "0",
            "0",
            "-1",
            "0",
            "0",
            "0",
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "2",
            "2",
            "2",
            "2",
            "0",
            "0",
            "0",
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0",
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "2438": [
                "GenericIE",
                "_real_extract"
            ],
            "2440": [
                "GenericIE",
                "_real_extract"
            ],
            "2441": [
                "GenericIE",
                "_real_extract"
            ],
            "2461": [
                "GenericIE",
                "_real_extract"
            ],
            "2713": [
                "GenericIE",
                "_extract_embeds"
            ]
        },
        "addLocation": []
    },
    "yt_dlp/extractor/slideslive.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 530,
                "afterPatchRowNumber": 530,
                "PatchRowcode": "             if service_name == 'vimeo':"
            },
            "1": {
                "beforePatchRowNumber": 531,
                "afterPatchRowNumber": 531,
                "PatchRowcode": "                 info['url'] = smuggle_url("
            },
            "2": {
                "beforePatchRowNumber": 532,
                "afterPatchRowNumber": 532,
                "PatchRowcode": "                     f'https://player.vimeo.com/video/{service_id}',"
            },
            "3": {
                "beforePatchRowNumber": 533,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-                    {'http_headers': {'Referer': url}})"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 533,
                "PatchRowcode": "+                    {'referer': url})"
            },
            "5": {
                "beforePatchRowNumber": 534,
                "afterPatchRowNumber": 534,
                "PatchRowcode": " "
            },
            "6": {
                "beforePatchRowNumber": 535,
                "afterPatchRowNumber": 535,
                "PatchRowcode": "         video_slides = traverse_obj(slides, ('slides', ..., 'video', 'id'))"
            },
            "7": {
                "beforePatchRowNumber": 536,
                "afterPatchRowNumber": 536,
                "PatchRowcode": "         if not video_slides:"
            }
        },
        "frontPatchFile": [
            "import re",
            "import urllib.parse",
            "import xml.etree.ElementTree",
            "",
            "from .common import InfoExtractor",
            "from ..utils import (",
            "    ExtractorError,",
            "    int_or_none,",
            "    parse_qs,",
            "    smuggle_url,",
            "    traverse_obj,",
            "    unified_timestamp,",
            "    update_url_query,",
            "    url_or_none,",
            "    xpath_text,",
            ")",
            "",
            "",
            "class SlidesLiveIE(InfoExtractor):",
            "    _VALID_URL = r'https?://slideslive\\.com/(?:embed/(?:presentation/)?)?(?P<id>[0-9]+)'",
            "    _TESTS = [{",
            "        # service_name = yoda, only XML slides info",
            "        'url': 'https://slideslive.com/38902413/gcc-ia16-backend',",
            "        'info_dict': {",
            "            'id': '38902413',",
            "            'ext': 'mp4',",
            "            'title': 'GCC IA16 backend',",
            "            'timestamp': 1648189972,",
            "            'upload_date': '20220325',",
            "            'thumbnail': r're:^https?://.*\\.jpg',",
            "            'thumbnails': 'count:42',",
            "            'chapters': 'count:41',",
            "            'duration': 1638,",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # service_name = yoda, /v7/ slides",
            "        'url': 'https://slideslive.com/38935785',",
            "        'info_dict': {",
            "            'id': '38935785',",
            "            'ext': 'mp4',",
            "            'title': 'Offline Reinforcement Learning: From Algorithms to Practical Challenges',",
            "            'upload_date': '20211115',",
            "            'timestamp': 1636996003,",
            "            'thumbnail': r're:^https?://.*\\.(?:jpg|png)',",
            "            'thumbnails': 'count:640',",
            "            'chapters': 'count:639',",
            "            'duration': 9832,",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # service_name = yoda, /v1/ slides",
            "        'url': 'https://slideslive.com/38973182/how-should-a-machine-learning-researcher-think-about-ai-ethics',",
            "        'info_dict': {",
            "            'id': '38973182',",
            "            'ext': 'mp4',",
            "            'title': 'How Should a Machine Learning Researcher Think About AI Ethics?',",
            "            'upload_date': '20220201',",
            "            'thumbnail': r're:^https?://.*\\.jpg',",
            "            'timestamp': 1643728135,",
            "            'thumbnails': 'count:3',",
            "            'chapters': 'count:2',",
            "            'duration': 5889,",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # service_name = youtube, only XML slides info",
            "        'url': 'https://slideslive.com/38897546/special-metaprednaska-petra-ludwiga-hodnoty-pro-lepsi-spolecnost',",
            "        'md5': '8a79b5e3d700837f40bd2afca3c8fa01',",
            "        'info_dict': {",
            "            'id': 'jmg02wCJD5M',",
            "            'display_id': '38897546',",
            "            'ext': 'mp4',",
            "            'title': 'SPECI\u00c1L: Meta-p\u0159edn\u00e1\u0161ka Petra Ludwiga - Hodnoty pro lep\u0161\u00ed spole\u010dnost',",
            "            'description': 'Watch full version of this video at https://slideslive.com/38897546.',",
            "            'channel_url': 'https://www.youtube.com/channel/UCZWdAkNYFncuX0khyvhqnxw',",
            "            'channel': 'SlidesLive Videos - G1',",
            "            'channel_id': 'UCZWdAkNYFncuX0khyvhqnxw',",
            "            'uploader_id': 'UCZWdAkNYFncuX0khyvhqnxw',",
            "            'uploader': 'SlidesLive Videos - G1',",
            "            'uploader_url': 'http://www.youtube.com/channel/UCZWdAkNYFncuX0khyvhqnxw',",
            "            'live_status': 'not_live',",
            "            'upload_date': '20160710',",
            "            'timestamp': 1618786715,",
            "            'duration': 6827,",
            "            'like_count': int,",
            "            'view_count': int,",
            "            'comment_count': int,",
            "            'channel_follower_count': int,",
            "            'age_limit': 0,",
            "            'thumbnail': r're:^https?://.*\\.(?:jpg|webp)',",
            "            'thumbnails': 'count:169',",
            "            'playable_in_embed': True,",
            "            'availability': 'unlisted',",
            "            'tags': [],",
            "            'categories': ['People & Blogs'],",
            "            'chapters': 'count:168',",
            "        },",
            "    }, {",
            "        # embed-only presentation, only XML slides info",
            "        'url': 'https://slideslive.com/embed/presentation/38925850',",
            "        'info_dict': {",
            "            'id': '38925850',",
            "            'ext': 'mp4',",
            "            'title': 'Towards a Deep Network Architecture for Structured Smoothness',",
            "            'thumbnail': r're:^https?://.*\\.jpg',",
            "            'thumbnails': 'count:8',",
            "            'timestamp': 1629671508,",
            "            'upload_date': '20210822',",
            "            'chapters': 'count:7',",
            "            'duration': 326,",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # embed-only presentation, only JSON slides info, /v5/ slides (.png)",
            "        'url': 'https://slideslive.com/38979920/',",
            "        'info_dict': {",
            "            'id': '38979920',",
            "            'ext': 'mp4',",
            "            'title': 'MoReL: Multi-omics Relational Learning',",
            "            'thumbnail': r're:^https?://.*\\.(?:jpg|png)',",
            "            'thumbnails': 'count:7',",
            "            'timestamp': 1654714970,",
            "            'upload_date': '20220608',",
            "            'chapters': 'count:6',",
            "            'duration': 171,",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # /v2/ slides (.jpg)",
            "        'url': 'https://slideslive.com/38954074',",
            "        'info_dict': {",
            "            'id': '38954074',",
            "            'ext': 'mp4',",
            "            'title': 'Decentralized Attribution of Generative Models',",
            "            'thumbnail': r're:^https?://.*\\.jpg',",
            "            'thumbnails': 'count:16',",
            "            'timestamp': 1622806321,",
            "            'upload_date': '20210604',",
            "            'chapters': 'count:15',",
            "            'duration': 306,",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # /v4/ slides (.png)",
            "        'url': 'https://slideslive.com/38979570/',",
            "        'info_dict': {",
            "            'id': '38979570',",
            "            'ext': 'mp4',",
            "            'title': 'Efficient Active Search for Combinatorial Optimization Problems',",
            "            'thumbnail': r're:^https?://.*\\.(?:jpg|png)',",
            "            'thumbnails': 'count:9',",
            "            'timestamp': 1654714896,",
            "            'upload_date': '20220608',",
            "            'chapters': 'count:8',",
            "            'duration': 295,",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # /v10/ slides",
            "        'url': 'https://slideslive.com/embed/presentation/38979880?embed_parent_url=https%3A%2F%2Fedit.videoken.com%2F',",
            "        'info_dict': {",
            "            'id': '38979880',",
            "            'ext': 'mp4',",
            "            'title': 'The Representation Power of Neural Networks',",
            "            'timestamp': 1654714962,",
            "            'thumbnail': r're:^https?://.*\\.(?:jpg|png)',",
            "            'thumbnails': 'count:22',",
            "            'upload_date': '20220608',",
            "            'chapters': 'count:21',",
            "            'duration': 294,",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # /v7/ slides, 2 video slides",
            "        'url': 'https://slideslive.com/embed/presentation/38979682?embed_container_origin=https%3A%2F%2Fedit.videoken.com',",
            "        'playlist_count': 3,",
            "        'info_dict': {",
            "            'id': '38979682-playlist',",
            "            'title': 'LoRA: Low-Rank Adaptation of Large Language Models',",
            "        },",
            "        'playlist': [{",
            "            'info_dict': {",
            "                'id': '38979682',",
            "                'ext': 'mp4',",
            "                'title': 'LoRA: Low-Rank Adaptation of Large Language Models',",
            "                'timestamp': 1654714920,",
            "                'thumbnail': r're:^https?://.*\\.(?:jpg|png)',",
            "                'thumbnails': 'count:30',",
            "                'upload_date': '20220608',",
            "                'chapters': 'count:31',",
            "                'duration': 272,",
            "            },",
            "        }, {",
            "            'info_dict': {",
            "                'id': '38979682-021',",
            "                'ext': 'mp4',",
            "                'title': 'LoRA: Low-Rank Adaptation of Large Language Models - Slide 021',",
            "                'duration': 3,",
            "                'timestamp': 1654714920,",
            "                'upload_date': '20220608',",
            "            },",
            "        }, {",
            "            'info_dict': {",
            "                'id': '38979682-024',",
            "                'ext': 'mp4',",
            "                'title': 'LoRA: Low-Rank Adaptation of Large Language Models - Slide 024',",
            "                'duration': 4,",
            "                'timestamp': 1654714920,",
            "                'upload_date': '20220608',",
            "            },",
            "        }],",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # /v6/ slides, 1 video slide, edit.videoken.com embed",
            "        'url': 'https://slideslive.com/38979481/',",
            "        'playlist_count': 2,",
            "        'info_dict': {",
            "            'id': '38979481-playlist',",
            "            'title': 'How to Train Your MAML to Excel in Few-Shot Classification',",
            "        },",
            "        'playlist': [{",
            "            'info_dict': {",
            "                'id': '38979481',",
            "                'ext': 'mp4',",
            "                'title': 'How to Train Your MAML to Excel in Few-Shot Classification',",
            "                'timestamp': 1654714877,",
            "                'thumbnail': r're:^https?://.*\\.(?:jpg|png)',",
            "                'thumbnails': 'count:43',",
            "                'upload_date': '20220608',",
            "                'chapters': 'count:43',",
            "                'duration': 315,",
            "            },",
            "        }, {",
            "            'info_dict': {",
            "                'id': '38979481-013',",
            "                'ext': 'mp4',",
            "                'title': 'How to Train Your MAML to Excel in Few-Shot Classification - Slide 013',",
            "                'duration': 3,",
            "                'timestamp': 1654714877,",
            "                'upload_date': '20220608',",
            "            },",
            "        }],",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # /v3/ slides, .jpg and .png, service_name = youtube",
            "        'url': 'https://slideslive.com/embed/38932460/',",
            "        'info_dict': {",
            "            'id': 'RTPdrgkyTiE',",
            "            'display_id': '38932460',",
            "            'ext': 'mp4',",
            "            'title': 'Active Learning for Hierarchical Multi-Label Classification',",
            "            'description': 'Watch full version of this video at https://slideslive.com/38932460.',",
            "            'channel': 'SlidesLive Videos - A',",
            "            'channel_id': 'UC62SdArr41t_-_fX40QCLRw',",
            "            'channel_url': 'https://www.youtube.com/channel/UC62SdArr41t_-_fX40QCLRw',",
            "            'uploader': 'SlidesLive Videos - A',",
            "            'uploader_id': 'UC62SdArr41t_-_fX40QCLRw',",
            "            'uploader_url': 'http://www.youtube.com/channel/UC62SdArr41t_-_fX40QCLRw',",
            "            'upload_date': '20200903',",
            "            'timestamp': 1602599092,",
            "            'duration': 942,",
            "            'age_limit': 0,",
            "            'live_status': 'not_live',",
            "            'playable_in_embed': True,",
            "            'availability': 'unlisted',",
            "            'categories': ['People & Blogs'],",
            "            'tags': [],",
            "            'channel_follower_count': int,",
            "            'like_count': int,",
            "            'view_count': int,",
            "            'thumbnail': r're:^https?://.*\\.(?:jpg|png|webp)',",
            "            'thumbnails': 'count:21',",
            "            'chapters': 'count:20',",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # /v3/ slides, .png only, service_name = yoda",
            "        'url': 'https://slideslive.com/38983994',",
            "        'info_dict': {",
            "            'id': '38983994',",
            "            'ext': 'mp4',",
            "            'title': 'Zero-Shot AutoML with Pretrained Models',",
            "            'timestamp': 1662384834,",
            "            'upload_date': '20220905',",
            "            'thumbnail': r're:^https?://.*\\.(?:jpg|png)',",
            "            'thumbnails': 'count:23',",
            "            'chapters': 'count:22',",
            "            'duration': 295,",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # service_name = yoda",
            "        'url': 'https://slideslive.com/38903721/magic-a-scientific-resurrection-of-an-esoteric-legend',",
            "        'only_matching': True,",
            "    }, {",
            "        # dead link, service_name = url",
            "        'url': 'https://slideslive.com/38922070/learning-transferable-skills-1',",
            "        'only_matching': True,",
            "    }, {",
            "        # dead link, service_name = vimeo",
            "        'url': 'https://slideslive.com/38921896/retrospectives-a-venue-for-selfreflection-in-ml-research-3',",
            "        'only_matching': True,",
            "    }]",
            "",
            "    _WEBPAGE_TESTS = [{",
            "        # only XML slides info",
            "        'url': 'https://iclr.cc/virtual_2020/poster_Hklr204Fvr.html',",
            "        'info_dict': {",
            "            'id': '38925850',",
            "            'ext': 'mp4',",
            "            'title': 'Towards a Deep Network Architecture for Structured Smoothness',",
            "            'thumbnail': r're:^https?://.*\\.jpg',",
            "            'thumbnails': 'count:8',",
            "            'timestamp': 1629671508,",
            "            'upload_date': '20210822',",
            "            'chapters': 'count:7',",
            "            'duration': 326,",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }]",
            "",
            "    @classmethod",
            "    def _extract_embed_urls(cls, url, webpage):",
            "        # Reference: https://slideslive.com/embed_presentation.js",
            "        for embed_id in re.findall(r'(?s)new\\s+SlidesLiveEmbed\\s*\\([^)]+\\bpresentationId:\\s*[\"\\'](\\d+)[\"\\']', webpage):",
            "            url_parsed = urllib.parse.urlparse(url)",
            "            origin = f'{url_parsed.scheme}://{url_parsed.netloc}'",
            "            yield update_url_query(",
            "                f'https://slideslive.com/embed/presentation/{embed_id}', {",
            "                    'embed_parent_url': url,",
            "                    'embed_container_origin': origin,",
            "                })",
            "",
            "    def _download_embed_webpage_handle(self, video_id, headers):",
            "        return self._download_webpage_handle(",
            "            f'https://slideslive.com/embed/presentation/{video_id}', video_id,",
            "            headers=headers, query=traverse_obj(headers, {",
            "                'embed_parent_url': 'Referer',",
            "                'embed_container_origin': 'Origin',",
            "            }))",
            "",
            "    def _extract_custom_m3u8_info(self, m3u8_data):",
            "        m3u8_dict = {}",
            "",
            "        lookup = {",
            "            'PRESENTATION-TITLE': 'title',",
            "            'PRESENTATION-UPDATED-AT': 'timestamp',",
            "            'PRESENTATION-THUMBNAIL': 'thumbnail',",
            "            'PLAYLIST-TYPE': 'playlist_type',",
            "            'VOD-VIDEO-SERVICE-NAME': 'service_name',",
            "            'VOD-VIDEO-ID': 'service_id',",
            "            'VOD-VIDEO-SERVERS': 'video_servers',",
            "            'VOD-SUBTITLES': 'subtitles',",
            "            'VOD-SLIDES-JSON-URL': 'slides_json_url',",
            "            'VOD-SLIDES-XML-URL': 'slides_xml_url',",
            "        }",
            "",
            "        for line in m3u8_data.splitlines():",
            "            if not line.startswith('#EXT-SL-'):",
            "                continue",
            "            tag, _, value = line.partition(':')",
            "            key = lookup.get(tag.lstrip('#EXT-SL-'))",
            "            if not key:",
            "                continue",
            "            m3u8_dict[key] = value",
            "",
            "        # Some values are stringified JSON arrays",
            "        for key in ('video_servers', 'subtitles'):",
            "            if key in m3u8_dict:",
            "                m3u8_dict[key] = self._parse_json(m3u8_dict[key], None, fatal=False) or []",
            "",
            "        return m3u8_dict",
            "",
            "    def _extract_formats_and_duration(self, cdn_hostname, path, video_id, skip_duration=False):",
            "        formats, duration = [], None",
            "",
            "        hls_formats = self._extract_m3u8_formats(",
            "            f'https://{cdn_hostname}/{path}/master.m3u8',",
            "            video_id, 'mp4', m3u8_id='hls', fatal=False, live=True)",
            "        if hls_formats:",
            "            if not skip_duration:",
            "                duration = self._extract_m3u8_vod_duration(",
            "                    hls_formats[0]['url'], video_id, note='Extracting duration from HLS manifest')",
            "            formats.extend(hls_formats)",
            "",
            "        dash_formats = self._extract_mpd_formats(",
            "            f'https://{cdn_hostname}/{path}/master.mpd', video_id, mpd_id='dash', fatal=False)",
            "        if dash_formats:",
            "            if not duration and not skip_duration:",
            "                duration = self._extract_mpd_vod_duration(",
            "                    f'https://{cdn_hostname}/{path}/master.mpd', video_id,",
            "                    note='Extracting duration from DASH manifest')",
            "            formats.extend(dash_formats)",
            "",
            "        return formats, duration",
            "",
            "    def _real_extract(self, url):",
            "        video_id = self._match_id(url)",
            "        webpage, urlh = self._download_embed_webpage_handle(",
            "            video_id, headers=traverse_obj(parse_qs(url), {",
            "                'Referer': ('embed_parent_url', -1),",
            "                'Origin': ('embed_container_origin', -1)}))",
            "        redirect_url = urlh.url",
            "        if 'domain_not_allowed' in redirect_url:",
            "            domain = traverse_obj(parse_qs(redirect_url), ('allowed_domains[]', ...), get_all=False)",
            "            if not domain:",
            "                raise ExtractorError(",
            "                    'This is an embed-only presentation. Try passing --referer', expected=True)",
            "            webpage, _ = self._download_embed_webpage_handle(video_id, headers={",
            "                'Referer': f'https://{domain}/',",
            "                'Origin': f'https://{domain}',",
            "            })",
            "",
            "        player_token = self._search_regex(r'data-player-token=\"([^\"]+)\"', webpage, 'player token')",
            "        player_data = self._download_webpage(",
            "            f'https://ben.slideslive.com/player/{video_id}', video_id,",
            "            note='Downloading player info', query={'player_token': player_token})",
            "        player_info = self._extract_custom_m3u8_info(player_data)",
            "",
            "        service_name = player_info['service_name'].lower()",
            "        assert service_name in ('url', 'yoda', 'vimeo', 'youtube')",
            "        service_id = player_info['service_id']",
            "",
            "        slide_url_template = 'https://slides.slideslive.com/%s/slides/original/%s%s'",
            "        slides, slides_info = {}, []",
            "",
            "        if player_info.get('slides_json_url'):",
            "            slides = self._download_json(",
            "                player_info['slides_json_url'], video_id, fatal=False,",
            "                note='Downloading slides JSON', errnote=False) or {}",
            "            slide_ext_default = '.png'",
            "            slide_quality = traverse_obj(slides, ('slide_qualities', 0))",
            "            if slide_quality:",
            "                slide_ext_default = '.jpg'",
            "                slide_url_template = f'https://cdn.slideslive.com/data/presentations/%s/slides/{slide_quality}/%s%s'",
            "            for slide_id, slide in enumerate(traverse_obj(slides, ('slides', ...), expected_type=dict), 1):",
            "                slides_info.append((",
            "                    slide_id, traverse_obj(slide, ('image', 'name')),",
            "                    traverse_obj(slide, ('image', 'extname'), default=slide_ext_default),",
            "                    int_or_none(slide.get('time'), scale=1000)))",
            "",
            "        if not slides and player_info.get('slides_xml_url'):",
            "            slides = self._download_xml(",
            "                player_info['slides_xml_url'], video_id, fatal=False,",
            "                note='Downloading slides XML', errnote='Failed to download slides info')",
            "            if isinstance(slides, xml.etree.ElementTree.Element):",
            "                slide_url_template = 'https://cdn.slideslive.com/data/presentations/%s/slides/big/%s%s'",
            "                for slide_id, slide in enumerate(slides.findall('./slide')):",
            "                    slides_info.append((",
            "                        slide_id, xpath_text(slide, './slideName', 'name'), '.jpg',",
            "                        int_or_none(xpath_text(slide, './timeSec', 'time'))))",
            "",
            "        chapters, thumbnails = [], []",
            "        if url_or_none(player_info.get('thumbnail')):",
            "            thumbnails.append({'id': 'cover', 'url': player_info['thumbnail']})",
            "        for slide_id, slide_path, slide_ext, start_time in slides_info:",
            "            if slide_path:",
            "                thumbnails.append({",
            "                    'id': f'{slide_id:03d}',",
            "                    'url': slide_url_template % (video_id, slide_path, slide_ext),",
            "                })",
            "            chapters.append({",
            "                'title': f'Slide {slide_id:03d}',",
            "                'start_time': start_time,",
            "            })",
            "",
            "        subtitles = {}",
            "        for sub in traverse_obj(player_info, ('subtitles', ...), expected_type=dict):",
            "            webvtt_url = url_or_none(sub.get('webvtt_url'))",
            "            if not webvtt_url:",
            "                continue",
            "            subtitles.setdefault(sub.get('language') or 'en', []).append({",
            "                'url': webvtt_url,",
            "                'ext': 'vtt',",
            "            })",
            "",
            "        info = {",
            "            'id': video_id,",
            "            'title': player_info.get('title') or self._html_search_meta('title', webpage, default=''),",
            "            'timestamp': unified_timestamp(player_info.get('timestamp')),",
            "            'is_live': player_info.get('playlist_type') != 'vod',",
            "            'thumbnails': thumbnails,",
            "            'chapters': chapters,",
            "            'subtitles': subtitles,",
            "        }",
            "",
            "        if service_name == 'url':",
            "            info['url'] = service_id",
            "        elif service_name == 'yoda':",
            "            formats, duration = self._extract_formats_and_duration(",
            "                player_info['video_servers'][0], service_id, video_id)",
            "            info.update({",
            "                'duration': duration,",
            "                'formats': formats,",
            "            })",
            "        else:",
            "            info.update({",
            "                '_type': 'url_transparent',",
            "                'url': service_id,",
            "                'ie_key': service_name.capitalize(),",
            "                'display_id': video_id,",
            "            })",
            "            if service_name == 'vimeo':",
            "                info['url'] = smuggle_url(",
            "                    f'https://player.vimeo.com/video/{service_id}',",
            "                    {'http_headers': {'Referer': url}})",
            "",
            "        video_slides = traverse_obj(slides, ('slides', ..., 'video', 'id'))",
            "        if not video_slides:",
            "            return info",
            "",
            "        def entries():",
            "            yield info",
            "",
            "            service_data = self._download_json(",
            "                f'https://ben.slideslive.com/player/{video_id}/slides_video_service_data',",
            "                video_id, fatal=False, query={",
            "                    'player_token': player_token,",
            "                    'videos': ','.join(video_slides),",
            "                }, note='Downloading video slides info', errnote='Failed to download video slides info') or {}",
            "",
            "            for slide_id, slide in enumerate(traverse_obj(slides, ('slides', ...)), 1):",
            "                if not traverse_obj(slide, ('video', 'service')) == 'yoda':",
            "                    continue",
            "                video_path = traverse_obj(slide, ('video', 'id'))",
            "                cdn_hostname = traverse_obj(service_data, (",
            "                    video_path, 'video_servers', ...), get_all=False)",
            "                if not cdn_hostname or not video_path:",
            "                    continue",
            "                formats, _ = self._extract_formats_and_duration(",
            "                    cdn_hostname, video_path, video_id, skip_duration=True)",
            "                if not formats:",
            "                    continue",
            "                yield {",
            "                    'id': f'{video_id}-{slide_id:03d}',",
            "                    'title': f'{info[\"title\"]} - Slide {slide_id:03d}',",
            "                    'timestamp': info['timestamp'],",
            "                    'duration': int_or_none(traverse_obj(slide, ('video', 'duration_ms')), scale=1000),",
            "                    'formats': formats,",
            "                }",
            "",
            "        return self.playlist_result(entries(), f'{video_id}-playlist', info['title'])"
        ],
        "afterPatchFile": [
            "import re",
            "import urllib.parse",
            "import xml.etree.ElementTree",
            "",
            "from .common import InfoExtractor",
            "from ..utils import (",
            "    ExtractorError,",
            "    int_or_none,",
            "    parse_qs,",
            "    smuggle_url,",
            "    traverse_obj,",
            "    unified_timestamp,",
            "    update_url_query,",
            "    url_or_none,",
            "    xpath_text,",
            ")",
            "",
            "",
            "class SlidesLiveIE(InfoExtractor):",
            "    _VALID_URL = r'https?://slideslive\\.com/(?:embed/(?:presentation/)?)?(?P<id>[0-9]+)'",
            "    _TESTS = [{",
            "        # service_name = yoda, only XML slides info",
            "        'url': 'https://slideslive.com/38902413/gcc-ia16-backend',",
            "        'info_dict': {",
            "            'id': '38902413',",
            "            'ext': 'mp4',",
            "            'title': 'GCC IA16 backend',",
            "            'timestamp': 1648189972,",
            "            'upload_date': '20220325',",
            "            'thumbnail': r're:^https?://.*\\.jpg',",
            "            'thumbnails': 'count:42',",
            "            'chapters': 'count:41',",
            "            'duration': 1638,",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # service_name = yoda, /v7/ slides",
            "        'url': 'https://slideslive.com/38935785',",
            "        'info_dict': {",
            "            'id': '38935785',",
            "            'ext': 'mp4',",
            "            'title': 'Offline Reinforcement Learning: From Algorithms to Practical Challenges',",
            "            'upload_date': '20211115',",
            "            'timestamp': 1636996003,",
            "            'thumbnail': r're:^https?://.*\\.(?:jpg|png)',",
            "            'thumbnails': 'count:640',",
            "            'chapters': 'count:639',",
            "            'duration': 9832,",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # service_name = yoda, /v1/ slides",
            "        'url': 'https://slideslive.com/38973182/how-should-a-machine-learning-researcher-think-about-ai-ethics',",
            "        'info_dict': {",
            "            'id': '38973182',",
            "            'ext': 'mp4',",
            "            'title': 'How Should a Machine Learning Researcher Think About AI Ethics?',",
            "            'upload_date': '20220201',",
            "            'thumbnail': r're:^https?://.*\\.jpg',",
            "            'timestamp': 1643728135,",
            "            'thumbnails': 'count:3',",
            "            'chapters': 'count:2',",
            "            'duration': 5889,",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # service_name = youtube, only XML slides info",
            "        'url': 'https://slideslive.com/38897546/special-metaprednaska-petra-ludwiga-hodnoty-pro-lepsi-spolecnost',",
            "        'md5': '8a79b5e3d700837f40bd2afca3c8fa01',",
            "        'info_dict': {",
            "            'id': 'jmg02wCJD5M',",
            "            'display_id': '38897546',",
            "            'ext': 'mp4',",
            "            'title': 'SPECI\u00c1L: Meta-p\u0159edn\u00e1\u0161ka Petra Ludwiga - Hodnoty pro lep\u0161\u00ed spole\u010dnost',",
            "            'description': 'Watch full version of this video at https://slideslive.com/38897546.',",
            "            'channel_url': 'https://www.youtube.com/channel/UCZWdAkNYFncuX0khyvhqnxw',",
            "            'channel': 'SlidesLive Videos - G1',",
            "            'channel_id': 'UCZWdAkNYFncuX0khyvhqnxw',",
            "            'uploader_id': 'UCZWdAkNYFncuX0khyvhqnxw',",
            "            'uploader': 'SlidesLive Videos - G1',",
            "            'uploader_url': 'http://www.youtube.com/channel/UCZWdAkNYFncuX0khyvhqnxw',",
            "            'live_status': 'not_live',",
            "            'upload_date': '20160710',",
            "            'timestamp': 1618786715,",
            "            'duration': 6827,",
            "            'like_count': int,",
            "            'view_count': int,",
            "            'comment_count': int,",
            "            'channel_follower_count': int,",
            "            'age_limit': 0,",
            "            'thumbnail': r're:^https?://.*\\.(?:jpg|webp)',",
            "            'thumbnails': 'count:169',",
            "            'playable_in_embed': True,",
            "            'availability': 'unlisted',",
            "            'tags': [],",
            "            'categories': ['People & Blogs'],",
            "            'chapters': 'count:168',",
            "        },",
            "    }, {",
            "        # embed-only presentation, only XML slides info",
            "        'url': 'https://slideslive.com/embed/presentation/38925850',",
            "        'info_dict': {",
            "            'id': '38925850',",
            "            'ext': 'mp4',",
            "            'title': 'Towards a Deep Network Architecture for Structured Smoothness',",
            "            'thumbnail': r're:^https?://.*\\.jpg',",
            "            'thumbnails': 'count:8',",
            "            'timestamp': 1629671508,",
            "            'upload_date': '20210822',",
            "            'chapters': 'count:7',",
            "            'duration': 326,",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # embed-only presentation, only JSON slides info, /v5/ slides (.png)",
            "        'url': 'https://slideslive.com/38979920/',",
            "        'info_dict': {",
            "            'id': '38979920',",
            "            'ext': 'mp4',",
            "            'title': 'MoReL: Multi-omics Relational Learning',",
            "            'thumbnail': r're:^https?://.*\\.(?:jpg|png)',",
            "            'thumbnails': 'count:7',",
            "            'timestamp': 1654714970,",
            "            'upload_date': '20220608',",
            "            'chapters': 'count:6',",
            "            'duration': 171,",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # /v2/ slides (.jpg)",
            "        'url': 'https://slideslive.com/38954074',",
            "        'info_dict': {",
            "            'id': '38954074',",
            "            'ext': 'mp4',",
            "            'title': 'Decentralized Attribution of Generative Models',",
            "            'thumbnail': r're:^https?://.*\\.jpg',",
            "            'thumbnails': 'count:16',",
            "            'timestamp': 1622806321,",
            "            'upload_date': '20210604',",
            "            'chapters': 'count:15',",
            "            'duration': 306,",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # /v4/ slides (.png)",
            "        'url': 'https://slideslive.com/38979570/',",
            "        'info_dict': {",
            "            'id': '38979570',",
            "            'ext': 'mp4',",
            "            'title': 'Efficient Active Search for Combinatorial Optimization Problems',",
            "            'thumbnail': r're:^https?://.*\\.(?:jpg|png)',",
            "            'thumbnails': 'count:9',",
            "            'timestamp': 1654714896,",
            "            'upload_date': '20220608',",
            "            'chapters': 'count:8',",
            "            'duration': 295,",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # /v10/ slides",
            "        'url': 'https://slideslive.com/embed/presentation/38979880?embed_parent_url=https%3A%2F%2Fedit.videoken.com%2F',",
            "        'info_dict': {",
            "            'id': '38979880',",
            "            'ext': 'mp4',",
            "            'title': 'The Representation Power of Neural Networks',",
            "            'timestamp': 1654714962,",
            "            'thumbnail': r're:^https?://.*\\.(?:jpg|png)',",
            "            'thumbnails': 'count:22',",
            "            'upload_date': '20220608',",
            "            'chapters': 'count:21',",
            "            'duration': 294,",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # /v7/ slides, 2 video slides",
            "        'url': 'https://slideslive.com/embed/presentation/38979682?embed_container_origin=https%3A%2F%2Fedit.videoken.com',",
            "        'playlist_count': 3,",
            "        'info_dict': {",
            "            'id': '38979682-playlist',",
            "            'title': 'LoRA: Low-Rank Adaptation of Large Language Models',",
            "        },",
            "        'playlist': [{",
            "            'info_dict': {",
            "                'id': '38979682',",
            "                'ext': 'mp4',",
            "                'title': 'LoRA: Low-Rank Adaptation of Large Language Models',",
            "                'timestamp': 1654714920,",
            "                'thumbnail': r're:^https?://.*\\.(?:jpg|png)',",
            "                'thumbnails': 'count:30',",
            "                'upload_date': '20220608',",
            "                'chapters': 'count:31',",
            "                'duration': 272,",
            "            },",
            "        }, {",
            "            'info_dict': {",
            "                'id': '38979682-021',",
            "                'ext': 'mp4',",
            "                'title': 'LoRA: Low-Rank Adaptation of Large Language Models - Slide 021',",
            "                'duration': 3,",
            "                'timestamp': 1654714920,",
            "                'upload_date': '20220608',",
            "            },",
            "        }, {",
            "            'info_dict': {",
            "                'id': '38979682-024',",
            "                'ext': 'mp4',",
            "                'title': 'LoRA: Low-Rank Adaptation of Large Language Models - Slide 024',",
            "                'duration': 4,",
            "                'timestamp': 1654714920,",
            "                'upload_date': '20220608',",
            "            },",
            "        }],",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # /v6/ slides, 1 video slide, edit.videoken.com embed",
            "        'url': 'https://slideslive.com/38979481/',",
            "        'playlist_count': 2,",
            "        'info_dict': {",
            "            'id': '38979481-playlist',",
            "            'title': 'How to Train Your MAML to Excel in Few-Shot Classification',",
            "        },",
            "        'playlist': [{",
            "            'info_dict': {",
            "                'id': '38979481',",
            "                'ext': 'mp4',",
            "                'title': 'How to Train Your MAML to Excel in Few-Shot Classification',",
            "                'timestamp': 1654714877,",
            "                'thumbnail': r're:^https?://.*\\.(?:jpg|png)',",
            "                'thumbnails': 'count:43',",
            "                'upload_date': '20220608',",
            "                'chapters': 'count:43',",
            "                'duration': 315,",
            "            },",
            "        }, {",
            "            'info_dict': {",
            "                'id': '38979481-013',",
            "                'ext': 'mp4',",
            "                'title': 'How to Train Your MAML to Excel in Few-Shot Classification - Slide 013',",
            "                'duration': 3,",
            "                'timestamp': 1654714877,",
            "                'upload_date': '20220608',",
            "            },",
            "        }],",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # /v3/ slides, .jpg and .png, service_name = youtube",
            "        'url': 'https://slideslive.com/embed/38932460/',",
            "        'info_dict': {",
            "            'id': 'RTPdrgkyTiE',",
            "            'display_id': '38932460',",
            "            'ext': 'mp4',",
            "            'title': 'Active Learning for Hierarchical Multi-Label Classification',",
            "            'description': 'Watch full version of this video at https://slideslive.com/38932460.',",
            "            'channel': 'SlidesLive Videos - A',",
            "            'channel_id': 'UC62SdArr41t_-_fX40QCLRw',",
            "            'channel_url': 'https://www.youtube.com/channel/UC62SdArr41t_-_fX40QCLRw',",
            "            'uploader': 'SlidesLive Videos - A',",
            "            'uploader_id': 'UC62SdArr41t_-_fX40QCLRw',",
            "            'uploader_url': 'http://www.youtube.com/channel/UC62SdArr41t_-_fX40QCLRw',",
            "            'upload_date': '20200903',",
            "            'timestamp': 1602599092,",
            "            'duration': 942,",
            "            'age_limit': 0,",
            "            'live_status': 'not_live',",
            "            'playable_in_embed': True,",
            "            'availability': 'unlisted',",
            "            'categories': ['People & Blogs'],",
            "            'tags': [],",
            "            'channel_follower_count': int,",
            "            'like_count': int,",
            "            'view_count': int,",
            "            'thumbnail': r're:^https?://.*\\.(?:jpg|png|webp)',",
            "            'thumbnails': 'count:21',",
            "            'chapters': 'count:20',",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # /v3/ slides, .png only, service_name = yoda",
            "        'url': 'https://slideslive.com/38983994',",
            "        'info_dict': {",
            "            'id': '38983994',",
            "            'ext': 'mp4',",
            "            'title': 'Zero-Shot AutoML with Pretrained Models',",
            "            'timestamp': 1662384834,",
            "            'upload_date': '20220905',",
            "            'thumbnail': r're:^https?://.*\\.(?:jpg|png)',",
            "            'thumbnails': 'count:23',",
            "            'chapters': 'count:22',",
            "            'duration': 295,",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }, {",
            "        # service_name = yoda",
            "        'url': 'https://slideslive.com/38903721/magic-a-scientific-resurrection-of-an-esoteric-legend',",
            "        'only_matching': True,",
            "    }, {",
            "        # dead link, service_name = url",
            "        'url': 'https://slideslive.com/38922070/learning-transferable-skills-1',",
            "        'only_matching': True,",
            "    }, {",
            "        # dead link, service_name = vimeo",
            "        'url': 'https://slideslive.com/38921896/retrospectives-a-venue-for-selfreflection-in-ml-research-3',",
            "        'only_matching': True,",
            "    }]",
            "",
            "    _WEBPAGE_TESTS = [{",
            "        # only XML slides info",
            "        'url': 'https://iclr.cc/virtual_2020/poster_Hklr204Fvr.html',",
            "        'info_dict': {",
            "            'id': '38925850',",
            "            'ext': 'mp4',",
            "            'title': 'Towards a Deep Network Architecture for Structured Smoothness',",
            "            'thumbnail': r're:^https?://.*\\.jpg',",
            "            'thumbnails': 'count:8',",
            "            'timestamp': 1629671508,",
            "            'upload_date': '20210822',",
            "            'chapters': 'count:7',",
            "            'duration': 326,",
            "        },",
            "        'params': {",
            "            'skip_download': 'm3u8',",
            "        },",
            "    }]",
            "",
            "    @classmethod",
            "    def _extract_embed_urls(cls, url, webpage):",
            "        # Reference: https://slideslive.com/embed_presentation.js",
            "        for embed_id in re.findall(r'(?s)new\\s+SlidesLiveEmbed\\s*\\([^)]+\\bpresentationId:\\s*[\"\\'](\\d+)[\"\\']', webpage):",
            "            url_parsed = urllib.parse.urlparse(url)",
            "            origin = f'{url_parsed.scheme}://{url_parsed.netloc}'",
            "            yield update_url_query(",
            "                f'https://slideslive.com/embed/presentation/{embed_id}', {",
            "                    'embed_parent_url': url,",
            "                    'embed_container_origin': origin,",
            "                })",
            "",
            "    def _download_embed_webpage_handle(self, video_id, headers):",
            "        return self._download_webpage_handle(",
            "            f'https://slideslive.com/embed/presentation/{video_id}', video_id,",
            "            headers=headers, query=traverse_obj(headers, {",
            "                'embed_parent_url': 'Referer',",
            "                'embed_container_origin': 'Origin',",
            "            }))",
            "",
            "    def _extract_custom_m3u8_info(self, m3u8_data):",
            "        m3u8_dict = {}",
            "",
            "        lookup = {",
            "            'PRESENTATION-TITLE': 'title',",
            "            'PRESENTATION-UPDATED-AT': 'timestamp',",
            "            'PRESENTATION-THUMBNAIL': 'thumbnail',",
            "            'PLAYLIST-TYPE': 'playlist_type',",
            "            'VOD-VIDEO-SERVICE-NAME': 'service_name',",
            "            'VOD-VIDEO-ID': 'service_id',",
            "            'VOD-VIDEO-SERVERS': 'video_servers',",
            "            'VOD-SUBTITLES': 'subtitles',",
            "            'VOD-SLIDES-JSON-URL': 'slides_json_url',",
            "            'VOD-SLIDES-XML-URL': 'slides_xml_url',",
            "        }",
            "",
            "        for line in m3u8_data.splitlines():",
            "            if not line.startswith('#EXT-SL-'):",
            "                continue",
            "            tag, _, value = line.partition(':')",
            "            key = lookup.get(tag.lstrip('#EXT-SL-'))",
            "            if not key:",
            "                continue",
            "            m3u8_dict[key] = value",
            "",
            "        # Some values are stringified JSON arrays",
            "        for key in ('video_servers', 'subtitles'):",
            "            if key in m3u8_dict:",
            "                m3u8_dict[key] = self._parse_json(m3u8_dict[key], None, fatal=False) or []",
            "",
            "        return m3u8_dict",
            "",
            "    def _extract_formats_and_duration(self, cdn_hostname, path, video_id, skip_duration=False):",
            "        formats, duration = [], None",
            "",
            "        hls_formats = self._extract_m3u8_formats(",
            "            f'https://{cdn_hostname}/{path}/master.m3u8',",
            "            video_id, 'mp4', m3u8_id='hls', fatal=False, live=True)",
            "        if hls_formats:",
            "            if not skip_duration:",
            "                duration = self._extract_m3u8_vod_duration(",
            "                    hls_formats[0]['url'], video_id, note='Extracting duration from HLS manifest')",
            "            formats.extend(hls_formats)",
            "",
            "        dash_formats = self._extract_mpd_formats(",
            "            f'https://{cdn_hostname}/{path}/master.mpd', video_id, mpd_id='dash', fatal=False)",
            "        if dash_formats:",
            "            if not duration and not skip_duration:",
            "                duration = self._extract_mpd_vod_duration(",
            "                    f'https://{cdn_hostname}/{path}/master.mpd', video_id,",
            "                    note='Extracting duration from DASH manifest')",
            "            formats.extend(dash_formats)",
            "",
            "        return formats, duration",
            "",
            "    def _real_extract(self, url):",
            "        video_id = self._match_id(url)",
            "        webpage, urlh = self._download_embed_webpage_handle(",
            "            video_id, headers=traverse_obj(parse_qs(url), {",
            "                'Referer': ('embed_parent_url', -1),",
            "                'Origin': ('embed_container_origin', -1)}))",
            "        redirect_url = urlh.url",
            "        if 'domain_not_allowed' in redirect_url:",
            "            domain = traverse_obj(parse_qs(redirect_url), ('allowed_domains[]', ...), get_all=False)",
            "            if not domain:",
            "                raise ExtractorError(",
            "                    'This is an embed-only presentation. Try passing --referer', expected=True)",
            "            webpage, _ = self._download_embed_webpage_handle(video_id, headers={",
            "                'Referer': f'https://{domain}/',",
            "                'Origin': f'https://{domain}',",
            "            })",
            "",
            "        player_token = self._search_regex(r'data-player-token=\"([^\"]+)\"', webpage, 'player token')",
            "        player_data = self._download_webpage(",
            "            f'https://ben.slideslive.com/player/{video_id}', video_id,",
            "            note='Downloading player info', query={'player_token': player_token})",
            "        player_info = self._extract_custom_m3u8_info(player_data)",
            "",
            "        service_name = player_info['service_name'].lower()",
            "        assert service_name in ('url', 'yoda', 'vimeo', 'youtube')",
            "        service_id = player_info['service_id']",
            "",
            "        slide_url_template = 'https://slides.slideslive.com/%s/slides/original/%s%s'",
            "        slides, slides_info = {}, []",
            "",
            "        if player_info.get('slides_json_url'):",
            "            slides = self._download_json(",
            "                player_info['slides_json_url'], video_id, fatal=False,",
            "                note='Downloading slides JSON', errnote=False) or {}",
            "            slide_ext_default = '.png'",
            "            slide_quality = traverse_obj(slides, ('slide_qualities', 0))",
            "            if slide_quality:",
            "                slide_ext_default = '.jpg'",
            "                slide_url_template = f'https://cdn.slideslive.com/data/presentations/%s/slides/{slide_quality}/%s%s'",
            "            for slide_id, slide in enumerate(traverse_obj(slides, ('slides', ...), expected_type=dict), 1):",
            "                slides_info.append((",
            "                    slide_id, traverse_obj(slide, ('image', 'name')),",
            "                    traverse_obj(slide, ('image', 'extname'), default=slide_ext_default),",
            "                    int_or_none(slide.get('time'), scale=1000)))",
            "",
            "        if not slides and player_info.get('slides_xml_url'):",
            "            slides = self._download_xml(",
            "                player_info['slides_xml_url'], video_id, fatal=False,",
            "                note='Downloading slides XML', errnote='Failed to download slides info')",
            "            if isinstance(slides, xml.etree.ElementTree.Element):",
            "                slide_url_template = 'https://cdn.slideslive.com/data/presentations/%s/slides/big/%s%s'",
            "                for slide_id, slide in enumerate(slides.findall('./slide')):",
            "                    slides_info.append((",
            "                        slide_id, xpath_text(slide, './slideName', 'name'), '.jpg',",
            "                        int_or_none(xpath_text(slide, './timeSec', 'time'))))",
            "",
            "        chapters, thumbnails = [], []",
            "        if url_or_none(player_info.get('thumbnail')):",
            "            thumbnails.append({'id': 'cover', 'url': player_info['thumbnail']})",
            "        for slide_id, slide_path, slide_ext, start_time in slides_info:",
            "            if slide_path:",
            "                thumbnails.append({",
            "                    'id': f'{slide_id:03d}',",
            "                    'url': slide_url_template % (video_id, slide_path, slide_ext),",
            "                })",
            "            chapters.append({",
            "                'title': f'Slide {slide_id:03d}',",
            "                'start_time': start_time,",
            "            })",
            "",
            "        subtitles = {}",
            "        for sub in traverse_obj(player_info, ('subtitles', ...), expected_type=dict):",
            "            webvtt_url = url_or_none(sub.get('webvtt_url'))",
            "            if not webvtt_url:",
            "                continue",
            "            subtitles.setdefault(sub.get('language') or 'en', []).append({",
            "                'url': webvtt_url,",
            "                'ext': 'vtt',",
            "            })",
            "",
            "        info = {",
            "            'id': video_id,",
            "            'title': player_info.get('title') or self._html_search_meta('title', webpage, default=''),",
            "            'timestamp': unified_timestamp(player_info.get('timestamp')),",
            "            'is_live': player_info.get('playlist_type') != 'vod',",
            "            'thumbnails': thumbnails,",
            "            'chapters': chapters,",
            "            'subtitles': subtitles,",
            "        }",
            "",
            "        if service_name == 'url':",
            "            info['url'] = service_id",
            "        elif service_name == 'yoda':",
            "            formats, duration = self._extract_formats_and_duration(",
            "                player_info['video_servers'][0], service_id, video_id)",
            "            info.update({",
            "                'duration': duration,",
            "                'formats': formats,",
            "            })",
            "        else:",
            "            info.update({",
            "                '_type': 'url_transparent',",
            "                'url': service_id,",
            "                'ie_key': service_name.capitalize(),",
            "                'display_id': video_id,",
            "            })",
            "            if service_name == 'vimeo':",
            "                info['url'] = smuggle_url(",
            "                    f'https://player.vimeo.com/video/{service_id}',",
            "                    {'referer': url})",
            "",
            "        video_slides = traverse_obj(slides, ('slides', ..., 'video', 'id'))",
            "        if not video_slides:",
            "            return info",
            "",
            "        def entries():",
            "            yield info",
            "",
            "            service_data = self._download_json(",
            "                f'https://ben.slideslive.com/player/{video_id}/slides_video_service_data',",
            "                video_id, fatal=False, query={",
            "                    'player_token': player_token,",
            "                    'videos': ','.join(video_slides),",
            "                }, note='Downloading video slides info', errnote='Failed to download video slides info') or {}",
            "",
            "            for slide_id, slide in enumerate(traverse_obj(slides, ('slides', ...)), 1):",
            "                if not traverse_obj(slide, ('video', 'service')) == 'yoda':",
            "                    continue",
            "                video_path = traverse_obj(slide, ('video', 'id'))",
            "                cdn_hostname = traverse_obj(service_data, (",
            "                    video_path, 'video_servers', ...), get_all=False)",
            "                if not cdn_hostname or not video_path:",
            "                    continue",
            "                formats, _ = self._extract_formats_and_duration(",
            "                    cdn_hostname, video_path, video_id, skip_duration=True)",
            "                if not formats:",
            "                    continue",
            "                yield {",
            "                    'id': f'{video_id}-{slide_id:03d}',",
            "                    'title': f'{info[\"title\"]} - Slide {slide_id:03d}',",
            "                    'timestamp': info['timestamp'],",
            "                    'duration': int_or_none(traverse_obj(slide, ('video', 'duration_ms')), scale=1000),",
            "                    'formats': formats,",
            "                }",
            "",
            "        return self.playlist_result(entries(), f'{video_id}-playlist', info['title'])"
        ],
        "action": [
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "533": [
                "SlidesLiveIE",
                "_real_extract"
            ]
        },
        "addLocation": []
    },
    "yt_dlp/extractor/storyfire.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 32,
                "afterPatchRowNumber": 32,
                "PatchRowcode": "             'description': video.get('description'),"
            },
            "1": {
                "beforePatchRowNumber": 33,
                "afterPatchRowNumber": 33,
                "PatchRowcode": "             'url': smuggle_url("
            },
            "2": {
                "beforePatchRowNumber": 34,
                "afterPatchRowNumber": 34,
                "PatchRowcode": "                 'https://player.vimeo.com/video/' + vimeo_id, {"
            },
            "3": {
                "beforePatchRowNumber": 35,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-                    'http_headers': {"
            },
            "4": {
                "beforePatchRowNumber": 36,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-                        'Referer': 'https://storyfire.com/',"
            },
            "5": {
                "beforePatchRowNumber": 37,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-                    }"
            },
            "6": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 35,
                "PatchRowcode": "+                    'referer': 'https://storyfire.com/',"
            },
            "7": {
                "beforePatchRowNumber": 38,
                "afterPatchRowNumber": 36,
                "PatchRowcode": "                 }),"
            },
            "8": {
                "beforePatchRowNumber": 39,
                "afterPatchRowNumber": 37,
                "PatchRowcode": "             'thumbnail': video.get('storyImage'),"
            },
            "9": {
                "beforePatchRowNumber": 40,
                "afterPatchRowNumber": 38,
                "PatchRowcode": "             'view_count': int_or_none(video.get('views')),"
            }
        },
        "frontPatchFile": [
            "import functools",
            "",
            "from .common import InfoExtractor",
            "from ..utils import (",
            "    format_field,",
            "    int_or_none,",
            "    OnDemandPagedList,",
            "    smuggle_url,",
            ")",
            "",
            "",
            "class StoryFireBaseIE(InfoExtractor):",
            "    _VALID_URL_BASE = r'https?://(?:www\\.)?storyfire\\.com/'",
            "",
            "    def _call_api(self, path, video_id, resource, query=None):",
            "        return self._download_json(",
            "            'https://storyfire.com/app/%s/%s' % (path, video_id), video_id,",
            "            'Downloading %s JSON metadata' % resource, query=query)",
            "",
            "    def _parse_video(self, video):",
            "        title = video['title']",
            "        vimeo_id = self._search_regex(",
            "            r'https?://player\\.vimeo\\.com/external/(\\d+)',",
            "            video['vimeoVideoURL'], 'vimeo id')",
            "",
            "        uploader_id = video.get('hostID')",
            "",
            "        return {",
            "            '_type': 'url_transparent',",
            "            'id': vimeo_id,",
            "            'title': title,",
            "            'description': video.get('description'),",
            "            'url': smuggle_url(",
            "                'https://player.vimeo.com/video/' + vimeo_id, {",
            "                    'http_headers': {",
            "                        'Referer': 'https://storyfire.com/',",
            "                    }",
            "                }),",
            "            'thumbnail': video.get('storyImage'),",
            "            'view_count': int_or_none(video.get('views')),",
            "            'like_count': int_or_none(video.get('likesCount')),",
            "            'comment_count': int_or_none(video.get('commentsCount')),",
            "            'duration': int_or_none(video.get('videoDuration')),",
            "            'timestamp': int_or_none(video.get('publishDate')),",
            "            'uploader': video.get('username'),",
            "            'uploader_id': uploader_id,",
            "            'uploader_url': format_field(uploader_id, None, 'https://storyfire.com/user/%s/video'),",
            "            'episode_number': int_or_none(video.get('episodeNumber') or video.get('episode_number')),",
            "        }",
            "",
            "",
            "class StoryFireIE(StoryFireBaseIE):",
            "    _VALID_URL = StoryFireBaseIE._VALID_URL_BASE + r'video-details/(?P<id>[0-9a-f]{24})'",
            "    _TEST = {",
            "        'url': 'https://storyfire.com/video-details/5df1d132b6378700117f9181',",
            "        'md5': 'caec54b9e4621186d6079c7ec100c1eb',",
            "        'info_dict': {",
            "            'id': '378954662',",
            "            'ext': 'mp4',",
            "            'title': 'Buzzfeed Teaches You About Memes',",
            "            'uploader_id': 'ntZAJFECERSgqHSxzonV5K2E89s1',",
            "            'timestamp': 1576129028,",
            "            'description': 'md5:0b4e28021548e144bed69bb7539e62ea',",
            "            'uploader': 'whang!',",
            "            'upload_date': '20191212',",
            "            'duration': 418,",
            "            'view_count': int,",
            "            'like_count': int,",
            "            'comment_count': int,",
            "        },",
            "        'params': {",
            "            'skip_download': True,",
            "        },",
            "        'expected_warnings': ['Unable to download JSON metadata']",
            "    }",
            "",
            "    def _real_extract(self, url):",
            "        video_id = self._match_id(url)",
            "        video = self._call_api(",
            "            'generic/video-detail', video_id, 'video')['video']",
            "        return self._parse_video(video)",
            "",
            "",
            "class StoryFireUserIE(StoryFireBaseIE):",
            "    _VALID_URL = StoryFireBaseIE._VALID_URL_BASE + r'user/(?P<id>[^/]+)/video'",
            "    _TEST = {",
            "        'url': 'https://storyfire.com/user/UQ986nFxmAWIgnkZQ0ftVhq4nOk2/video',",
            "        'info_dict': {",
            "            'id': 'UQ986nFxmAWIgnkZQ0ftVhq4nOk2',",
            "        },",
            "        'playlist_mincount': 151,",
            "    }",
            "    _PAGE_SIZE = 20",
            "",
            "    def _fetch_page(self, user_id, page):",
            "        videos = self._call_api(",
            "            'publicVideos', user_id, 'page %d' % (page + 1), {",
            "                'skip': page * self._PAGE_SIZE,",
            "            })['videos']",
            "        for video in videos:",
            "            yield self._parse_video(video)",
            "",
            "    def _real_extract(self, url):",
            "        user_id = self._match_id(url)",
            "        entries = OnDemandPagedList(functools.partial(",
            "            self._fetch_page, user_id), self._PAGE_SIZE)",
            "        return self.playlist_result(entries, user_id)",
            "",
            "",
            "class StoryFireSeriesIE(StoryFireBaseIE):",
            "    _VALID_URL = StoryFireBaseIE._VALID_URL_BASE + r'write/series/stories/(?P<id>[^/?&#]+)'",
            "    _TESTS = [{",
            "        'url': 'https://storyfire.com/write/series/stories/-Lq6MsuIHLODO6d2dDkr/',",
            "        'info_dict': {",
            "            'id': '-Lq6MsuIHLODO6d2dDkr',",
            "        },",
            "        'playlist_mincount': 13,",
            "    }, {",
            "        'url': 'https://storyfire.com/write/series/stories/the_mortal_one/',",
            "        'info_dict': {",
            "            'id': 'the_mortal_one',",
            "        },",
            "        'playlist_count': 0,",
            "    }]",
            "",
            "    def _extract_videos(self, stories):",
            "        for story in stories.values():",
            "            if story.get('hasVideo'):",
            "                yield self._parse_video(story)",
            "",
            "    def _real_extract(self, url):",
            "        series_id = self._match_id(url)",
            "        stories = self._call_api(",
            "            'seriesStories', series_id, 'series stories')",
            "        return self.playlist_result(self._extract_videos(stories), series_id)"
        ],
        "afterPatchFile": [
            "import functools",
            "",
            "from .common import InfoExtractor",
            "from ..utils import (",
            "    format_field,",
            "    int_or_none,",
            "    OnDemandPagedList,",
            "    smuggle_url,",
            ")",
            "",
            "",
            "class StoryFireBaseIE(InfoExtractor):",
            "    _VALID_URL_BASE = r'https?://(?:www\\.)?storyfire\\.com/'",
            "",
            "    def _call_api(self, path, video_id, resource, query=None):",
            "        return self._download_json(",
            "            'https://storyfire.com/app/%s/%s' % (path, video_id), video_id,",
            "            'Downloading %s JSON metadata' % resource, query=query)",
            "",
            "    def _parse_video(self, video):",
            "        title = video['title']",
            "        vimeo_id = self._search_regex(",
            "            r'https?://player\\.vimeo\\.com/external/(\\d+)',",
            "            video['vimeoVideoURL'], 'vimeo id')",
            "",
            "        uploader_id = video.get('hostID')",
            "",
            "        return {",
            "            '_type': 'url_transparent',",
            "            'id': vimeo_id,",
            "            'title': title,",
            "            'description': video.get('description'),",
            "            'url': smuggle_url(",
            "                'https://player.vimeo.com/video/' + vimeo_id, {",
            "                    'referer': 'https://storyfire.com/',",
            "                }),",
            "            'thumbnail': video.get('storyImage'),",
            "            'view_count': int_or_none(video.get('views')),",
            "            'like_count': int_or_none(video.get('likesCount')),",
            "            'comment_count': int_or_none(video.get('commentsCount')),",
            "            'duration': int_or_none(video.get('videoDuration')),",
            "            'timestamp': int_or_none(video.get('publishDate')),",
            "            'uploader': video.get('username'),",
            "            'uploader_id': uploader_id,",
            "            'uploader_url': format_field(uploader_id, None, 'https://storyfire.com/user/%s/video'),",
            "            'episode_number': int_or_none(video.get('episodeNumber') or video.get('episode_number')),",
            "        }",
            "",
            "",
            "class StoryFireIE(StoryFireBaseIE):",
            "    _VALID_URL = StoryFireBaseIE._VALID_URL_BASE + r'video-details/(?P<id>[0-9a-f]{24})'",
            "    _TEST = {",
            "        'url': 'https://storyfire.com/video-details/5df1d132b6378700117f9181',",
            "        'md5': 'caec54b9e4621186d6079c7ec100c1eb',",
            "        'info_dict': {",
            "            'id': '378954662',",
            "            'ext': 'mp4',",
            "            'title': 'Buzzfeed Teaches You About Memes',",
            "            'uploader_id': 'ntZAJFECERSgqHSxzonV5K2E89s1',",
            "            'timestamp': 1576129028,",
            "            'description': 'md5:0b4e28021548e144bed69bb7539e62ea',",
            "            'uploader': 'whang!',",
            "            'upload_date': '20191212',",
            "            'duration': 418,",
            "            'view_count': int,",
            "            'like_count': int,",
            "            'comment_count': int,",
            "        },",
            "        'params': {",
            "            'skip_download': True,",
            "        },",
            "        'expected_warnings': ['Unable to download JSON metadata']",
            "    }",
            "",
            "    def _real_extract(self, url):",
            "        video_id = self._match_id(url)",
            "        video = self._call_api(",
            "            'generic/video-detail', video_id, 'video')['video']",
            "        return self._parse_video(video)",
            "",
            "",
            "class StoryFireUserIE(StoryFireBaseIE):",
            "    _VALID_URL = StoryFireBaseIE._VALID_URL_BASE + r'user/(?P<id>[^/]+)/video'",
            "    _TEST = {",
            "        'url': 'https://storyfire.com/user/UQ986nFxmAWIgnkZQ0ftVhq4nOk2/video',",
            "        'info_dict': {",
            "            'id': 'UQ986nFxmAWIgnkZQ0ftVhq4nOk2',",
            "        },",
            "        'playlist_mincount': 151,",
            "    }",
            "    _PAGE_SIZE = 20",
            "",
            "    def _fetch_page(self, user_id, page):",
            "        videos = self._call_api(",
            "            'publicVideos', user_id, 'page %d' % (page + 1), {",
            "                'skip': page * self._PAGE_SIZE,",
            "            })['videos']",
            "        for video in videos:",
            "            yield self._parse_video(video)",
            "",
            "    def _real_extract(self, url):",
            "        user_id = self._match_id(url)",
            "        entries = OnDemandPagedList(functools.partial(",
            "            self._fetch_page, user_id), self._PAGE_SIZE)",
            "        return self.playlist_result(entries, user_id)",
            "",
            "",
            "class StoryFireSeriesIE(StoryFireBaseIE):",
            "    _VALID_URL = StoryFireBaseIE._VALID_URL_BASE + r'write/series/stories/(?P<id>[^/?&#]+)'",
            "    _TESTS = [{",
            "        'url': 'https://storyfire.com/write/series/stories/-Lq6MsuIHLODO6d2dDkr/',",
            "        'info_dict': {",
            "            'id': '-Lq6MsuIHLODO6d2dDkr',",
            "        },",
            "        'playlist_mincount': 13,",
            "    }, {",
            "        'url': 'https://storyfire.com/write/series/stories/the_mortal_one/',",
            "        'info_dict': {",
            "            'id': 'the_mortal_one',",
            "        },",
            "        'playlist_count': 0,",
            "    }]",
            "",
            "    def _extract_videos(self, stories):",
            "        for story in stories.values():",
            "            if story.get('hasVideo'):",
            "                yield self._parse_video(story)",
            "",
            "    def _real_extract(self, url):",
            "        series_id = self._match_id(url)",
            "        stories = self._call_api(",
            "            'seriesStories', series_id, 'series stories')",
            "        return self.playlist_result(self._extract_videos(stories), series_id)"
        ],
        "action": [
            "0",
            "0",
            "0",
            "2",
            "2",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "35": [
                "StoryFireBaseIE",
                "_parse_video"
            ],
            "36": [
                "StoryFireBaseIE",
                "_parse_video"
            ],
            "37": [
                "StoryFireBaseIE",
                "_parse_video"
            ]
        },
        "addLocation": []
    },
    "yt_dlp/extractor/vimeo.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 37,
                "afterPatchRowNumber": 37,
                "PatchRowcode": " "
            },
            "1": {
                "beforePatchRowNumber": 38,
                "afterPatchRowNumber": 38,
                "PatchRowcode": "     @staticmethod"
            },
            "2": {
                "beforePatchRowNumber": 39,
                "afterPatchRowNumber": 39,
                "PatchRowcode": "     def _smuggle_referrer(url, referrer_url):"
            },
            "3": {
                "beforePatchRowNumber": 40,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        return smuggle_url(url, {'http_headers': {'Referer': referrer_url}})"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 40,
                "PatchRowcode": "+        return smuggle_url(url, {'referer': referrer_url})"
            },
            "5": {
                "beforePatchRowNumber": 41,
                "afterPatchRowNumber": 41,
                "PatchRowcode": " "
            },
            "6": {
                "beforePatchRowNumber": 42,
                "afterPatchRowNumber": 42,
                "PatchRowcode": "     def _unsmuggle_headers(self, url):"
            },
            "7": {
                "beforePatchRowNumber": 43,
                "afterPatchRowNumber": 43,
                "PatchRowcode": "         \"\"\"@returns (url, smuggled_data, headers)\"\"\""
            },
            "8": {
                "beforePatchRowNumber": 44,
                "afterPatchRowNumber": 44,
                "PatchRowcode": "         url, data = unsmuggle_url(url, {})"
            },
            "9": {
                "beforePatchRowNumber": 45,
                "afterPatchRowNumber": 45,
                "PatchRowcode": "         headers = self.get_param('http_headers').copy()"
            },
            "10": {
                "beforePatchRowNumber": 46,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        if 'http_headers' in data:"
            },
            "11": {
                "beforePatchRowNumber": 47,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            headers.update(data['http_headers'])"
            },
            "12": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 46,
                "PatchRowcode": "+        if 'referer' in data:"
            },
            "13": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 47,
                "PatchRowcode": "+            headers['Referer'] = data['referer']"
            },
            "14": {
                "beforePatchRowNumber": 48,
                "afterPatchRowNumber": 48,
                "PatchRowcode": "         return url, data, headers"
            },
            "15": {
                "beforePatchRowNumber": 49,
                "afterPatchRowNumber": 49,
                "PatchRowcode": " "
            },
            "16": {
                "beforePatchRowNumber": 50,
                "afterPatchRowNumber": 50,
                "PatchRowcode": "     def _perform_login(self, username, password):"
            }
        },
        "frontPatchFile": [
            "import base64",
            "import functools",
            "import re",
            "import itertools",
            "",
            "from .common import InfoExtractor",
            "from ..compat import compat_str, compat_urlparse",
            "from ..networking import HEADRequest, Request",
            "from ..networking.exceptions import HTTPError",
            "from ..utils import (",
            "    clean_html,",
            "    determine_ext,",
            "    ExtractorError,",
            "    get_element_by_class,",
            "    js_to_json,",
            "    int_or_none,",
            "    merge_dicts,",
            "    OnDemandPagedList,",
            "    parse_filesize,",
            "    parse_iso8601,",
            "    parse_qs,",
            "    smuggle_url,",
            "    str_or_none,",
            "    try_get,",
            "    unified_timestamp,",
            "    unsmuggle_url,",
            "    urlencode_postdata,",
            "    urljoin,",
            "    urlhandle_detect_ext,",
            ")",
            "",
            "",
            "class VimeoBaseInfoExtractor(InfoExtractor):",
            "    _NETRC_MACHINE = 'vimeo'",
            "    _LOGIN_REQUIRED = False",
            "    _LOGIN_URL = 'https://vimeo.com/log_in'",
            "",
            "    @staticmethod",
            "    def _smuggle_referrer(url, referrer_url):",
            "        return smuggle_url(url, {'http_headers': {'Referer': referrer_url}})",
            "",
            "    def _unsmuggle_headers(self, url):",
            "        \"\"\"@returns (url, smuggled_data, headers)\"\"\"",
            "        url, data = unsmuggle_url(url, {})",
            "        headers = self.get_param('http_headers').copy()",
            "        if 'http_headers' in data:",
            "            headers.update(data['http_headers'])",
            "        return url, data, headers",
            "",
            "    def _perform_login(self, username, password):",
            "        webpage = self._download_webpage(",
            "            self._LOGIN_URL, None, 'Downloading login page')",
            "        token, vuid = self._extract_xsrft_and_vuid(webpage)",
            "        data = {",
            "            'action': 'login',",
            "            'email': username,",
            "            'password': password,",
            "            'service': 'vimeo',",
            "            'token': token,",
            "        }",
            "        self._set_vimeo_cookie('vuid', vuid)",
            "        try:",
            "            self._download_webpage(",
            "                self._LOGIN_URL, None, 'Logging in',",
            "                data=urlencode_postdata(data), headers={",
            "                    'Content-Type': 'application/x-www-form-urlencoded',",
            "                    'Referer': self._LOGIN_URL,",
            "                })",
            "        except ExtractorError as e:",
            "            if isinstance(e.cause, HTTPError) and e.cause.status == 418:",
            "                raise ExtractorError(",
            "                    'Unable to log in: bad username or password',",
            "                    expected=True)",
            "            raise ExtractorError('Unable to log in')",
            "",
            "    def _real_initialize(self):",
            "        if self._LOGIN_REQUIRED and not self._get_cookies('https://vimeo.com').get('vuid'):",
            "            self._raise_login_required()",
            "",
            "    def _get_video_password(self):",
            "        password = self.get_param('videopassword')",
            "        if password is None:",
            "            raise ExtractorError(",
            "                'This video is protected by a password, use the --video-password option',",
            "                expected=True)",
            "        return password",
            "",
            "    def _verify_video_password(self, url, video_id, password, token, vuid):",
            "        if url.startswith('http://'):",
            "            # vimeo only supports https now, but the user can give an http url",
            "            url = url.replace('http://', 'https://')",
            "        self._set_vimeo_cookie('vuid', vuid)",
            "        return self._download_webpage(",
            "            url + '/password', video_id, 'Verifying the password',",
            "            'Wrong password', data=urlencode_postdata({",
            "                'password': password,",
            "                'token': token,",
            "            }), headers={",
            "                'Content-Type': 'application/x-www-form-urlencoded',",
            "                'Referer': url,",
            "            })",
            "",
            "    def _extract_xsrft_and_vuid(self, webpage):",
            "        xsrft = self._search_regex(",
            "            r'(?:(?P<q1>[\"\\'])xsrft(?P=q1)\\s*:|xsrft\\s*[=:])\\s*(?P<q>[\"\\'])(?P<xsrft>.+?)(?P=q)',",
            "            webpage, 'login token', group='xsrft')",
            "        vuid = self._search_regex(",
            "            r'[\"\\']vuid[\"\\']\\s*:\\s*([\"\\'])(?P<vuid>.+?)\\1',",
            "            webpage, 'vuid', group='vuid')",
            "        return xsrft, vuid",
            "",
            "    def _extract_vimeo_config(self, webpage, video_id, *args, **kwargs):",
            "        vimeo_config = self._search_regex(",
            "            r'vimeo\\.config\\s*=\\s*(?:({.+?})|_extend\\([^,]+,\\s+({.+?})\\));',",
            "            webpage, 'vimeo config', *args, **kwargs)",
            "        if vimeo_config:",
            "            return self._parse_json(vimeo_config, video_id)",
            "",
            "    def _set_vimeo_cookie(self, name, value):",
            "        self._set_cookie('vimeo.com', name, value)",
            "",
            "    def _parse_config(self, config, video_id):",
            "        video_data = config['video']",
            "        video_title = video_data.get('title')",
            "        live_event = video_data.get('live_event') or {}",
            "        is_live = live_event.get('status') == 'started'",
            "        request = config.get('request') or {}",
            "",
            "        formats = []",
            "        subtitles = {}",
            "",
            "        config_files = video_data.get('files') or request.get('files') or {}",
            "        for f in (config_files.get('progressive') or []):",
            "            video_url = f.get('url')",
            "            if not video_url:",
            "                continue",
            "            formats.append({",
            "                'url': video_url,",
            "                'format_id': 'http-%s' % f.get('quality'),",
            "                'source_preference': 10,",
            "                'width': int_or_none(f.get('width')),",
            "                'height': int_or_none(f.get('height')),",
            "                'fps': int_or_none(f.get('fps')),",
            "                'tbr': int_or_none(f.get('bitrate')),",
            "            })",
            "",
            "        # TODO: fix handling of 308 status code returned for live archive manifest requests",
            "        sep_pattern = r'/sep/video/'",
            "        for files_type in ('hls', 'dash'):",
            "            for cdn_name, cdn_data in (try_get(config_files, lambda x: x[files_type]['cdns']) or {}).items():",
            "                manifest_url = cdn_data.get('url')",
            "                if not manifest_url:",
            "                    continue",
            "                format_id = '%s-%s' % (files_type, cdn_name)",
            "                sep_manifest_urls = []",
            "                if re.search(sep_pattern, manifest_url):",
            "                    for suffix, repl in (('', 'video'), ('_sep', 'sep/video')):",
            "                        sep_manifest_urls.append((format_id + suffix, re.sub(",
            "                            sep_pattern, '/%s/' % repl, manifest_url)))",
            "                else:",
            "                    sep_manifest_urls = [(format_id, manifest_url)]",
            "                for f_id, m_url in sep_manifest_urls:",
            "                    if files_type == 'hls':",
            "                        fmts, subs = self._extract_m3u8_formats_and_subtitles(",
            "                            m_url, video_id, 'mp4', live=is_live, m3u8_id=f_id,",
            "                            note='Downloading %s m3u8 information' % cdn_name,",
            "                            fatal=False)",
            "                        formats.extend(fmts)",
            "                        self._merge_subtitles(subs, target=subtitles)",
            "                    elif files_type == 'dash':",
            "                        if 'json=1' in m_url:",
            "                            real_m_url = (self._download_json(m_url, video_id, fatal=False) or {}).get('url')",
            "                            if real_m_url:",
            "                                m_url = real_m_url",
            "                        fmts, subs = self._extract_mpd_formats_and_subtitles(",
            "                            m_url.replace('/master.json', '/master.mpd'), video_id, f_id,",
            "                            'Downloading %s MPD information' % cdn_name,",
            "                            fatal=False)",
            "                        formats.extend(fmts)",
            "                        self._merge_subtitles(subs, target=subtitles)",
            "",
            "        live_archive = live_event.get('archive') or {}",
            "        live_archive_source_url = live_archive.get('source_url')",
            "        if live_archive_source_url and live_archive.get('status') == 'done':",
            "            formats.append({",
            "                'format_id': 'live-archive-source',",
            "                'url': live_archive_source_url,",
            "                'quality': 10,",
            "            })",
            "",
            "        for tt in (request.get('text_tracks') or []):",
            "            subtitles.setdefault(tt['lang'], []).append({",
            "                'ext': 'vtt',",
            "                'url': urljoin('https://vimeo.com', tt['url']),",
            "            })",
            "",
            "        thumbnails = []",
            "        if not is_live:",
            "            for key, thumb in (video_data.get('thumbs') or {}).items():",
            "                thumbnails.append({",
            "                    'id': key,",
            "                    'width': int_or_none(key),",
            "                    'url': thumb,",
            "                })",
            "            thumbnail = video_data.get('thumbnail')",
            "            if thumbnail:",
            "                thumbnails.append({",
            "                    'url': thumbnail,",
            "                })",
            "",
            "        owner = video_data.get('owner') or {}",
            "        video_uploader_url = owner.get('url')",
            "",
            "        duration = int_or_none(video_data.get('duration'))",
            "        chapter_data = try_get(config, lambda x: x['embed']['chapters']) or []",
            "        chapters = [{",
            "            'title': current_chapter.get('title'),",
            "            'start_time': current_chapter.get('timecode'),",
            "            'end_time': next_chapter.get('timecode'),",
            "        } for current_chapter, next_chapter in zip(chapter_data, chapter_data[1:] + [{'timecode': duration}])]",
            "        if chapters and chapters[0]['start_time']:  # Chapters may not start from 0",
            "            chapters[:0] = [{'title': '<Untitled>', 'start_time': 0, 'end_time': chapters[0]['start_time']}]",
            "",
            "        return {",
            "            'id': str_or_none(video_data.get('id')) or video_id,",
            "            'title': video_title,",
            "            'uploader': owner.get('name'),",
            "            'uploader_id': video_uploader_url.split('/')[-1] if video_uploader_url else None,",
            "            'uploader_url': video_uploader_url,",
            "            'thumbnails': thumbnails,",
            "            'duration': duration,",
            "            'chapters': chapters or None,",
            "            'formats': formats,",
            "            'subtitles': subtitles,",
            "            'is_live': is_live,",
            "            # Note: Bitrates are completely broken. Single m3u8 may contain entries in kbps and bps",
            "            # at the same time without actual units specified.",
            "            '_format_sort_fields': ('quality', 'res', 'fps', 'hdr:12', 'source'),",
            "        }",
            "",
            "    def _extract_original_format(self, url, video_id, unlisted_hash=None):",
            "        query = {'action': 'load_download_config'}",
            "        if unlisted_hash:",
            "            query['unlisted_hash'] = unlisted_hash",
            "        download_data = self._download_json(",
            "            url, video_id, fatal=False, query=query,",
            "            headers={'X-Requested-With': 'XMLHttpRequest'},",
            "            expected_status=(403, 404)) or {}",
            "        source_file = download_data.get('source_file')",
            "        download_url = try_get(source_file, lambda x: x['download_url'])",
            "        if download_url and not source_file.get('is_cold') and not source_file.get('is_defrosting'):",
            "            source_name = source_file.get('public_name', 'Original')",
            "            if self._is_valid_url(download_url, video_id, '%s video' % source_name):",
            "                ext = (try_get(",
            "                    source_file, lambda x: x['extension'],",
            "                    compat_str) or determine_ext(",
            "                    download_url, None) or 'mp4').lower()",
            "                return {",
            "                    'url': download_url,",
            "                    'ext': ext,",
            "                    'width': int_or_none(source_file.get('width')),",
            "                    'height': int_or_none(source_file.get('height')),",
            "                    'filesize': parse_filesize(source_file.get('size')),",
            "                    'format_id': source_name,",
            "                    'quality': 1,",
            "                }",
            "",
            "        jwt_response = self._download_json(",
            "            'https://vimeo.com/_rv/viewer', video_id, note='Downloading jwt token', fatal=False) or {}",
            "        if not jwt_response.get('jwt'):",
            "            return",
            "        headers = {'Authorization': 'jwt %s' % jwt_response['jwt']}",
            "        original_response = self._download_json(",
            "            f'https://api.vimeo.com/videos/{video_id}', video_id,",
            "            headers=headers, fatal=False, expected_status=(403, 404)) or {}",
            "        for download_data in original_response.get('download') or []:",
            "            download_url = download_data.get('link')",
            "            if not download_url or download_data.get('quality') != 'source':",
            "                continue",
            "            ext = determine_ext(parse_qs(download_url).get('filename', [''])[0].lower(), default_ext=None)",
            "            if not ext:",
            "                urlh = self._request_webpage(",
            "                    HEADRequest(download_url), video_id, fatal=False, note='Determining source extension')",
            "                ext = urlh and urlhandle_detect_ext(urlh)",
            "            return {",
            "                'url': download_url,",
            "                'ext': ext or 'unknown_video',",
            "                'format_id': download_data.get('public_name', 'Original'),",
            "                'width': int_or_none(download_data.get('width')),",
            "                'height': int_or_none(download_data.get('height')),",
            "                'fps': int_or_none(download_data.get('fps')),",
            "                'filesize': int_or_none(download_data.get('size')),",
            "                'quality': 1,",
            "            }",
            "",
            "",
            "class VimeoIE(VimeoBaseInfoExtractor):",
            "    \"\"\"Information extractor for vimeo.com.\"\"\"",
            "",
            "    # _VALID_URL matches Vimeo URLs",
            "    _VALID_URL = r'''(?x)",
            "                     https?://",
            "                         (?:",
            "                             (?:",
            "                                 www|",
            "                                 player",
            "                             )",
            "                             \\.",
            "                         )?",
            "                         vimeo\\.com/",
            "                         (?:",
            "                             (?P<u>user)|",
            "                             (?!(?:channels|album|showcase)/[^/?#]+/?(?:$|[?#])|[^/]+/review/|ondemand/)",
            "                             (?:.*?/)??",
            "                             (?P<q>",
            "                                 (?:",
            "                                     play_redirect_hls|",
            "                                     moogaloop\\.swf)\\?clip_id=",
            "                             )?",
            "                             (?:videos?/)?",
            "                         )",
            "                         (?P<id>[0-9]+)",
            "                         (?(u)",
            "                             /(?!videos|likes)[^/?#]+/?|",
            "                             (?(q)|/(?P<unlisted_hash>[\\da-f]{10}))?",
            "                         )",
            "                         (?:(?(q)[&]|(?(u)|/?)[?]).*?)?(?:[#].*)?$",
            "                 '''",
            "    IE_NAME = 'vimeo'",
            "    _EMBED_REGEX = [",
            "        # iframe",
            "        r'<iframe[^>]+?src=([\"\\'])(?P<url>(?:https?:)?//player\\.vimeo\\.com/video/\\d+.*?)\\1',",
            "        # Embedded (swf embed) Vimeo player",
            "        r'<embed[^>]+?src=([\"\\'])(?P<url>(?:https?:)?//(?:www\\.)?vimeo\\.com/moogaloop\\.swf.+?)\\1',",
            "        # Non-standard embedded Vimeo player",
            "        r'<video[^>]+src=([\"\\'])(?P<url>(?:https?:)?//(?:www\\.)?vimeo\\.com/[0-9]+)\\1',",
            "    ]",
            "    _TESTS = [",
            "        {",
            "            'url': 'http://vimeo.com/56015672#at=0',",
            "            'md5': '8879b6cc097e987f02484baf890129e5',",
            "            'info_dict': {",
            "                'id': '56015672',",
            "                'ext': 'mp4',",
            "                'title': \"youtube-dl test video '' \u00e4\u21ad\ud835\udd50-BaW jenozKc\",",
            "                'description': 'md5:2d3305bad981a06ff79f027f19865021',",
            "                'timestamp': 1355990239,",
            "                'upload_date': '20121220',",
            "                'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/user7108434',",
            "                'uploader_id': 'user7108434',",
            "                'uploader': 'Filippo Valsorda',",
            "                'duration': 10,",
            "                'license': 'by-sa',",
            "            },",
            "            'params': {",
            "                'format': 'best[protocol=https]',",
            "            },",
            "            'skip': 'No longer available'",
            "        },",
            "        {",
            "            'url': 'http://player.vimeo.com/video/54469442',",
            "            'md5': '619b811a4417aa4abe78dc653becf511',",
            "            'note': 'Videos that embed the url in the player page',",
            "            'info_dict': {",
            "                'id': '54469442',",
            "                'ext': 'mp4',",
            "                'title': 'Kathy Sierra: Building the minimum Badass User, Business of Software 2012',",
            "                'uploader': 'Business of Software',",
            "                'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/businessofsoftware',",
            "                'uploader_id': 'businessofsoftware',",
            "                'duration': 3610,",
            "                'description': None,",
            "                'thumbnail': 'https://i.vimeocdn.com/video/376682406-f34043e7b766af6bef2af81366eacd6724f3fc3173179a11a97a1e26587c9529-d_1280',",
            "            },",
            "            'params': {",
            "                'format': 'best[protocol=https]',",
            "            },",
            "        },",
            "        {",
            "            'url': 'http://vimeo.com/68375962',",
            "            'md5': 'aaf896bdb7ddd6476df50007a0ac0ae7',",
            "            'note': 'Video protected with password',",
            "            'info_dict': {",
            "                'id': '68375962',",
            "                'ext': 'mp4',",
            "                'title': 'youtube-dl password protected test video',",
            "                'timestamp': 1371200155,",
            "                'upload_date': '20130614',",
            "                'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/user18948128',",
            "                'uploader_id': 'user18948128',",
            "                'uploader': 'Jaime Marqu\u00ednez Ferr\u00e1ndiz',",
            "                'duration': 10,",
            "                'description': 'md5:6173f270cd0c0119f22817204b3eb86c',",
            "                'thumbnail': 'https://i.vimeocdn.com/video/440665496-b2c5aee2b61089442c794f64113a8e8f7d5763c3e6b3ebfaf696ae6413f8b1f4-d_1280',",
            "                'view_count': int,",
            "                'comment_count': int,",
            "                'like_count': int,",
            "            },",
            "            'params': {",
            "                'format': 'best[protocol=https]',",
            "                'videopassword': 'youtube-dl',",
            "            },",
            "        },",
            "        {",
            "            'url': 'http://vimeo.com/channels/keypeele/75629013',",
            "            'md5': '2f86a05afe9d7abc0b9126d229bbe15d',",
            "            'info_dict': {",
            "                'id': '75629013',",
            "                'ext': 'mp4',",
            "                'title': 'Key & Peele: Terrorist Interrogation',",
            "                'description': 'md5:6173f270cd0c0119f22817204b3eb86c',",
            "                'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/atencio',",
            "                'uploader_id': 'atencio',",
            "                'uploader': 'Peter Atencio',",
            "                'channel_id': 'keypeele',",
            "                'channel_url': r're:https?://(?:www\\.)?vimeo\\.com/channels/keypeele',",
            "                'timestamp': 1380339469,",
            "                'upload_date': '20130928',",
            "                'duration': 187,",
            "                'thumbnail': 'https://i.vimeocdn.com/video/450239872-a05512d9b1e55d707a7c04365c10980f327b06d966351bc403a5d5d65c95e572-d_1280',",
            "                'view_count': int,",
            "                'comment_count': int,",
            "                'like_count': int,",
            "            },",
            "            'params': {'format': 'http-1080p'},",
            "        },",
            "        {",
            "            'url': 'http://vimeo.com/76979871',",
            "            'note': 'Video with subtitles',",
            "            'info_dict': {",
            "                'id': '76979871',",
            "                'ext': 'mov',",
            "                'title': 'The New Vimeo Player (You Know, For Videos)',",
            "                'description': 'md5:2ec900bf97c3f389378a96aee11260ea',",
            "                'timestamp': 1381846109,",
            "                'upload_date': '20131015',",
            "                'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/staff',",
            "                'uploader_id': 'staff',",
            "                'uploader': 'Vimeo Staff',",
            "                'duration': 62,",
            "                'subtitles': {",
            "                    'de': [{'ext': 'vtt'}],",
            "                    'en': [{'ext': 'vtt'}],",
            "                    'es': [{'ext': 'vtt'}],",
            "                    'fr': [{'ext': 'vtt'}],",
            "                },",
            "            },",
            "            'expected_warnings': ['Ignoring subtitle tracks found in the HLS manifest'],",
            "        },",
            "        {",
            "            # from https://www.ouya.tv/game/Pier-Solar-and-the-Great-Architects/",
            "            'url': 'https://player.vimeo.com/video/98044508',",
            "            'note': 'The js code contains assignments to the same variable as the config',",
            "            'info_dict': {",
            "                'id': '98044508',",
            "                'ext': 'mp4',",
            "                'title': 'Pier Solar OUYA Official Trailer',",
            "                'uploader': 'Tulio Gon\u00e7alves',",
            "                'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/user28849593',",
            "                'uploader_id': 'user28849593',",
            "                'duration': 118,",
            "                'thumbnail': 'https://i.vimeocdn.com/video/478636036-c18440305ef3df9decfb6bf207a61fe39d2d17fa462a96f6f2d93d30492b037d-d_1280',",
            "            },",
            "        },",
            "        {",
            "            # contains original format",
            "            'url': 'https://vimeo.com/33951933',",
            "            'md5': '53c688fa95a55bf4b7293d37a89c5c53',",
            "            'info_dict': {",
            "                'id': '33951933',",
            "                'ext': 'mp4',",
            "                'title': 'FOX CLASSICS - Forever Classic ID - A Full Minute',",
            "                'uploader': 'The DMCI',",
            "                'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/dmci',",
            "                'uploader_id': 'dmci',",
            "                'timestamp': 1324343742,",
            "                'upload_date': '20111220',",
            "                'description': 'md5:ae23671e82d05415868f7ad1aec21147',",
            "                'duration': 60,",
            "                'comment_count': int,",
            "                'view_count': int,",
            "                'thumbnail': 'https://i.vimeocdn.com/video/231174622-dd07f015e9221ff529d451e1cc31c982b5d87bfafa48c4189b1da72824ee289a-d_1280',",
            "                'like_count': int,",
            "            },",
            "        },",
            "        {",
            "            'note': 'Contains original format not accessible in webpage',",
            "            'url': 'https://vimeo.com/393756517',",
            "            'md5': 'c464af248b592190a5ffbb5d33f382b0',",
            "            'info_dict': {",
            "                'id': '393756517',",
            "                'ext': 'mov',",
            "                'timestamp': 1582642091,",
            "                'uploader_id': 'frameworkla',",
            "                'title': 'Straight To Hell - Sabrina: Netflix',",
            "                'uploader': 'Framework Studio',",
            "                'description': 'md5:f2edc61af3ea7a5592681ddbb683db73',",
            "                'upload_date': '20200225',",
            "                'duration': 176,",
            "                'thumbnail': 'https://i.vimeocdn.com/video/859377297-836494a4ef775e9d4edbace83937d9ad34dc846c688c0c419c0e87f7ab06c4b3-d_1280',",
            "                'uploader_url': 'https://vimeo.com/frameworkla',",
            "            },",
            "        },",
            "        {",
            "            # only available via https://vimeo.com/channels/tributes/6213729 and",
            "            # not via https://vimeo.com/6213729",
            "            'url': 'https://vimeo.com/channels/tributes/6213729',",
            "            'info_dict': {",
            "                'id': '6213729',",
            "                'ext': 'mp4',",
            "                'title': 'Vimeo Tribute: The Shining',",
            "                'uploader': 'Casey Donahue',",
            "                'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/caseydonahue',",
            "                'uploader_id': 'caseydonahue',",
            "                'channel_url': r're:https?://(?:www\\.)?vimeo\\.com/channels/tributes',",
            "                'channel_id': 'tributes',",
            "                'timestamp': 1250886430,",
            "                'upload_date': '20090821',",
            "                'description': 'md5:bdbf314014e58713e6e5b66eb252f4a6',",
            "                'duration': 321,",
            "                'comment_count': int,",
            "                'view_count': int,",
            "                'thumbnail': 'https://i.vimeocdn.com/video/22728298-bfc22146f930de7cf497821c7b0b9f168099201ecca39b00b6bd31fcedfca7a6-d_1280',",
            "                'like_count': int,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        {",
            "            # redirects to ondemand extractor and should be passed through it",
            "            # for successful extraction",
            "            'url': 'https://vimeo.com/73445910',",
            "            'info_dict': {",
            "                'id': '73445910',",
            "                'ext': 'mp4',",
            "                'title': 'The Reluctant Revolutionary',",
            "                'uploader': '10Ft Films',",
            "                'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/tenfootfilms',",
            "                'uploader_id': 'tenfootfilms',",
            "                'description': 'md5:0fa704e05b04f91f40b7f3ca2e801384',",
            "                'upload_date': '20130830',",
            "                'timestamp': 1377853339,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'skip': 'this page is no longer available.',",
            "        },",
            "        {",
            "            'url': 'http://player.vimeo.com/video/68375962',",
            "            'md5': 'aaf896bdb7ddd6476df50007a0ac0ae7',",
            "            'info_dict': {",
            "                'id': '68375962',",
            "                'ext': 'mp4',",
            "                'title': 'youtube-dl password protected test video',",
            "                'timestamp': 1371200155,",
            "                'upload_date': '20130614',",
            "                'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/user18948128',",
            "                'uploader_id': 'user18948128',",
            "                'uploader': 'Jaime Marqu\u00ednez Ferr\u00e1ndiz',",
            "                'duration': 10,",
            "                'description': 'md5:6173f270cd0c0119f22817204b3eb86c',",
            "                'thumbnail': 'https://i.vimeocdn.com/video/440665496-b2c5aee2b61089442c794f64113a8e8f7d5763c3e6b3ebfaf696ae6413f8b1f4-d_1280',",
            "                'view_count': int,",
            "                'comment_count': int,",
            "                'like_count': int,",
            "            },",
            "            'params': {",
            "                'format': 'best[protocol=https]',",
            "                'videopassword': 'youtube-dl',",
            "            },",
            "        },",
            "        {",
            "            'url': 'http://vimeo.com/moogaloop.swf?clip_id=2539741',",
            "            'only_matching': True,",
            "        },",
            "        {",
            "            'url': 'https://vimeo.com/109815029',",
            "            'note': 'Video not completely processed, \"failed\" seed status',",
            "            'only_matching': True,",
            "        },",
            "        {",
            "            'url': 'https://vimeo.com/groups/travelhd/videos/22439234',",
            "            'only_matching': True,",
            "        },",
            "        {",
            "            'url': 'https://vimeo.com/album/2632481/video/79010983',",
            "            'only_matching': True,",
            "        },",
            "        {",
            "            'url': 'https://vimeo.com/showcase/3253534/video/119195465',",
            "            'note': 'A video in a password protected album (showcase)',",
            "            'info_dict': {",
            "                'id': '119195465',",
            "                'ext': 'mp4',",
            "                'title': \"youtube-dl test video '' \u00e4\u21ad\ud835\udd50-BaW jenozKc\",",
            "                'uploader': 'Philipp Hagemeister',",
            "                'uploader_id': 'user20132939',",
            "                'description': 'md5:fa7b6c6d8db0bdc353893df2f111855b',",
            "                'upload_date': '20150209',",
            "                'timestamp': 1423518307,",
            "                'thumbnail': 'https://i.vimeocdn.com/video/default_1280',",
            "                'duration': 10,",
            "                'like_count': int,",
            "                'uploader_url': 'https://vimeo.com/user20132939',",
            "                'view_count': int,",
            "                'comment_count': int,",
            "            },",
            "            'params': {",
            "                'format': 'best[protocol=https]',",
            "                'videopassword': 'youtube-dl',",
            "            },",
            "        },",
            "        {",
            "            # source file returns 403: Forbidden",
            "            'url': 'https://vimeo.com/7809605',",
            "            'only_matching': True,",
            "        },",
            "        {",
            "            'note': 'Direct URL with hash',",
            "            'url': 'https://vimeo.com/160743502/abd0e13fb4',",
            "            'info_dict': {",
            "                'id': '160743502',",
            "                'ext': 'mp4',",
            "                'uploader': 'Julian Tryba',",
            "                'uploader_id': 'aliniamedia',",
            "                'title': 'Harrisville New Hampshire',",
            "                'timestamp': 1459259666,",
            "                'upload_date': '20160329',",
            "                'release_timestamp': 1459259666,",
            "                'license': 'by-nc',",
            "                'duration': 159,",
            "                'comment_count': int,",
            "                'thumbnail': 'https://i.vimeocdn.com/video/562802436-585eeb13b5020c6ac0f171a2234067938098f84737787df05ff0d767f6d54ee9-d_1280',",
            "                'like_count': int,",
            "                'uploader_url': 'https://vimeo.com/aliniamedia',",
            "                'release_date': '20160329',",
            "            },",
            "            'params': {'skip_download': True},",
            "        },",
            "        {",
            "            'url': 'https://vimeo.com/138909882',",
            "            'info_dict': {",
            "                'id': '138909882',",
            "                'ext': 'mp4',",
            "                'title': 'Eastnor Castle 2015 Firework Champions - The Promo!',",
            "                'description': 'md5:5967e090768a831488f6e74b7821b3c1',",
            "                'uploader_id': 'fireworkchampions',",
            "                'uploader': 'Firework Champions',",
            "                'upload_date': '20150910',",
            "                'timestamp': 1441901895,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "                'format': 'Original',",
            "            },",
            "        },",
            "        {",
            "            'url': 'https://vimeo.com/channels/staffpicks/143603739',",
            "            'info_dict': {",
            "                'id': '143603739',",
            "                'ext': 'mp4',",
            "                'uploader': 'Karim Huu Do',",
            "                'timestamp': 1445846953,",
            "                'upload_date': '20151026',",
            "                'title': 'The Shoes - Submarine Feat. Blaine Harrison',",
            "                'uploader_id': 'karimhd',",
            "                'description': 'md5:8e2eea76de4504c2e8020a9bcfa1e843',",
            "                'channel_id': 'staffpicks',",
            "                'duration': 336,",
            "                'comment_count': int,",
            "                'view_count': int,",
            "                'thumbnail': 'https://i.vimeocdn.com/video/541243181-b593db36a16db2f0096f655da3f5a4dc46b8766d77b0f440df937ecb0c418347-d_1280',",
            "                'like_count': int,",
            "                'uploader_url': 'https://vimeo.com/karimhd',",
            "                'channel_url': 'https://vimeo.com/channels/staffpicks',",
            "            },",
            "            'params': {'skip_download': 'm3u8'},",
            "        },",
            "        {",
            "            # requires passing unlisted_hash(a52724358e) to load_download_config request",
            "            'url': 'https://vimeo.com/392479337/a52724358e',",
            "            'only_matching': True,",
            "        },",
            "        {",
            "            # similar, but all numeric: ID must be 581039021, not 9603038895",
            "            # issue #29690",
            "            'url': 'https://vimeo.com/581039021/9603038895',",
            "            'info_dict': {",
            "                'id': '581039021',",
            "                'ext': 'mp4',",
            "                'timestamp': 1627621014,",
            "                'release_timestamp': 1627621014,",
            "                'duration': 976,",
            "                'comment_count': int,",
            "                'thumbnail': 'https://i.vimeocdn.com/video/1202249320-4ddb2c30398c0dc0ee059172d1bd5ea481ad12f0e0e3ad01d2266f56c744b015-d_1280',",
            "                'like_count': int,",
            "                'uploader_url': 'https://vimeo.com/txwestcapital',",
            "                'release_date': '20210730',",
            "                'uploader': 'Christopher Inks',",
            "                'title': 'Thursday, July 29, 2021 BMA Evening Video Update',",
            "                'uploader_id': 'txwestcapital',",
            "                'upload_date': '20210730',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        {",
            "            # user playlist alias -> https://vimeo.com/258705797",
            "            'url': 'https://vimeo.com/user26785108/newspiritualguide',",
            "            'only_matching': True,",
            "        },",
            "        # https://gettingthingsdone.com/workflowmap/",
            "        # vimeo embed with check-password page protected by Referer header",
            "    ]",
            "",
            "    @classmethod",
            "    def _extract_embed_urls(cls, url, webpage):",
            "        for embed_url in super()._extract_embed_urls(url, webpage):",
            "            yield cls._smuggle_referrer(embed_url, url)",
            "",
            "    @classmethod",
            "    def _extract_url(cls, url, webpage):",
            "        return next(cls._extract_embed_urls(url, webpage), None)",
            "",
            "    def _verify_player_video_password(self, url, video_id, headers):",
            "        password = self._get_video_password()",
            "        data = urlencode_postdata({",
            "            'password': base64.b64encode(password.encode()),",
            "        })",
            "        headers = merge_dicts(headers, {",
            "            'Content-Type': 'application/x-www-form-urlencoded',",
            "        })",
            "        checked = self._download_json(",
            "            f'{compat_urlparse.urlsplit(url)._replace(query=None).geturl()}/check-password',",
            "            video_id, 'Verifying the password', data=data, headers=headers)",
            "        if checked is False:",
            "            raise ExtractorError('Wrong video password', expected=True)",
            "        return checked",
            "",
            "    def _extract_from_api(self, video_id, unlisted_hash=None):",
            "        token = self._download_json(",
            "            'https://vimeo.com/_rv/jwt', video_id, headers={",
            "                'X-Requested-With': 'XMLHttpRequest'",
            "            })['token']",
            "        api_url = 'https://api.vimeo.com/videos/' + video_id",
            "        if unlisted_hash:",
            "            api_url += ':' + unlisted_hash",
            "        video = self._download_json(",
            "            api_url, video_id, headers={",
            "                'Authorization': 'jwt ' + token,",
            "            }, query={",
            "                'fields': 'config_url,created_time,description,license,metadata.connections.comments.total,metadata.connections.likes.total,release_time,stats.plays',",
            "            })",
            "        info = self._parse_config(self._download_json(",
            "            video['config_url'], video_id), video_id)",
            "        get_timestamp = lambda x: parse_iso8601(video.get(x + '_time'))",
            "        info.update({",
            "            'description': video.get('description'),",
            "            'license': video.get('license'),",
            "            'release_timestamp': get_timestamp('release'),",
            "            'timestamp': get_timestamp('created'),",
            "            'view_count': int_or_none(try_get(video, lambda x: x['stats']['plays'])),",
            "        })",
            "        connections = try_get(",
            "            video, lambda x: x['metadata']['connections'], dict) or {}",
            "        for k in ('comment', 'like'):",
            "            info[k + '_count'] = int_or_none(try_get(connections, lambda x: x[k + 's']['total']))",
            "        return info",
            "",
            "    def _try_album_password(self, url):",
            "        album_id = self._search_regex(",
            "            r'vimeo\\.com/(?:album|showcase)/([^/]+)', url, 'album id', default=None)",
            "        if not album_id:",
            "            return",
            "        viewer = self._download_json(",
            "            'https://vimeo.com/_rv/viewer', album_id, fatal=False)",
            "        if not viewer:",
            "            webpage = self._download_webpage(url, album_id)",
            "            viewer = self._parse_json(self._search_regex(",
            "                r'bootstrap_data\\s*=\\s*({.+?})</script>',",
            "                webpage, 'bootstrap data'), album_id)['viewer']",
            "        jwt = viewer['jwt']",
            "        album = self._download_json(",
            "            'https://api.vimeo.com/albums/' + album_id,",
            "            album_id, headers={'Authorization': 'jwt ' + jwt},",
            "            query={'fields': 'description,name,privacy'})",
            "        if try_get(album, lambda x: x['privacy']['view']) == 'password':",
            "            password = self.get_param('videopassword')",
            "            if not password:",
            "                raise ExtractorError(",
            "                    'This album is protected by a password, use the --video-password option',",
            "                    expected=True)",
            "            self._set_vimeo_cookie('vuid', viewer['vuid'])",
            "            try:",
            "                self._download_json(",
            "                    'https://vimeo.com/showcase/%s/auth' % album_id,",
            "                    album_id, 'Verifying the password', data=urlencode_postdata({",
            "                        'password': password,",
            "                        'token': viewer['xsrft'],",
            "                    }), headers={",
            "                        'X-Requested-With': 'XMLHttpRequest',",
            "                    })",
            "            except ExtractorError as e:",
            "                if isinstance(e.cause, HTTPError) and e.cause.status == 401:",
            "                    raise ExtractorError('Wrong password', expected=True)",
            "                raise",
            "",
            "    def _real_extract(self, url):",
            "        url, data, headers = self._unsmuggle_headers(url)",
            "        if 'Referer' not in headers:",
            "            headers['Referer'] = url",
            "",
            "        # Extract ID from URL",
            "        mobj = self._match_valid_url(url).groupdict()",
            "        video_id, unlisted_hash = mobj['id'], mobj.get('unlisted_hash')",
            "        if unlisted_hash:",
            "            return self._extract_from_api(video_id, unlisted_hash)",
            "",
            "        if any(p in url for p in ('play_redirect_hls', 'moogaloop.swf')):",
            "            url = 'https://vimeo.com/' + video_id",
            "",
            "        self._try_album_password(url)",
            "        try:",
            "            # Retrieve video webpage to extract further information",
            "            webpage, urlh = self._download_webpage_handle(",
            "                url, video_id, headers=headers)",
            "            redirect_url = urlh.url",
            "        except ExtractorError as ee:",
            "            if isinstance(ee.cause, HTTPError) and ee.cause.status == 403:",
            "                errmsg = ee.cause.response.read()",
            "                if b'Because of its privacy settings, this video cannot be played here' in errmsg:",
            "                    raise ExtractorError(",
            "                        'Cannot download embed-only video without embedding '",
            "                        'URL. Please call yt-dlp with the URL of the page '",
            "                        'that embeds this video.',",
            "                        expected=True)",
            "            raise",
            "",
            "        if '://player.vimeo.com/video/' in url:",
            "            config = self._search_json(",
            "                r'\\b(?:playerC|c)onfig\\s*=', webpage, 'info section', video_id)",
            "            if config.get('view') == 4:",
            "                config = self._verify_player_video_password(",
            "                    redirect_url, video_id, headers)",
            "            return self._parse_config(config, video_id)",
            "",
            "        if re.search(r'<form[^>]+?id=\"pw_form\"', webpage):",
            "            video_password = self._get_video_password()",
            "            token, vuid = self._extract_xsrft_and_vuid(webpage)",
            "            webpage = self._verify_video_password(",
            "                redirect_url, video_id, video_password, token, vuid)",
            "",
            "        vimeo_config = self._extract_vimeo_config(webpage, video_id, default=None)",
            "        if vimeo_config:",
            "            seed_status = vimeo_config.get('seed_status') or {}",
            "            if seed_status.get('state') == 'failed':",
            "                raise ExtractorError(",
            "                    '%s said: %s' % (self.IE_NAME, seed_status['title']),",
            "                    expected=True)",
            "",
            "        cc_license = None",
            "        timestamp = None",
            "        video_description = None",
            "        info_dict = {}",
            "        config_url = None",
            "",
            "        channel_id = self._search_regex(",
            "            r'vimeo\\.com/channels/([^/]+)', url, 'channel id', default=None)",
            "        if channel_id:",
            "            config_url = self._html_search_regex(",
            "                r'\\bdata-config-url=\"([^\"]+)\"', webpage, 'config URL', default=None)",
            "            video_description = clean_html(get_element_by_class('description', webpage))",
            "            info_dict.update({",
            "                'channel_id': channel_id,",
            "                'channel_url': 'https://vimeo.com/channels/' + channel_id,",
            "            })",
            "        if not config_url:",
            "            page_config = self._parse_json(self._search_regex(",
            "                r'vimeo\\.(?:clip|vod_title)_page_config\\s*=\\s*({.+?});',",
            "                webpage, 'page config', default='{}'), video_id, fatal=False)",
            "            if not page_config:",
            "                return self._extract_from_api(video_id)",
            "            config_url = page_config['player']['config_url']",
            "            cc_license = page_config.get('cc_license')",
            "            clip = page_config.get('clip') or {}",
            "            timestamp = clip.get('uploaded_on')",
            "            video_description = clean_html(",
            "                clip.get('description') or page_config.get('description_html_escaped'))",
            "        config = self._download_json(config_url, video_id)",
            "        video = config.get('video') or {}",
            "        vod = video.get('vod') or {}",
            "",
            "        def is_rented():",
            "            if '>You rented this title.<' in webpage:",
            "                return True",
            "            if try_get(config, lambda x: x['user']['purchased']):",
            "                return True",
            "            for purchase_option in (vod.get('purchase_options') or []):",
            "                if purchase_option.get('purchased'):",
            "                    return True",
            "                label = purchase_option.get('label_string')",
            "                if label and (label.startswith('You rented this') or label.endswith(' remaining')):",
            "                    return True",
            "            return False",
            "",
            "        if is_rented() and vod.get('is_trailer'):",
            "            feature_id = vod.get('feature_id')",
            "            if feature_id and not data.get('force_feature_id', False):",
            "                return self.url_result(smuggle_url(",
            "                    'https://player.vimeo.com/player/%s' % feature_id,",
            "                    {'force_feature_id': True}), 'Vimeo')",
            "",
            "        if not video_description:",
            "            video_description = self._html_search_regex(",
            "                r'(?s)<div\\s+class=\"[^\"]*description[^\"]*\"[^>]*>(.*?)</div>',",
            "                webpage, 'description', default=None)",
            "        if not video_description:",
            "            video_description = self._html_search_meta(",
            "                ['description', 'og:description', 'twitter:description'],",
            "                webpage, default=None)",
            "        if not video_description:",
            "            self.report_warning('Cannot find video description')",
            "",
            "        if not timestamp:",
            "            timestamp = self._search_regex(",
            "                r'<time[^>]+datetime=\"([^\"]+)\"', webpage,",
            "                'timestamp', default=None)",
            "",
            "        view_count = int_or_none(self._search_regex(r'UserPlays:(\\d+)', webpage, 'view count', default=None))",
            "        like_count = int_or_none(self._search_regex(r'UserLikes:(\\d+)', webpage, 'like count', default=None))",
            "        comment_count = int_or_none(self._search_regex(r'UserComments:(\\d+)', webpage, 'comment count', default=None))",
            "",
            "        formats = []",
            "",
            "        source_format = self._extract_original_format(",
            "            'https://vimeo.com/' + video_id, video_id, video.get('unlisted_hash'))",
            "        if source_format:",
            "            formats.append(source_format)",
            "",
            "        info_dict_config = self._parse_config(config, video_id)",
            "        formats.extend(info_dict_config['formats'])",
            "        info_dict['_format_sort_fields'] = info_dict_config['_format_sort_fields']",
            "",
            "        json_ld = self._search_json_ld(webpage, video_id, default={})",
            "",
            "        if not cc_license:",
            "            cc_license = self._search_regex(",
            "                r'<link[^>]+rel=[\"\\']license[\"\\'][^>]+href=([\"\\'])(?P<license>(?:(?!\\1).)+)\\1',",
            "                webpage, 'license', default=None, group='license')",
            "",
            "        info_dict.update({",
            "            'formats': formats,",
            "            'timestamp': unified_timestamp(timestamp),",
            "            'description': video_description,",
            "            'webpage_url': url,",
            "            'view_count': view_count,",
            "            'like_count': like_count,",
            "            'comment_count': comment_count,",
            "            'license': cc_license,",
            "        })",
            "",
            "        return merge_dicts(info_dict, info_dict_config, json_ld)",
            "",
            "",
            "class VimeoOndemandIE(VimeoIE):  # XXX: Do not subclass from concrete IE",
            "    IE_NAME = 'vimeo:ondemand'",
            "    _VALID_URL = r'https?://(?:www\\.)?vimeo\\.com/ondemand/(?:[^/]+/)?(?P<id>[^/?#&]+)'",
            "    _TESTS = [{",
            "        # ondemand video not available via https://vimeo.com/id",
            "        'url': 'https://vimeo.com/ondemand/20704',",
            "        'md5': 'c424deda8c7f73c1dfb3edd7630e2f35',",
            "        'info_dict': {",
            "            'id': '105442900',",
            "            'ext': 'mp4',",
            "            'title': '\u05d4\u05de\u05e2\u05d1\u05d3\u05d4 - \u05d1\u05de\u05d0\u05d9 \u05d9\u05d5\u05ea\u05dd \u05e4\u05dc\u05d3\u05de\u05df',",
            "            'uploader': '\u05d2\u05dd \u05e1\u05e8\u05d8\u05d9\u05dd',",
            "            'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/gumfilms',",
            "            'uploader_id': 'gumfilms',",
            "            'description': 'md5:aeeba3dbd4d04b0fa98a4fdc9c639998',",
            "            'upload_date': '20140906',",
            "            'timestamp': 1410032453,",
            "            'thumbnail': 'https://i.vimeocdn.com/video/488238335-d7bf151c364cff8d467f1b73784668fe60aae28a54573a35d53a1210ae283bd8-d_1280',",
            "            'comment_count': int,",
            "            'license': 'https://creativecommons.org/licenses/by-nc-nd/3.0/',",
            "            'duration': 53,",
            "            'view_count': int,",
            "            'like_count': int,",
            "        },",
            "        'params': {",
            "            'format': 'best[protocol=https]',",
            "        },",
            "        'expected_warnings': ['Unable to download JSON metadata'],",
            "    }, {",
            "        # requires Referer to be passed along with og:video:url",
            "        'url': 'https://vimeo.com/ondemand/36938/126682985',",
            "        'info_dict': {",
            "            'id': '126584684',",
            "            'ext': 'mp4',",
            "            'title': 'R\u00e4vlock, r\u00e4tt l\u00e4te p\u00e5 r\u00e4tt plats',",
            "            'uploader': 'Lindroth & Norin',",
            "            'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/lindrothnorin',",
            "            'uploader_id': 'lindrothnorin',",
            "            'description': 'md5:c3c46a90529612c8279fb6af803fc0df',",
            "            'upload_date': '20150502',",
            "            'timestamp': 1430586422,",
            "            'duration': 121,",
            "            'comment_count': int,",
            "            'view_count': int,",
            "            'thumbnail': 'https://i.vimeocdn.com/video/517077723-7066ae1d9a79d3eb361334fb5d58ec13c8f04b52f8dd5eadfbd6fb0bcf11f613-d_1280',",
            "            'like_count': int,",
            "        },",
            "        'params': {",
            "            'skip_download': True,",
            "        },",
            "        'expected_warnings': ['Unable to download JSON metadata'],",
            "    }, {",
            "        'url': 'https://vimeo.com/ondemand/nazmaalik',",
            "        'only_matching': True,",
            "    }, {",
            "        'url': 'https://vimeo.com/ondemand/141692381',",
            "        'only_matching': True,",
            "    }, {",
            "        'url': 'https://vimeo.com/ondemand/thelastcolony/150274832',",
            "        'only_matching': True,",
            "    }]",
            "",
            "",
            "class VimeoChannelIE(VimeoBaseInfoExtractor):",
            "    IE_NAME = 'vimeo:channel'",
            "    _VALID_URL = r'https://vimeo\\.com/channels/(?P<id>[^/?#]+)/?(?:$|[?#])'",
            "    _MORE_PAGES_INDICATOR = r'<a.+?rel=\"next\"'",
            "    _TITLE = None",
            "    _TITLE_RE = r'<link rel=\"alternate\"[^>]+?title=\"(.*?)\"'",
            "    _TESTS = [{",
            "        'url': 'https://vimeo.com/channels/tributes',",
            "        'info_dict': {",
            "            'id': 'tributes',",
            "            'title': 'Vimeo Tributes',",
            "        },",
            "        'playlist_mincount': 22,",
            "    }]",
            "    _BASE_URL_TEMPL = 'https://vimeo.com/channels/%s'",
            "",
            "    def _page_url(self, base_url, pagenum):",
            "        return '%s/videos/page:%d/' % (base_url, pagenum)",
            "",
            "    def _extract_list_title(self, webpage):",
            "        return self._TITLE or self._html_search_regex(",
            "            self._TITLE_RE, webpage, 'list title', fatal=False)",
            "",
            "    def _title_and_entries(self, list_id, base_url):",
            "        for pagenum in itertools.count(1):",
            "            page_url = self._page_url(base_url, pagenum)",
            "            webpage = self._download_webpage(",
            "                page_url, list_id,",
            "                'Downloading page %s' % pagenum)",
            "",
            "            if pagenum == 1:",
            "                yield self._extract_list_title(webpage)",
            "",
            "            # Try extracting href first since not all videos are available via",
            "            # short https://vimeo.com/id URL (e.g. https://vimeo.com/channels/tributes/6213729)",
            "            clips = re.findall(",
            "                r'id=\"clip_(\\d+)\"[^>]*>\\s*<a[^>]+href=\"(/(?:[^/]+/)*\\1)(?:[^>]+\\btitle=\"([^\"]+)\")?', webpage)",
            "            if clips:",
            "                for video_id, video_url, video_title in clips:",
            "                    yield self.url_result(",
            "                        compat_urlparse.urljoin(base_url, video_url),",
            "                        VimeoIE.ie_key(), video_id=video_id, video_title=video_title)",
            "            # More relaxed fallback",
            "            else:",
            "                for video_id in re.findall(r'id=[\"\\']clip_(\\d+)', webpage):",
            "                    yield self.url_result(",
            "                        'https://vimeo.com/%s' % video_id,",
            "                        VimeoIE.ie_key(), video_id=video_id)",
            "",
            "            if re.search(self._MORE_PAGES_INDICATOR, webpage, re.DOTALL) is None:",
            "                break",
            "",
            "    def _extract_videos(self, list_id, base_url):",
            "        title_and_entries = self._title_and_entries(list_id, base_url)",
            "        list_title = next(title_and_entries)",
            "        return self.playlist_result(title_and_entries, list_id, list_title)",
            "",
            "    def _real_extract(self, url):",
            "        channel_id = self._match_id(url)",
            "        return self._extract_videos(channel_id, self._BASE_URL_TEMPL % channel_id)",
            "",
            "",
            "class VimeoUserIE(VimeoChannelIE):  # XXX: Do not subclass from concrete IE",
            "    IE_NAME = 'vimeo:user'",
            "    _VALID_URL = r'https://vimeo\\.com/(?!(?:[0-9]+|watchlater)(?:$|[?#/]))(?P<id>[^/]+)(?:/videos)?/?(?:$|[?#])'",
            "    _TITLE_RE = r'<a[^>]+?class=\"user\">([^<>]+?)</a>'",
            "    _TESTS = [{",
            "        'url': 'https://vimeo.com/nkistudio/videos',",
            "        'info_dict': {",
            "            'title': 'Nki',",
            "            'id': 'nkistudio',",
            "        },",
            "        'playlist_mincount': 66,",
            "    }, {",
            "        'url': 'https://vimeo.com/nkistudio/',",
            "        'only_matching': True,",
            "    }]",
            "    _BASE_URL_TEMPL = 'https://vimeo.com/%s'",
            "",
            "",
            "class VimeoAlbumIE(VimeoBaseInfoExtractor):",
            "    IE_NAME = 'vimeo:album'",
            "    _VALID_URL = r'https://vimeo\\.com/(?:album|showcase)/(?P<id>\\d+)(?:$|[?#]|/(?!video))'",
            "    _TITLE_RE = r'<header id=\"page_header\">\\n\\s*<h1>(.*?)</h1>'",
            "    _TESTS = [{",
            "        'url': 'https://vimeo.com/album/2632481',",
            "        'info_dict': {",
            "            'id': '2632481',",
            "            'title': 'Staff Favorites: November 2013',",
            "        },",
            "        'playlist_mincount': 13,",
            "    }, {",
            "        'note': 'Password-protected album',",
            "        'url': 'https://vimeo.com/album/3253534',",
            "        'info_dict': {",
            "            'title': 'test',",
            "            'id': '3253534',",
            "        },",
            "        'playlist_count': 1,",
            "        'params': {",
            "            'videopassword': 'youtube-dl',",
            "        }",
            "    }]",
            "    _PAGE_SIZE = 100",
            "",
            "    def _fetch_page(self, album_id, authorization, hashed_pass, page):",
            "        api_page = page + 1",
            "        query = {",
            "            'fields': 'link,uri',",
            "            'page': api_page,",
            "            'per_page': self._PAGE_SIZE,",
            "        }",
            "        if hashed_pass:",
            "            query['_hashed_pass'] = hashed_pass",
            "        try:",
            "            videos = self._download_json(",
            "                'https://api.vimeo.com/albums/%s/videos' % album_id,",
            "                album_id, 'Downloading page %d' % api_page, query=query, headers={",
            "                    'Authorization': 'jwt ' + authorization,",
            "                })['data']",
            "        except ExtractorError as e:",
            "            if isinstance(e.cause, HTTPError) and e.cause.status == 400:",
            "                return",
            "        for video in videos:",
            "            link = video.get('link')",
            "            if not link:",
            "                continue",
            "            uri = video.get('uri')",
            "            video_id = self._search_regex(r'/videos/(\\d+)', uri, 'video_id', default=None) if uri else None",
            "            yield self.url_result(link, VimeoIE.ie_key(), video_id)",
            "",
            "    def _real_extract(self, url):",
            "        album_id = self._match_id(url)",
            "        viewer = self._download_json(",
            "            'https://vimeo.com/_rv/viewer', album_id, fatal=False)",
            "        if not viewer:",
            "            webpage = self._download_webpage(url, album_id)",
            "            viewer = self._parse_json(self._search_regex(",
            "                r'bootstrap_data\\s*=\\s*({.+?})</script>',",
            "                webpage, 'bootstrap data'), album_id)['viewer']",
            "        jwt = viewer['jwt']",
            "        album = self._download_json(",
            "            'https://api.vimeo.com/albums/' + album_id,",
            "            album_id, headers={'Authorization': 'jwt ' + jwt},",
            "            query={'fields': 'description,name,privacy'})",
            "        hashed_pass = None",
            "        if try_get(album, lambda x: x['privacy']['view']) == 'password':",
            "            password = self.get_param('videopassword')",
            "            if not password:",
            "                raise ExtractorError(",
            "                    'This album is protected by a password, use the --video-password option',",
            "                    expected=True)",
            "            self._set_vimeo_cookie('vuid', viewer['vuid'])",
            "            try:",
            "                hashed_pass = self._download_json(",
            "                    'https://vimeo.com/showcase/%s/auth' % album_id,",
            "                    album_id, 'Verifying the password', data=urlencode_postdata({",
            "                        'password': password,",
            "                        'token': viewer['xsrft'],",
            "                    }), headers={",
            "                        'X-Requested-With': 'XMLHttpRequest',",
            "                    })['hashed_pass']",
            "            except ExtractorError as e:",
            "                if isinstance(e.cause, HTTPError) and e.cause.status == 401:",
            "                    raise ExtractorError('Wrong password', expected=True)",
            "                raise",
            "        entries = OnDemandPagedList(functools.partial(",
            "            self._fetch_page, album_id, jwt, hashed_pass), self._PAGE_SIZE)",
            "        return self.playlist_result(",
            "            entries, album_id, album.get('name'), album.get('description'))",
            "",
            "",
            "class VimeoGroupsIE(VimeoChannelIE):  # XXX: Do not subclass from concrete IE",
            "    IE_NAME = 'vimeo:group'",
            "    _VALID_URL = r'https://vimeo\\.com/groups/(?P<id>[^/]+)(?:/(?!videos?/\\d+)|$)'",
            "    _TESTS = [{",
            "        'url': 'https://vimeo.com/groups/meetup',",
            "        'info_dict': {",
            "            'id': 'meetup',",
            "            'title': 'Vimeo Meetup!',",
            "        },",
            "        'playlist_mincount': 27,",
            "    }]",
            "    _BASE_URL_TEMPL = 'https://vimeo.com/groups/%s'",
            "",
            "",
            "class VimeoReviewIE(VimeoBaseInfoExtractor):",
            "    IE_NAME = 'vimeo:review'",
            "    IE_DESC = 'Review pages on vimeo'",
            "    _VALID_URL = r'(?P<url>https://vimeo\\.com/[^/]+/review/(?P<id>[^/]+)/[0-9a-f]{10})'",
            "    _TESTS = [{",
            "        'url': 'https://vimeo.com/user21297594/review/75524534/3c257a1b5d',",
            "        'md5': 'c507a72f780cacc12b2248bb4006d253',",
            "        'info_dict': {",
            "            'id': '75524534',",
            "            'ext': 'mp4',",
            "            'title': \"DICK HARDWICK 'Comedian'\",",
            "            'uploader': 'Richard Hardwick',",
            "            'uploader_id': 'user21297594',",
            "            'description': \"Comedian Dick Hardwick's five minute demo filmed in front of a live theater audience.\\nEdit by Doug Mattocks\",",
            "            'duration': 304,",
            "            'thumbnail': 'https://i.vimeocdn.com/video/450115033-43303819d9ebe24c2630352e18b7056d25197d09b3ae901abdac4c4f1d68de71-d_1280',",
            "            'uploader_url': 'https://vimeo.com/user21297594',",
            "        },",
            "    }, {",
            "        'note': 'video player needs Referer',",
            "        'url': 'https://vimeo.com/user22258446/review/91613211/13f927e053',",
            "        'md5': '6295fdab8f4bf6a002d058b2c6dce276',",
            "        'info_dict': {",
            "            'id': '91613211',",
            "            'ext': 'mp4',",
            "            'title': 're:(?i)^Death by dogma versus assembling agile . Sander Hoogendoorn',",
            "            'uploader': 'DevWeek Events',",
            "            'duration': 2773,",
            "            'thumbnail': r're:^https?://.*\\.jpg$',",
            "            'uploader_id': 'user22258446',",
            "        },",
            "        'skip': 'video gone',",
            "    }, {",
            "        'note': 'Password protected',",
            "        'url': 'https://vimeo.com/user37284429/review/138823582/c4d865efde',",
            "        'info_dict': {",
            "            'id': '138823582',",
            "            'ext': 'mp4',",
            "            'title': 'EFFICIENT PICKUP MASTERCLASS MODULE 1',",
            "            'uploader': 'TMB',",
            "            'uploader_id': 'user37284429',",
            "        },",
            "        'params': {",
            "            'videopassword': 'holygrail',",
            "        },",
            "        'skip': 'video gone',",
            "    }]",
            "",
            "    def _real_extract(self, url):",
            "        page_url, video_id = self._match_valid_url(url).groups()",
            "        data = self._download_json(",
            "            page_url.replace('/review/', '/review/data/'), video_id)",
            "        if data.get('isLocked') is True:",
            "            video_password = self._get_video_password()",
            "            viewer = self._download_json(",
            "                'https://vimeo.com/_rv/viewer', video_id)",
            "            webpage = self._verify_video_password(",
            "                'https://vimeo.com/' + video_id, video_id,",
            "                video_password, viewer['xsrft'], viewer['vuid'])",
            "            clip_page_config = self._parse_json(self._search_regex(",
            "                r'window\\.vimeo\\.clip_page_config\\s*=\\s*({.+?});',",
            "                webpage, 'clip page config'), video_id)",
            "            config_url = clip_page_config['player']['config_url']",
            "            clip_data = clip_page_config.get('clip') or {}",
            "        else:",
            "            clip_data = data['clipData']",
            "            config_url = clip_data['configUrl']",
            "        config = self._download_json(config_url, video_id)",
            "        info_dict = self._parse_config(config, video_id)",
            "        source_format = self._extract_original_format(",
            "            page_url + '/action', video_id)",
            "        if source_format:",
            "            info_dict['formats'].append(source_format)",
            "        info_dict['description'] = clean_html(clip_data.get('description'))",
            "        return info_dict",
            "",
            "",
            "class VimeoWatchLaterIE(VimeoChannelIE):  # XXX: Do not subclass from concrete IE",
            "    IE_NAME = 'vimeo:watchlater'",
            "    IE_DESC = 'Vimeo watch later list, \":vimeowatchlater\" keyword (requires authentication)'",
            "    _VALID_URL = r'https://vimeo\\.com/(?:home/)?watchlater|:vimeowatchlater'",
            "    _TITLE = 'Watch Later'",
            "    _LOGIN_REQUIRED = True",
            "    _TESTS = [{",
            "        'url': 'https://vimeo.com/watchlater',",
            "        'only_matching': True,",
            "    }]",
            "",
            "    def _page_url(self, base_url, pagenum):",
            "        url = '%s/page:%d/' % (base_url, pagenum)",
            "        request = Request(url)",
            "        # Set the header to get a partial html page with the ids,",
            "        # the normal page doesn't contain them.",
            "        request.headers['X-Requested-With'] = 'XMLHttpRequest'",
            "        return request",
            "",
            "    def _real_extract(self, url):",
            "        return self._extract_videos('watchlater', 'https://vimeo.com/watchlater')",
            "",
            "",
            "class VimeoLikesIE(VimeoChannelIE):  # XXX: Do not subclass from concrete IE",
            "    _VALID_URL = r'https://(?:www\\.)?vimeo\\.com/(?P<id>[^/]+)/likes/?(?:$|[?#]|sort:)'",
            "    IE_NAME = 'vimeo:likes'",
            "    IE_DESC = 'Vimeo user likes'",
            "    _TESTS = [{",
            "        'url': 'https://vimeo.com/user755559/likes/',",
            "        'playlist_mincount': 293,",
            "        'info_dict': {",
            "            'id': 'user755559',",
            "            'title': 'urza\u2019s Likes',",
            "        },",
            "    }, {",
            "        'url': 'https://vimeo.com/stormlapse/likes',",
            "        'only_matching': True,",
            "    }]",
            "",
            "    def _page_url(self, base_url, pagenum):",
            "        return '%s/page:%d/' % (base_url, pagenum)",
            "",
            "    def _real_extract(self, url):",
            "        user_id = self._match_id(url)",
            "        return self._extract_videos(user_id, 'https://vimeo.com/%s/likes' % user_id)",
            "",
            "",
            "class VHXEmbedIE(VimeoBaseInfoExtractor):",
            "    IE_NAME = 'vhx:embed'",
            "    _VALID_URL = r'https?://embed\\.vhx\\.tv/videos/(?P<id>\\d+)'",
            "    _EMBED_REGEX = [r'<iframe[^>]+src=\"(?P<url>https?://embed\\.vhx\\.tv/videos/\\d+[^\"]*)\"']",
            "",
            "    @classmethod",
            "    def _extract_embed_urls(cls, url, webpage):",
            "        for embed_url in super()._extract_embed_urls(url, webpage):",
            "            yield cls._smuggle_referrer(embed_url, url)",
            "",
            "    def _real_extract(self, url):",
            "        video_id = self._match_id(url)",
            "        url, _, headers = self._unsmuggle_headers(url)",
            "        webpage = self._download_webpage(url, video_id, headers=headers)",
            "        config_url = self._parse_json(self._search_regex(",
            "            r'window\\.OTTData\\s*=\\s*({.+})', webpage,",
            "            'ott data'), video_id, js_to_json)['config_url']",
            "        config = self._download_json(config_url, video_id)",
            "        info = self._parse_config(config, video_id)",
            "        info['id'] = video_id",
            "        return info",
            "",
            "",
            "class VimeoProIE(VimeoBaseInfoExtractor):",
            "    IE_NAME = 'vimeo:pro'",
            "    _VALID_URL = r'https?://(?:www\\.)?vimeopro\\.com/[^/?#]+/(?P<slug>[^/?#]+)(?:(?:/videos?/(?P<id>[0-9]+)))?'",
            "    _TESTS = [{",
            "        # Vimeo URL derived from video_id",
            "        'url': 'http://vimeopro.com/openstreetmapus/state-of-the-map-us-2013/video/68093876',",
            "        'md5': '3b5ca6aa22b60dfeeadf50b72e44ed82',",
            "        'note': 'Vimeo Pro video (#1197)',",
            "        'info_dict': {",
            "            'id': '68093876',",
            "            'ext': 'mp4',",
            "            'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/openstreetmapus',",
            "            'uploader_id': 'openstreetmapus',",
            "            'uploader': 'OpenStreetMap US',",
            "            'title': 'Andy Allan - Putting the Carto into OpenStreetMap Cartography',",
            "            'description': 'md5:2c362968038d4499f4d79f88458590c1',",
            "            'duration': 1595,",
            "            'upload_date': '20130610',",
            "            'timestamp': 1370893156,",
            "            'license': 'by',",
            "            'thumbnail': 'https://i.vimeocdn.com/video/440260469-19b0d92fca3bd84066623b53f1eb8aaa3980c6c809e2d67b6b39ab7b4a77a344-d_960',",
            "            'view_count': int,",
            "            'comment_count': int,",
            "            'like_count': int,",
            "            'tags': 'count:1',",
            "        },",
            "        'params': {",
            "            'format': 'best[protocol=https]',",
            "        },",
            "    }, {",
            "        # password-protected VimeoPro page with Vimeo player embed",
            "        'url': 'https://vimeopro.com/cadfem/simulation-conference-mechanische-systeme-in-perfektion',",
            "        'info_dict': {",
            "            'id': '764543723',",
            "            'ext': 'mp4',",
            "            'title': 'Mechanische Systeme in Perfektion: Realit\u00e4t erfassen, Innovation treiben',",
            "            'thumbnail': 'https://i.vimeocdn.com/video/1543784598-a1a750494a485e601110136b9fe11e28c2131942452b3a5d30391cb3800ca8fd-d_1280',",
            "            'description': 'md5:2a9d195cd1b0f6f79827107dc88c2420',",
            "            'uploader': 'CADFEM',",
            "            'uploader_id': 'cadfem',",
            "            'uploader_url': 'https://vimeo.com/cadfem',",
            "            'duration': 12505,",
            "            'chapters': 'count:10',",
            "        },",
            "        'params': {",
            "            'videopassword': 'Conference2022',",
            "            'skip_download': True,",
            "        },",
            "    }]",
            "",
            "    def _real_extract(self, url):",
            "        display_id, video_id = self._match_valid_url(url).group('slug', 'id')",
            "        if video_id:",
            "            display_id = video_id",
            "        webpage = self._download_webpage(url, display_id)",
            "",
            "        password_form = self._search_regex(",
            "            r'(?is)<form[^>]+?method=[\"\\']post[\"\\'][^>]*>(.+?password.+?)</form>',",
            "            webpage, 'password form', default=None)",
            "        if password_form:",
            "            try:",
            "                webpage = self._download_webpage(url, display_id, data=urlencode_postdata({",
            "                    'password': self._get_video_password(),",
            "                    **self._hidden_inputs(password_form),",
            "                }), note='Logging in with video password')",
            "            except ExtractorError as e:",
            "                if isinstance(e.cause, HTTPError) and e.cause.status == 418:",
            "                    raise ExtractorError('Wrong video password', expected=True)",
            "                raise",
            "",
            "        description = None",
            "        # even if we have video_id, some videos require player URL with portfolio_id query param",
            "        # https://github.com/ytdl-org/youtube-dl/issues/20070",
            "        vimeo_url = VimeoIE._extract_url(url, webpage)",
            "        if vimeo_url:",
            "            description = self._html_search_meta('description', webpage, default=None)",
            "        elif video_id:",
            "            vimeo_url = f'https://vimeo.com/{video_id}'",
            "        else:",
            "            raise ExtractorError(",
            "                'No Vimeo embed or video ID could be found in VimeoPro page', expected=True)",
            "",
            "        return self.url_result(vimeo_url, VimeoIE, video_id, url_transparent=True,",
            "                               description=description)"
        ],
        "afterPatchFile": [
            "import base64",
            "import functools",
            "import re",
            "import itertools",
            "",
            "from .common import InfoExtractor",
            "from ..compat import compat_str, compat_urlparse",
            "from ..networking import HEADRequest, Request",
            "from ..networking.exceptions import HTTPError",
            "from ..utils import (",
            "    clean_html,",
            "    determine_ext,",
            "    ExtractorError,",
            "    get_element_by_class,",
            "    js_to_json,",
            "    int_or_none,",
            "    merge_dicts,",
            "    OnDemandPagedList,",
            "    parse_filesize,",
            "    parse_iso8601,",
            "    parse_qs,",
            "    smuggle_url,",
            "    str_or_none,",
            "    try_get,",
            "    unified_timestamp,",
            "    unsmuggle_url,",
            "    urlencode_postdata,",
            "    urljoin,",
            "    urlhandle_detect_ext,",
            ")",
            "",
            "",
            "class VimeoBaseInfoExtractor(InfoExtractor):",
            "    _NETRC_MACHINE = 'vimeo'",
            "    _LOGIN_REQUIRED = False",
            "    _LOGIN_URL = 'https://vimeo.com/log_in'",
            "",
            "    @staticmethod",
            "    def _smuggle_referrer(url, referrer_url):",
            "        return smuggle_url(url, {'referer': referrer_url})",
            "",
            "    def _unsmuggle_headers(self, url):",
            "        \"\"\"@returns (url, smuggled_data, headers)\"\"\"",
            "        url, data = unsmuggle_url(url, {})",
            "        headers = self.get_param('http_headers').copy()",
            "        if 'referer' in data:",
            "            headers['Referer'] = data['referer']",
            "        return url, data, headers",
            "",
            "    def _perform_login(self, username, password):",
            "        webpage = self._download_webpage(",
            "            self._LOGIN_URL, None, 'Downloading login page')",
            "        token, vuid = self._extract_xsrft_and_vuid(webpage)",
            "        data = {",
            "            'action': 'login',",
            "            'email': username,",
            "            'password': password,",
            "            'service': 'vimeo',",
            "            'token': token,",
            "        }",
            "        self._set_vimeo_cookie('vuid', vuid)",
            "        try:",
            "            self._download_webpage(",
            "                self._LOGIN_URL, None, 'Logging in',",
            "                data=urlencode_postdata(data), headers={",
            "                    'Content-Type': 'application/x-www-form-urlencoded',",
            "                    'Referer': self._LOGIN_URL,",
            "                })",
            "        except ExtractorError as e:",
            "            if isinstance(e.cause, HTTPError) and e.cause.status == 418:",
            "                raise ExtractorError(",
            "                    'Unable to log in: bad username or password',",
            "                    expected=True)",
            "            raise ExtractorError('Unable to log in')",
            "",
            "    def _real_initialize(self):",
            "        if self._LOGIN_REQUIRED and not self._get_cookies('https://vimeo.com').get('vuid'):",
            "            self._raise_login_required()",
            "",
            "    def _get_video_password(self):",
            "        password = self.get_param('videopassword')",
            "        if password is None:",
            "            raise ExtractorError(",
            "                'This video is protected by a password, use the --video-password option',",
            "                expected=True)",
            "        return password",
            "",
            "    def _verify_video_password(self, url, video_id, password, token, vuid):",
            "        if url.startswith('http://'):",
            "            # vimeo only supports https now, but the user can give an http url",
            "            url = url.replace('http://', 'https://')",
            "        self._set_vimeo_cookie('vuid', vuid)",
            "        return self._download_webpage(",
            "            url + '/password', video_id, 'Verifying the password',",
            "            'Wrong password', data=urlencode_postdata({",
            "                'password': password,",
            "                'token': token,",
            "            }), headers={",
            "                'Content-Type': 'application/x-www-form-urlencoded',",
            "                'Referer': url,",
            "            })",
            "",
            "    def _extract_xsrft_and_vuid(self, webpage):",
            "        xsrft = self._search_regex(",
            "            r'(?:(?P<q1>[\"\\'])xsrft(?P=q1)\\s*:|xsrft\\s*[=:])\\s*(?P<q>[\"\\'])(?P<xsrft>.+?)(?P=q)',",
            "            webpage, 'login token', group='xsrft')",
            "        vuid = self._search_regex(",
            "            r'[\"\\']vuid[\"\\']\\s*:\\s*([\"\\'])(?P<vuid>.+?)\\1',",
            "            webpage, 'vuid', group='vuid')",
            "        return xsrft, vuid",
            "",
            "    def _extract_vimeo_config(self, webpage, video_id, *args, **kwargs):",
            "        vimeo_config = self._search_regex(",
            "            r'vimeo\\.config\\s*=\\s*(?:({.+?})|_extend\\([^,]+,\\s+({.+?})\\));',",
            "            webpage, 'vimeo config', *args, **kwargs)",
            "        if vimeo_config:",
            "            return self._parse_json(vimeo_config, video_id)",
            "",
            "    def _set_vimeo_cookie(self, name, value):",
            "        self._set_cookie('vimeo.com', name, value)",
            "",
            "    def _parse_config(self, config, video_id):",
            "        video_data = config['video']",
            "        video_title = video_data.get('title')",
            "        live_event = video_data.get('live_event') or {}",
            "        is_live = live_event.get('status') == 'started'",
            "        request = config.get('request') or {}",
            "",
            "        formats = []",
            "        subtitles = {}",
            "",
            "        config_files = video_data.get('files') or request.get('files') or {}",
            "        for f in (config_files.get('progressive') or []):",
            "            video_url = f.get('url')",
            "            if not video_url:",
            "                continue",
            "            formats.append({",
            "                'url': video_url,",
            "                'format_id': 'http-%s' % f.get('quality'),",
            "                'source_preference': 10,",
            "                'width': int_or_none(f.get('width')),",
            "                'height': int_or_none(f.get('height')),",
            "                'fps': int_or_none(f.get('fps')),",
            "                'tbr': int_or_none(f.get('bitrate')),",
            "            })",
            "",
            "        # TODO: fix handling of 308 status code returned for live archive manifest requests",
            "        sep_pattern = r'/sep/video/'",
            "        for files_type in ('hls', 'dash'):",
            "            for cdn_name, cdn_data in (try_get(config_files, lambda x: x[files_type]['cdns']) or {}).items():",
            "                manifest_url = cdn_data.get('url')",
            "                if not manifest_url:",
            "                    continue",
            "                format_id = '%s-%s' % (files_type, cdn_name)",
            "                sep_manifest_urls = []",
            "                if re.search(sep_pattern, manifest_url):",
            "                    for suffix, repl in (('', 'video'), ('_sep', 'sep/video')):",
            "                        sep_manifest_urls.append((format_id + suffix, re.sub(",
            "                            sep_pattern, '/%s/' % repl, manifest_url)))",
            "                else:",
            "                    sep_manifest_urls = [(format_id, manifest_url)]",
            "                for f_id, m_url in sep_manifest_urls:",
            "                    if files_type == 'hls':",
            "                        fmts, subs = self._extract_m3u8_formats_and_subtitles(",
            "                            m_url, video_id, 'mp4', live=is_live, m3u8_id=f_id,",
            "                            note='Downloading %s m3u8 information' % cdn_name,",
            "                            fatal=False)",
            "                        formats.extend(fmts)",
            "                        self._merge_subtitles(subs, target=subtitles)",
            "                    elif files_type == 'dash':",
            "                        if 'json=1' in m_url:",
            "                            real_m_url = (self._download_json(m_url, video_id, fatal=False) or {}).get('url')",
            "                            if real_m_url:",
            "                                m_url = real_m_url",
            "                        fmts, subs = self._extract_mpd_formats_and_subtitles(",
            "                            m_url.replace('/master.json', '/master.mpd'), video_id, f_id,",
            "                            'Downloading %s MPD information' % cdn_name,",
            "                            fatal=False)",
            "                        formats.extend(fmts)",
            "                        self._merge_subtitles(subs, target=subtitles)",
            "",
            "        live_archive = live_event.get('archive') or {}",
            "        live_archive_source_url = live_archive.get('source_url')",
            "        if live_archive_source_url and live_archive.get('status') == 'done':",
            "            formats.append({",
            "                'format_id': 'live-archive-source',",
            "                'url': live_archive_source_url,",
            "                'quality': 10,",
            "            })",
            "",
            "        for tt in (request.get('text_tracks') or []):",
            "            subtitles.setdefault(tt['lang'], []).append({",
            "                'ext': 'vtt',",
            "                'url': urljoin('https://vimeo.com', tt['url']),",
            "            })",
            "",
            "        thumbnails = []",
            "        if not is_live:",
            "            for key, thumb in (video_data.get('thumbs') or {}).items():",
            "                thumbnails.append({",
            "                    'id': key,",
            "                    'width': int_or_none(key),",
            "                    'url': thumb,",
            "                })",
            "            thumbnail = video_data.get('thumbnail')",
            "            if thumbnail:",
            "                thumbnails.append({",
            "                    'url': thumbnail,",
            "                })",
            "",
            "        owner = video_data.get('owner') or {}",
            "        video_uploader_url = owner.get('url')",
            "",
            "        duration = int_or_none(video_data.get('duration'))",
            "        chapter_data = try_get(config, lambda x: x['embed']['chapters']) or []",
            "        chapters = [{",
            "            'title': current_chapter.get('title'),",
            "            'start_time': current_chapter.get('timecode'),",
            "            'end_time': next_chapter.get('timecode'),",
            "        } for current_chapter, next_chapter in zip(chapter_data, chapter_data[1:] + [{'timecode': duration}])]",
            "        if chapters and chapters[0]['start_time']:  # Chapters may not start from 0",
            "            chapters[:0] = [{'title': '<Untitled>', 'start_time': 0, 'end_time': chapters[0]['start_time']}]",
            "",
            "        return {",
            "            'id': str_or_none(video_data.get('id')) or video_id,",
            "            'title': video_title,",
            "            'uploader': owner.get('name'),",
            "            'uploader_id': video_uploader_url.split('/')[-1] if video_uploader_url else None,",
            "            'uploader_url': video_uploader_url,",
            "            'thumbnails': thumbnails,",
            "            'duration': duration,",
            "            'chapters': chapters or None,",
            "            'formats': formats,",
            "            'subtitles': subtitles,",
            "            'is_live': is_live,",
            "            # Note: Bitrates are completely broken. Single m3u8 may contain entries in kbps and bps",
            "            # at the same time without actual units specified.",
            "            '_format_sort_fields': ('quality', 'res', 'fps', 'hdr:12', 'source'),",
            "        }",
            "",
            "    def _extract_original_format(self, url, video_id, unlisted_hash=None):",
            "        query = {'action': 'load_download_config'}",
            "        if unlisted_hash:",
            "            query['unlisted_hash'] = unlisted_hash",
            "        download_data = self._download_json(",
            "            url, video_id, fatal=False, query=query,",
            "            headers={'X-Requested-With': 'XMLHttpRequest'},",
            "            expected_status=(403, 404)) or {}",
            "        source_file = download_data.get('source_file')",
            "        download_url = try_get(source_file, lambda x: x['download_url'])",
            "        if download_url and not source_file.get('is_cold') and not source_file.get('is_defrosting'):",
            "            source_name = source_file.get('public_name', 'Original')",
            "            if self._is_valid_url(download_url, video_id, '%s video' % source_name):",
            "                ext = (try_get(",
            "                    source_file, lambda x: x['extension'],",
            "                    compat_str) or determine_ext(",
            "                    download_url, None) or 'mp4').lower()",
            "                return {",
            "                    'url': download_url,",
            "                    'ext': ext,",
            "                    'width': int_or_none(source_file.get('width')),",
            "                    'height': int_or_none(source_file.get('height')),",
            "                    'filesize': parse_filesize(source_file.get('size')),",
            "                    'format_id': source_name,",
            "                    'quality': 1,",
            "                }",
            "",
            "        jwt_response = self._download_json(",
            "            'https://vimeo.com/_rv/viewer', video_id, note='Downloading jwt token', fatal=False) or {}",
            "        if not jwt_response.get('jwt'):",
            "            return",
            "        headers = {'Authorization': 'jwt %s' % jwt_response['jwt']}",
            "        original_response = self._download_json(",
            "            f'https://api.vimeo.com/videos/{video_id}', video_id,",
            "            headers=headers, fatal=False, expected_status=(403, 404)) or {}",
            "        for download_data in original_response.get('download') or []:",
            "            download_url = download_data.get('link')",
            "            if not download_url or download_data.get('quality') != 'source':",
            "                continue",
            "            ext = determine_ext(parse_qs(download_url).get('filename', [''])[0].lower(), default_ext=None)",
            "            if not ext:",
            "                urlh = self._request_webpage(",
            "                    HEADRequest(download_url), video_id, fatal=False, note='Determining source extension')",
            "                ext = urlh and urlhandle_detect_ext(urlh)",
            "            return {",
            "                'url': download_url,",
            "                'ext': ext or 'unknown_video',",
            "                'format_id': download_data.get('public_name', 'Original'),",
            "                'width': int_or_none(download_data.get('width')),",
            "                'height': int_or_none(download_data.get('height')),",
            "                'fps': int_or_none(download_data.get('fps')),",
            "                'filesize': int_or_none(download_data.get('size')),",
            "                'quality': 1,",
            "            }",
            "",
            "",
            "class VimeoIE(VimeoBaseInfoExtractor):",
            "    \"\"\"Information extractor for vimeo.com.\"\"\"",
            "",
            "    # _VALID_URL matches Vimeo URLs",
            "    _VALID_URL = r'''(?x)",
            "                     https?://",
            "                         (?:",
            "                             (?:",
            "                                 www|",
            "                                 player",
            "                             )",
            "                             \\.",
            "                         )?",
            "                         vimeo\\.com/",
            "                         (?:",
            "                             (?P<u>user)|",
            "                             (?!(?:channels|album|showcase)/[^/?#]+/?(?:$|[?#])|[^/]+/review/|ondemand/)",
            "                             (?:.*?/)??",
            "                             (?P<q>",
            "                                 (?:",
            "                                     play_redirect_hls|",
            "                                     moogaloop\\.swf)\\?clip_id=",
            "                             )?",
            "                             (?:videos?/)?",
            "                         )",
            "                         (?P<id>[0-9]+)",
            "                         (?(u)",
            "                             /(?!videos|likes)[^/?#]+/?|",
            "                             (?(q)|/(?P<unlisted_hash>[\\da-f]{10}))?",
            "                         )",
            "                         (?:(?(q)[&]|(?(u)|/?)[?]).*?)?(?:[#].*)?$",
            "                 '''",
            "    IE_NAME = 'vimeo'",
            "    _EMBED_REGEX = [",
            "        # iframe",
            "        r'<iframe[^>]+?src=([\"\\'])(?P<url>(?:https?:)?//player\\.vimeo\\.com/video/\\d+.*?)\\1',",
            "        # Embedded (swf embed) Vimeo player",
            "        r'<embed[^>]+?src=([\"\\'])(?P<url>(?:https?:)?//(?:www\\.)?vimeo\\.com/moogaloop\\.swf.+?)\\1',",
            "        # Non-standard embedded Vimeo player",
            "        r'<video[^>]+src=([\"\\'])(?P<url>(?:https?:)?//(?:www\\.)?vimeo\\.com/[0-9]+)\\1',",
            "    ]",
            "    _TESTS = [",
            "        {",
            "            'url': 'http://vimeo.com/56015672#at=0',",
            "            'md5': '8879b6cc097e987f02484baf890129e5',",
            "            'info_dict': {",
            "                'id': '56015672',",
            "                'ext': 'mp4',",
            "                'title': \"youtube-dl test video '' \u00e4\u21ad\ud835\udd50-BaW jenozKc\",",
            "                'description': 'md5:2d3305bad981a06ff79f027f19865021',",
            "                'timestamp': 1355990239,",
            "                'upload_date': '20121220',",
            "                'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/user7108434',",
            "                'uploader_id': 'user7108434',",
            "                'uploader': 'Filippo Valsorda',",
            "                'duration': 10,",
            "                'license': 'by-sa',",
            "            },",
            "            'params': {",
            "                'format': 'best[protocol=https]',",
            "            },",
            "            'skip': 'No longer available'",
            "        },",
            "        {",
            "            'url': 'http://player.vimeo.com/video/54469442',",
            "            'md5': '619b811a4417aa4abe78dc653becf511',",
            "            'note': 'Videos that embed the url in the player page',",
            "            'info_dict': {",
            "                'id': '54469442',",
            "                'ext': 'mp4',",
            "                'title': 'Kathy Sierra: Building the minimum Badass User, Business of Software 2012',",
            "                'uploader': 'Business of Software',",
            "                'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/businessofsoftware',",
            "                'uploader_id': 'businessofsoftware',",
            "                'duration': 3610,",
            "                'description': None,",
            "                'thumbnail': 'https://i.vimeocdn.com/video/376682406-f34043e7b766af6bef2af81366eacd6724f3fc3173179a11a97a1e26587c9529-d_1280',",
            "            },",
            "            'params': {",
            "                'format': 'best[protocol=https]',",
            "            },",
            "        },",
            "        {",
            "            'url': 'http://vimeo.com/68375962',",
            "            'md5': 'aaf896bdb7ddd6476df50007a0ac0ae7',",
            "            'note': 'Video protected with password',",
            "            'info_dict': {",
            "                'id': '68375962',",
            "                'ext': 'mp4',",
            "                'title': 'youtube-dl password protected test video',",
            "                'timestamp': 1371200155,",
            "                'upload_date': '20130614',",
            "                'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/user18948128',",
            "                'uploader_id': 'user18948128',",
            "                'uploader': 'Jaime Marqu\u00ednez Ferr\u00e1ndiz',",
            "                'duration': 10,",
            "                'description': 'md5:6173f270cd0c0119f22817204b3eb86c',",
            "                'thumbnail': 'https://i.vimeocdn.com/video/440665496-b2c5aee2b61089442c794f64113a8e8f7d5763c3e6b3ebfaf696ae6413f8b1f4-d_1280',",
            "                'view_count': int,",
            "                'comment_count': int,",
            "                'like_count': int,",
            "            },",
            "            'params': {",
            "                'format': 'best[protocol=https]',",
            "                'videopassword': 'youtube-dl',",
            "            },",
            "        },",
            "        {",
            "            'url': 'http://vimeo.com/channels/keypeele/75629013',",
            "            'md5': '2f86a05afe9d7abc0b9126d229bbe15d',",
            "            'info_dict': {",
            "                'id': '75629013',",
            "                'ext': 'mp4',",
            "                'title': 'Key & Peele: Terrorist Interrogation',",
            "                'description': 'md5:6173f270cd0c0119f22817204b3eb86c',",
            "                'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/atencio',",
            "                'uploader_id': 'atencio',",
            "                'uploader': 'Peter Atencio',",
            "                'channel_id': 'keypeele',",
            "                'channel_url': r're:https?://(?:www\\.)?vimeo\\.com/channels/keypeele',",
            "                'timestamp': 1380339469,",
            "                'upload_date': '20130928',",
            "                'duration': 187,",
            "                'thumbnail': 'https://i.vimeocdn.com/video/450239872-a05512d9b1e55d707a7c04365c10980f327b06d966351bc403a5d5d65c95e572-d_1280',",
            "                'view_count': int,",
            "                'comment_count': int,",
            "                'like_count': int,",
            "            },",
            "            'params': {'format': 'http-1080p'},",
            "        },",
            "        {",
            "            'url': 'http://vimeo.com/76979871',",
            "            'note': 'Video with subtitles',",
            "            'info_dict': {",
            "                'id': '76979871',",
            "                'ext': 'mov',",
            "                'title': 'The New Vimeo Player (You Know, For Videos)',",
            "                'description': 'md5:2ec900bf97c3f389378a96aee11260ea',",
            "                'timestamp': 1381846109,",
            "                'upload_date': '20131015',",
            "                'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/staff',",
            "                'uploader_id': 'staff',",
            "                'uploader': 'Vimeo Staff',",
            "                'duration': 62,",
            "                'subtitles': {",
            "                    'de': [{'ext': 'vtt'}],",
            "                    'en': [{'ext': 'vtt'}],",
            "                    'es': [{'ext': 'vtt'}],",
            "                    'fr': [{'ext': 'vtt'}],",
            "                },",
            "            },",
            "            'expected_warnings': ['Ignoring subtitle tracks found in the HLS manifest'],",
            "        },",
            "        {",
            "            # from https://www.ouya.tv/game/Pier-Solar-and-the-Great-Architects/",
            "            'url': 'https://player.vimeo.com/video/98044508',",
            "            'note': 'The js code contains assignments to the same variable as the config',",
            "            'info_dict': {",
            "                'id': '98044508',",
            "                'ext': 'mp4',",
            "                'title': 'Pier Solar OUYA Official Trailer',",
            "                'uploader': 'Tulio Gon\u00e7alves',",
            "                'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/user28849593',",
            "                'uploader_id': 'user28849593',",
            "                'duration': 118,",
            "                'thumbnail': 'https://i.vimeocdn.com/video/478636036-c18440305ef3df9decfb6bf207a61fe39d2d17fa462a96f6f2d93d30492b037d-d_1280',",
            "            },",
            "        },",
            "        {",
            "            # contains original format",
            "            'url': 'https://vimeo.com/33951933',",
            "            'md5': '53c688fa95a55bf4b7293d37a89c5c53',",
            "            'info_dict': {",
            "                'id': '33951933',",
            "                'ext': 'mp4',",
            "                'title': 'FOX CLASSICS - Forever Classic ID - A Full Minute',",
            "                'uploader': 'The DMCI',",
            "                'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/dmci',",
            "                'uploader_id': 'dmci',",
            "                'timestamp': 1324343742,",
            "                'upload_date': '20111220',",
            "                'description': 'md5:ae23671e82d05415868f7ad1aec21147',",
            "                'duration': 60,",
            "                'comment_count': int,",
            "                'view_count': int,",
            "                'thumbnail': 'https://i.vimeocdn.com/video/231174622-dd07f015e9221ff529d451e1cc31c982b5d87bfafa48c4189b1da72824ee289a-d_1280',",
            "                'like_count': int,",
            "            },",
            "        },",
            "        {",
            "            'note': 'Contains original format not accessible in webpage',",
            "            'url': 'https://vimeo.com/393756517',",
            "            'md5': 'c464af248b592190a5ffbb5d33f382b0',",
            "            'info_dict': {",
            "                'id': '393756517',",
            "                'ext': 'mov',",
            "                'timestamp': 1582642091,",
            "                'uploader_id': 'frameworkla',",
            "                'title': 'Straight To Hell - Sabrina: Netflix',",
            "                'uploader': 'Framework Studio',",
            "                'description': 'md5:f2edc61af3ea7a5592681ddbb683db73',",
            "                'upload_date': '20200225',",
            "                'duration': 176,",
            "                'thumbnail': 'https://i.vimeocdn.com/video/859377297-836494a4ef775e9d4edbace83937d9ad34dc846c688c0c419c0e87f7ab06c4b3-d_1280',",
            "                'uploader_url': 'https://vimeo.com/frameworkla',",
            "            },",
            "        },",
            "        {",
            "            # only available via https://vimeo.com/channels/tributes/6213729 and",
            "            # not via https://vimeo.com/6213729",
            "            'url': 'https://vimeo.com/channels/tributes/6213729',",
            "            'info_dict': {",
            "                'id': '6213729',",
            "                'ext': 'mp4',",
            "                'title': 'Vimeo Tribute: The Shining',",
            "                'uploader': 'Casey Donahue',",
            "                'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/caseydonahue',",
            "                'uploader_id': 'caseydonahue',",
            "                'channel_url': r're:https?://(?:www\\.)?vimeo\\.com/channels/tributes',",
            "                'channel_id': 'tributes',",
            "                'timestamp': 1250886430,",
            "                'upload_date': '20090821',",
            "                'description': 'md5:bdbf314014e58713e6e5b66eb252f4a6',",
            "                'duration': 321,",
            "                'comment_count': int,",
            "                'view_count': int,",
            "                'thumbnail': 'https://i.vimeocdn.com/video/22728298-bfc22146f930de7cf497821c7b0b9f168099201ecca39b00b6bd31fcedfca7a6-d_1280',",
            "                'like_count': int,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        {",
            "            # redirects to ondemand extractor and should be passed through it",
            "            # for successful extraction",
            "            'url': 'https://vimeo.com/73445910',",
            "            'info_dict': {",
            "                'id': '73445910',",
            "                'ext': 'mp4',",
            "                'title': 'The Reluctant Revolutionary',",
            "                'uploader': '10Ft Films',",
            "                'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/tenfootfilms',",
            "                'uploader_id': 'tenfootfilms',",
            "                'description': 'md5:0fa704e05b04f91f40b7f3ca2e801384',",
            "                'upload_date': '20130830',",
            "                'timestamp': 1377853339,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "            'skip': 'this page is no longer available.',",
            "        },",
            "        {",
            "            'url': 'http://player.vimeo.com/video/68375962',",
            "            'md5': 'aaf896bdb7ddd6476df50007a0ac0ae7',",
            "            'info_dict': {",
            "                'id': '68375962',",
            "                'ext': 'mp4',",
            "                'title': 'youtube-dl password protected test video',",
            "                'timestamp': 1371200155,",
            "                'upload_date': '20130614',",
            "                'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/user18948128',",
            "                'uploader_id': 'user18948128',",
            "                'uploader': 'Jaime Marqu\u00ednez Ferr\u00e1ndiz',",
            "                'duration': 10,",
            "                'description': 'md5:6173f270cd0c0119f22817204b3eb86c',",
            "                'thumbnail': 'https://i.vimeocdn.com/video/440665496-b2c5aee2b61089442c794f64113a8e8f7d5763c3e6b3ebfaf696ae6413f8b1f4-d_1280',",
            "                'view_count': int,",
            "                'comment_count': int,",
            "                'like_count': int,",
            "            },",
            "            'params': {",
            "                'format': 'best[protocol=https]',",
            "                'videopassword': 'youtube-dl',",
            "            },",
            "        },",
            "        {",
            "            'url': 'http://vimeo.com/moogaloop.swf?clip_id=2539741',",
            "            'only_matching': True,",
            "        },",
            "        {",
            "            'url': 'https://vimeo.com/109815029',",
            "            'note': 'Video not completely processed, \"failed\" seed status',",
            "            'only_matching': True,",
            "        },",
            "        {",
            "            'url': 'https://vimeo.com/groups/travelhd/videos/22439234',",
            "            'only_matching': True,",
            "        },",
            "        {",
            "            'url': 'https://vimeo.com/album/2632481/video/79010983',",
            "            'only_matching': True,",
            "        },",
            "        {",
            "            'url': 'https://vimeo.com/showcase/3253534/video/119195465',",
            "            'note': 'A video in a password protected album (showcase)',",
            "            'info_dict': {",
            "                'id': '119195465',",
            "                'ext': 'mp4',",
            "                'title': \"youtube-dl test video '' \u00e4\u21ad\ud835\udd50-BaW jenozKc\",",
            "                'uploader': 'Philipp Hagemeister',",
            "                'uploader_id': 'user20132939',",
            "                'description': 'md5:fa7b6c6d8db0bdc353893df2f111855b',",
            "                'upload_date': '20150209',",
            "                'timestamp': 1423518307,",
            "                'thumbnail': 'https://i.vimeocdn.com/video/default_1280',",
            "                'duration': 10,",
            "                'like_count': int,",
            "                'uploader_url': 'https://vimeo.com/user20132939',",
            "                'view_count': int,",
            "                'comment_count': int,",
            "            },",
            "            'params': {",
            "                'format': 'best[protocol=https]',",
            "                'videopassword': 'youtube-dl',",
            "            },",
            "        },",
            "        {",
            "            # source file returns 403: Forbidden",
            "            'url': 'https://vimeo.com/7809605',",
            "            'only_matching': True,",
            "        },",
            "        {",
            "            'note': 'Direct URL with hash',",
            "            'url': 'https://vimeo.com/160743502/abd0e13fb4',",
            "            'info_dict': {",
            "                'id': '160743502',",
            "                'ext': 'mp4',",
            "                'uploader': 'Julian Tryba',",
            "                'uploader_id': 'aliniamedia',",
            "                'title': 'Harrisville New Hampshire',",
            "                'timestamp': 1459259666,",
            "                'upload_date': '20160329',",
            "                'release_timestamp': 1459259666,",
            "                'license': 'by-nc',",
            "                'duration': 159,",
            "                'comment_count': int,",
            "                'thumbnail': 'https://i.vimeocdn.com/video/562802436-585eeb13b5020c6ac0f171a2234067938098f84737787df05ff0d767f6d54ee9-d_1280',",
            "                'like_count': int,",
            "                'uploader_url': 'https://vimeo.com/aliniamedia',",
            "                'release_date': '20160329',",
            "            },",
            "            'params': {'skip_download': True},",
            "        },",
            "        {",
            "            'url': 'https://vimeo.com/138909882',",
            "            'info_dict': {",
            "                'id': '138909882',",
            "                'ext': 'mp4',",
            "                'title': 'Eastnor Castle 2015 Firework Champions - The Promo!',",
            "                'description': 'md5:5967e090768a831488f6e74b7821b3c1',",
            "                'uploader_id': 'fireworkchampions',",
            "                'uploader': 'Firework Champions',",
            "                'upload_date': '20150910',",
            "                'timestamp': 1441901895,",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "                'format': 'Original',",
            "            },",
            "        },",
            "        {",
            "            'url': 'https://vimeo.com/channels/staffpicks/143603739',",
            "            'info_dict': {",
            "                'id': '143603739',",
            "                'ext': 'mp4',",
            "                'uploader': 'Karim Huu Do',",
            "                'timestamp': 1445846953,",
            "                'upload_date': '20151026',",
            "                'title': 'The Shoes - Submarine Feat. Blaine Harrison',",
            "                'uploader_id': 'karimhd',",
            "                'description': 'md5:8e2eea76de4504c2e8020a9bcfa1e843',",
            "                'channel_id': 'staffpicks',",
            "                'duration': 336,",
            "                'comment_count': int,",
            "                'view_count': int,",
            "                'thumbnail': 'https://i.vimeocdn.com/video/541243181-b593db36a16db2f0096f655da3f5a4dc46b8766d77b0f440df937ecb0c418347-d_1280',",
            "                'like_count': int,",
            "                'uploader_url': 'https://vimeo.com/karimhd',",
            "                'channel_url': 'https://vimeo.com/channels/staffpicks',",
            "            },",
            "            'params': {'skip_download': 'm3u8'},",
            "        },",
            "        {",
            "            # requires passing unlisted_hash(a52724358e) to load_download_config request",
            "            'url': 'https://vimeo.com/392479337/a52724358e',",
            "            'only_matching': True,",
            "        },",
            "        {",
            "            # similar, but all numeric: ID must be 581039021, not 9603038895",
            "            # issue #29690",
            "            'url': 'https://vimeo.com/581039021/9603038895',",
            "            'info_dict': {",
            "                'id': '581039021',",
            "                'ext': 'mp4',",
            "                'timestamp': 1627621014,",
            "                'release_timestamp': 1627621014,",
            "                'duration': 976,",
            "                'comment_count': int,",
            "                'thumbnail': 'https://i.vimeocdn.com/video/1202249320-4ddb2c30398c0dc0ee059172d1bd5ea481ad12f0e0e3ad01d2266f56c744b015-d_1280',",
            "                'like_count': int,",
            "                'uploader_url': 'https://vimeo.com/txwestcapital',",
            "                'release_date': '20210730',",
            "                'uploader': 'Christopher Inks',",
            "                'title': 'Thursday, July 29, 2021 BMA Evening Video Update',",
            "                'uploader_id': 'txwestcapital',",
            "                'upload_date': '20210730',",
            "            },",
            "            'params': {",
            "                'skip_download': True,",
            "            },",
            "        },",
            "        {",
            "            # user playlist alias -> https://vimeo.com/258705797",
            "            'url': 'https://vimeo.com/user26785108/newspiritualguide',",
            "            'only_matching': True,",
            "        },",
            "        # https://gettingthingsdone.com/workflowmap/",
            "        # vimeo embed with check-password page protected by Referer header",
            "    ]",
            "",
            "    @classmethod",
            "    def _extract_embed_urls(cls, url, webpage):",
            "        for embed_url in super()._extract_embed_urls(url, webpage):",
            "            yield cls._smuggle_referrer(embed_url, url)",
            "",
            "    @classmethod",
            "    def _extract_url(cls, url, webpage):",
            "        return next(cls._extract_embed_urls(url, webpage), None)",
            "",
            "    def _verify_player_video_password(self, url, video_id, headers):",
            "        password = self._get_video_password()",
            "        data = urlencode_postdata({",
            "            'password': base64.b64encode(password.encode()),",
            "        })",
            "        headers = merge_dicts(headers, {",
            "            'Content-Type': 'application/x-www-form-urlencoded',",
            "        })",
            "        checked = self._download_json(",
            "            f'{compat_urlparse.urlsplit(url)._replace(query=None).geturl()}/check-password',",
            "            video_id, 'Verifying the password', data=data, headers=headers)",
            "        if checked is False:",
            "            raise ExtractorError('Wrong video password', expected=True)",
            "        return checked",
            "",
            "    def _extract_from_api(self, video_id, unlisted_hash=None):",
            "        token = self._download_json(",
            "            'https://vimeo.com/_rv/jwt', video_id, headers={",
            "                'X-Requested-With': 'XMLHttpRequest'",
            "            })['token']",
            "        api_url = 'https://api.vimeo.com/videos/' + video_id",
            "        if unlisted_hash:",
            "            api_url += ':' + unlisted_hash",
            "        video = self._download_json(",
            "            api_url, video_id, headers={",
            "                'Authorization': 'jwt ' + token,",
            "            }, query={",
            "                'fields': 'config_url,created_time,description,license,metadata.connections.comments.total,metadata.connections.likes.total,release_time,stats.plays',",
            "            })",
            "        info = self._parse_config(self._download_json(",
            "            video['config_url'], video_id), video_id)",
            "        get_timestamp = lambda x: parse_iso8601(video.get(x + '_time'))",
            "        info.update({",
            "            'description': video.get('description'),",
            "            'license': video.get('license'),",
            "            'release_timestamp': get_timestamp('release'),",
            "            'timestamp': get_timestamp('created'),",
            "            'view_count': int_or_none(try_get(video, lambda x: x['stats']['plays'])),",
            "        })",
            "        connections = try_get(",
            "            video, lambda x: x['metadata']['connections'], dict) or {}",
            "        for k in ('comment', 'like'):",
            "            info[k + '_count'] = int_or_none(try_get(connections, lambda x: x[k + 's']['total']))",
            "        return info",
            "",
            "    def _try_album_password(self, url):",
            "        album_id = self._search_regex(",
            "            r'vimeo\\.com/(?:album|showcase)/([^/]+)', url, 'album id', default=None)",
            "        if not album_id:",
            "            return",
            "        viewer = self._download_json(",
            "            'https://vimeo.com/_rv/viewer', album_id, fatal=False)",
            "        if not viewer:",
            "            webpage = self._download_webpage(url, album_id)",
            "            viewer = self._parse_json(self._search_regex(",
            "                r'bootstrap_data\\s*=\\s*({.+?})</script>',",
            "                webpage, 'bootstrap data'), album_id)['viewer']",
            "        jwt = viewer['jwt']",
            "        album = self._download_json(",
            "            'https://api.vimeo.com/albums/' + album_id,",
            "            album_id, headers={'Authorization': 'jwt ' + jwt},",
            "            query={'fields': 'description,name,privacy'})",
            "        if try_get(album, lambda x: x['privacy']['view']) == 'password':",
            "            password = self.get_param('videopassword')",
            "            if not password:",
            "                raise ExtractorError(",
            "                    'This album is protected by a password, use the --video-password option',",
            "                    expected=True)",
            "            self._set_vimeo_cookie('vuid', viewer['vuid'])",
            "            try:",
            "                self._download_json(",
            "                    'https://vimeo.com/showcase/%s/auth' % album_id,",
            "                    album_id, 'Verifying the password', data=urlencode_postdata({",
            "                        'password': password,",
            "                        'token': viewer['xsrft'],",
            "                    }), headers={",
            "                        'X-Requested-With': 'XMLHttpRequest',",
            "                    })",
            "            except ExtractorError as e:",
            "                if isinstance(e.cause, HTTPError) and e.cause.status == 401:",
            "                    raise ExtractorError('Wrong password', expected=True)",
            "                raise",
            "",
            "    def _real_extract(self, url):",
            "        url, data, headers = self._unsmuggle_headers(url)",
            "        if 'Referer' not in headers:",
            "            headers['Referer'] = url",
            "",
            "        # Extract ID from URL",
            "        mobj = self._match_valid_url(url).groupdict()",
            "        video_id, unlisted_hash = mobj['id'], mobj.get('unlisted_hash')",
            "        if unlisted_hash:",
            "            return self._extract_from_api(video_id, unlisted_hash)",
            "",
            "        if any(p in url for p in ('play_redirect_hls', 'moogaloop.swf')):",
            "            url = 'https://vimeo.com/' + video_id",
            "",
            "        self._try_album_password(url)",
            "        try:",
            "            # Retrieve video webpage to extract further information",
            "            webpage, urlh = self._download_webpage_handle(",
            "                url, video_id, headers=headers)",
            "            redirect_url = urlh.url",
            "        except ExtractorError as ee:",
            "            if isinstance(ee.cause, HTTPError) and ee.cause.status == 403:",
            "                errmsg = ee.cause.response.read()",
            "                if b'Because of its privacy settings, this video cannot be played here' in errmsg:",
            "                    raise ExtractorError(",
            "                        'Cannot download embed-only video without embedding '",
            "                        'URL. Please call yt-dlp with the URL of the page '",
            "                        'that embeds this video.',",
            "                        expected=True)",
            "            raise",
            "",
            "        if '://player.vimeo.com/video/' in url:",
            "            config = self._search_json(",
            "                r'\\b(?:playerC|c)onfig\\s*=', webpage, 'info section', video_id)",
            "            if config.get('view') == 4:",
            "                config = self._verify_player_video_password(",
            "                    redirect_url, video_id, headers)",
            "            return self._parse_config(config, video_id)",
            "",
            "        if re.search(r'<form[^>]+?id=\"pw_form\"', webpage):",
            "            video_password = self._get_video_password()",
            "            token, vuid = self._extract_xsrft_and_vuid(webpage)",
            "            webpage = self._verify_video_password(",
            "                redirect_url, video_id, video_password, token, vuid)",
            "",
            "        vimeo_config = self._extract_vimeo_config(webpage, video_id, default=None)",
            "        if vimeo_config:",
            "            seed_status = vimeo_config.get('seed_status') or {}",
            "            if seed_status.get('state') == 'failed':",
            "                raise ExtractorError(",
            "                    '%s said: %s' % (self.IE_NAME, seed_status['title']),",
            "                    expected=True)",
            "",
            "        cc_license = None",
            "        timestamp = None",
            "        video_description = None",
            "        info_dict = {}",
            "        config_url = None",
            "",
            "        channel_id = self._search_regex(",
            "            r'vimeo\\.com/channels/([^/]+)', url, 'channel id', default=None)",
            "        if channel_id:",
            "            config_url = self._html_search_regex(",
            "                r'\\bdata-config-url=\"([^\"]+)\"', webpage, 'config URL', default=None)",
            "            video_description = clean_html(get_element_by_class('description', webpage))",
            "            info_dict.update({",
            "                'channel_id': channel_id,",
            "                'channel_url': 'https://vimeo.com/channels/' + channel_id,",
            "            })",
            "        if not config_url:",
            "            page_config = self._parse_json(self._search_regex(",
            "                r'vimeo\\.(?:clip|vod_title)_page_config\\s*=\\s*({.+?});',",
            "                webpage, 'page config', default='{}'), video_id, fatal=False)",
            "            if not page_config:",
            "                return self._extract_from_api(video_id)",
            "            config_url = page_config['player']['config_url']",
            "            cc_license = page_config.get('cc_license')",
            "            clip = page_config.get('clip') or {}",
            "            timestamp = clip.get('uploaded_on')",
            "            video_description = clean_html(",
            "                clip.get('description') or page_config.get('description_html_escaped'))",
            "        config = self._download_json(config_url, video_id)",
            "        video = config.get('video') or {}",
            "        vod = video.get('vod') or {}",
            "",
            "        def is_rented():",
            "            if '>You rented this title.<' in webpage:",
            "                return True",
            "            if try_get(config, lambda x: x['user']['purchased']):",
            "                return True",
            "            for purchase_option in (vod.get('purchase_options') or []):",
            "                if purchase_option.get('purchased'):",
            "                    return True",
            "                label = purchase_option.get('label_string')",
            "                if label and (label.startswith('You rented this') or label.endswith(' remaining')):",
            "                    return True",
            "            return False",
            "",
            "        if is_rented() and vod.get('is_trailer'):",
            "            feature_id = vod.get('feature_id')",
            "            if feature_id and not data.get('force_feature_id', False):",
            "                return self.url_result(smuggle_url(",
            "                    'https://player.vimeo.com/player/%s' % feature_id,",
            "                    {'force_feature_id': True}), 'Vimeo')",
            "",
            "        if not video_description:",
            "            video_description = self._html_search_regex(",
            "                r'(?s)<div\\s+class=\"[^\"]*description[^\"]*\"[^>]*>(.*?)</div>',",
            "                webpage, 'description', default=None)",
            "        if not video_description:",
            "            video_description = self._html_search_meta(",
            "                ['description', 'og:description', 'twitter:description'],",
            "                webpage, default=None)",
            "        if not video_description:",
            "            self.report_warning('Cannot find video description')",
            "",
            "        if not timestamp:",
            "            timestamp = self._search_regex(",
            "                r'<time[^>]+datetime=\"([^\"]+)\"', webpage,",
            "                'timestamp', default=None)",
            "",
            "        view_count = int_or_none(self._search_regex(r'UserPlays:(\\d+)', webpage, 'view count', default=None))",
            "        like_count = int_or_none(self._search_regex(r'UserLikes:(\\d+)', webpage, 'like count', default=None))",
            "        comment_count = int_or_none(self._search_regex(r'UserComments:(\\d+)', webpage, 'comment count', default=None))",
            "",
            "        formats = []",
            "",
            "        source_format = self._extract_original_format(",
            "            'https://vimeo.com/' + video_id, video_id, video.get('unlisted_hash'))",
            "        if source_format:",
            "            formats.append(source_format)",
            "",
            "        info_dict_config = self._parse_config(config, video_id)",
            "        formats.extend(info_dict_config['formats'])",
            "        info_dict['_format_sort_fields'] = info_dict_config['_format_sort_fields']",
            "",
            "        json_ld = self._search_json_ld(webpage, video_id, default={})",
            "",
            "        if not cc_license:",
            "            cc_license = self._search_regex(",
            "                r'<link[^>]+rel=[\"\\']license[\"\\'][^>]+href=([\"\\'])(?P<license>(?:(?!\\1).)+)\\1',",
            "                webpage, 'license', default=None, group='license')",
            "",
            "        info_dict.update({",
            "            'formats': formats,",
            "            'timestamp': unified_timestamp(timestamp),",
            "            'description': video_description,",
            "            'webpage_url': url,",
            "            'view_count': view_count,",
            "            'like_count': like_count,",
            "            'comment_count': comment_count,",
            "            'license': cc_license,",
            "        })",
            "",
            "        return merge_dicts(info_dict, info_dict_config, json_ld)",
            "",
            "",
            "class VimeoOndemandIE(VimeoIE):  # XXX: Do not subclass from concrete IE",
            "    IE_NAME = 'vimeo:ondemand'",
            "    _VALID_URL = r'https?://(?:www\\.)?vimeo\\.com/ondemand/(?:[^/]+/)?(?P<id>[^/?#&]+)'",
            "    _TESTS = [{",
            "        # ondemand video not available via https://vimeo.com/id",
            "        'url': 'https://vimeo.com/ondemand/20704',",
            "        'md5': 'c424deda8c7f73c1dfb3edd7630e2f35',",
            "        'info_dict': {",
            "            'id': '105442900',",
            "            'ext': 'mp4',",
            "            'title': '\u05d4\u05de\u05e2\u05d1\u05d3\u05d4 - \u05d1\u05de\u05d0\u05d9 \u05d9\u05d5\u05ea\u05dd \u05e4\u05dc\u05d3\u05de\u05df',",
            "            'uploader': '\u05d2\u05dd \u05e1\u05e8\u05d8\u05d9\u05dd',",
            "            'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/gumfilms',",
            "            'uploader_id': 'gumfilms',",
            "            'description': 'md5:aeeba3dbd4d04b0fa98a4fdc9c639998',",
            "            'upload_date': '20140906',",
            "            'timestamp': 1410032453,",
            "            'thumbnail': 'https://i.vimeocdn.com/video/488238335-d7bf151c364cff8d467f1b73784668fe60aae28a54573a35d53a1210ae283bd8-d_1280',",
            "            'comment_count': int,",
            "            'license': 'https://creativecommons.org/licenses/by-nc-nd/3.0/',",
            "            'duration': 53,",
            "            'view_count': int,",
            "            'like_count': int,",
            "        },",
            "        'params': {",
            "            'format': 'best[protocol=https]',",
            "        },",
            "        'expected_warnings': ['Unable to download JSON metadata'],",
            "    }, {",
            "        # requires Referer to be passed along with og:video:url",
            "        'url': 'https://vimeo.com/ondemand/36938/126682985',",
            "        'info_dict': {",
            "            'id': '126584684',",
            "            'ext': 'mp4',",
            "            'title': 'R\u00e4vlock, r\u00e4tt l\u00e4te p\u00e5 r\u00e4tt plats',",
            "            'uploader': 'Lindroth & Norin',",
            "            'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/lindrothnorin',",
            "            'uploader_id': 'lindrothnorin',",
            "            'description': 'md5:c3c46a90529612c8279fb6af803fc0df',",
            "            'upload_date': '20150502',",
            "            'timestamp': 1430586422,",
            "            'duration': 121,",
            "            'comment_count': int,",
            "            'view_count': int,",
            "            'thumbnail': 'https://i.vimeocdn.com/video/517077723-7066ae1d9a79d3eb361334fb5d58ec13c8f04b52f8dd5eadfbd6fb0bcf11f613-d_1280',",
            "            'like_count': int,",
            "        },",
            "        'params': {",
            "            'skip_download': True,",
            "        },",
            "        'expected_warnings': ['Unable to download JSON metadata'],",
            "    }, {",
            "        'url': 'https://vimeo.com/ondemand/nazmaalik',",
            "        'only_matching': True,",
            "    }, {",
            "        'url': 'https://vimeo.com/ondemand/141692381',",
            "        'only_matching': True,",
            "    }, {",
            "        'url': 'https://vimeo.com/ondemand/thelastcolony/150274832',",
            "        'only_matching': True,",
            "    }]",
            "",
            "",
            "class VimeoChannelIE(VimeoBaseInfoExtractor):",
            "    IE_NAME = 'vimeo:channel'",
            "    _VALID_URL = r'https://vimeo\\.com/channels/(?P<id>[^/?#]+)/?(?:$|[?#])'",
            "    _MORE_PAGES_INDICATOR = r'<a.+?rel=\"next\"'",
            "    _TITLE = None",
            "    _TITLE_RE = r'<link rel=\"alternate\"[^>]+?title=\"(.*?)\"'",
            "    _TESTS = [{",
            "        'url': 'https://vimeo.com/channels/tributes',",
            "        'info_dict': {",
            "            'id': 'tributes',",
            "            'title': 'Vimeo Tributes',",
            "        },",
            "        'playlist_mincount': 22,",
            "    }]",
            "    _BASE_URL_TEMPL = 'https://vimeo.com/channels/%s'",
            "",
            "    def _page_url(self, base_url, pagenum):",
            "        return '%s/videos/page:%d/' % (base_url, pagenum)",
            "",
            "    def _extract_list_title(self, webpage):",
            "        return self._TITLE or self._html_search_regex(",
            "            self._TITLE_RE, webpage, 'list title', fatal=False)",
            "",
            "    def _title_and_entries(self, list_id, base_url):",
            "        for pagenum in itertools.count(1):",
            "            page_url = self._page_url(base_url, pagenum)",
            "            webpage = self._download_webpage(",
            "                page_url, list_id,",
            "                'Downloading page %s' % pagenum)",
            "",
            "            if pagenum == 1:",
            "                yield self._extract_list_title(webpage)",
            "",
            "            # Try extracting href first since not all videos are available via",
            "            # short https://vimeo.com/id URL (e.g. https://vimeo.com/channels/tributes/6213729)",
            "            clips = re.findall(",
            "                r'id=\"clip_(\\d+)\"[^>]*>\\s*<a[^>]+href=\"(/(?:[^/]+/)*\\1)(?:[^>]+\\btitle=\"([^\"]+)\")?', webpage)",
            "            if clips:",
            "                for video_id, video_url, video_title in clips:",
            "                    yield self.url_result(",
            "                        compat_urlparse.urljoin(base_url, video_url),",
            "                        VimeoIE.ie_key(), video_id=video_id, video_title=video_title)",
            "            # More relaxed fallback",
            "            else:",
            "                for video_id in re.findall(r'id=[\"\\']clip_(\\d+)', webpage):",
            "                    yield self.url_result(",
            "                        'https://vimeo.com/%s' % video_id,",
            "                        VimeoIE.ie_key(), video_id=video_id)",
            "",
            "            if re.search(self._MORE_PAGES_INDICATOR, webpage, re.DOTALL) is None:",
            "                break",
            "",
            "    def _extract_videos(self, list_id, base_url):",
            "        title_and_entries = self._title_and_entries(list_id, base_url)",
            "        list_title = next(title_and_entries)",
            "        return self.playlist_result(title_and_entries, list_id, list_title)",
            "",
            "    def _real_extract(self, url):",
            "        channel_id = self._match_id(url)",
            "        return self._extract_videos(channel_id, self._BASE_URL_TEMPL % channel_id)",
            "",
            "",
            "class VimeoUserIE(VimeoChannelIE):  # XXX: Do not subclass from concrete IE",
            "    IE_NAME = 'vimeo:user'",
            "    _VALID_URL = r'https://vimeo\\.com/(?!(?:[0-9]+|watchlater)(?:$|[?#/]))(?P<id>[^/]+)(?:/videos)?/?(?:$|[?#])'",
            "    _TITLE_RE = r'<a[^>]+?class=\"user\">([^<>]+?)</a>'",
            "    _TESTS = [{",
            "        'url': 'https://vimeo.com/nkistudio/videos',",
            "        'info_dict': {",
            "            'title': 'Nki',",
            "            'id': 'nkistudio',",
            "        },",
            "        'playlist_mincount': 66,",
            "    }, {",
            "        'url': 'https://vimeo.com/nkistudio/',",
            "        'only_matching': True,",
            "    }]",
            "    _BASE_URL_TEMPL = 'https://vimeo.com/%s'",
            "",
            "",
            "class VimeoAlbumIE(VimeoBaseInfoExtractor):",
            "    IE_NAME = 'vimeo:album'",
            "    _VALID_URL = r'https://vimeo\\.com/(?:album|showcase)/(?P<id>\\d+)(?:$|[?#]|/(?!video))'",
            "    _TITLE_RE = r'<header id=\"page_header\">\\n\\s*<h1>(.*?)</h1>'",
            "    _TESTS = [{",
            "        'url': 'https://vimeo.com/album/2632481',",
            "        'info_dict': {",
            "            'id': '2632481',",
            "            'title': 'Staff Favorites: November 2013',",
            "        },",
            "        'playlist_mincount': 13,",
            "    }, {",
            "        'note': 'Password-protected album',",
            "        'url': 'https://vimeo.com/album/3253534',",
            "        'info_dict': {",
            "            'title': 'test',",
            "            'id': '3253534',",
            "        },",
            "        'playlist_count': 1,",
            "        'params': {",
            "            'videopassword': 'youtube-dl',",
            "        }",
            "    }]",
            "    _PAGE_SIZE = 100",
            "",
            "    def _fetch_page(self, album_id, authorization, hashed_pass, page):",
            "        api_page = page + 1",
            "        query = {",
            "            'fields': 'link,uri',",
            "            'page': api_page,",
            "            'per_page': self._PAGE_SIZE,",
            "        }",
            "        if hashed_pass:",
            "            query['_hashed_pass'] = hashed_pass",
            "        try:",
            "            videos = self._download_json(",
            "                'https://api.vimeo.com/albums/%s/videos' % album_id,",
            "                album_id, 'Downloading page %d' % api_page, query=query, headers={",
            "                    'Authorization': 'jwt ' + authorization,",
            "                })['data']",
            "        except ExtractorError as e:",
            "            if isinstance(e.cause, HTTPError) and e.cause.status == 400:",
            "                return",
            "        for video in videos:",
            "            link = video.get('link')",
            "            if not link:",
            "                continue",
            "            uri = video.get('uri')",
            "            video_id = self._search_regex(r'/videos/(\\d+)', uri, 'video_id', default=None) if uri else None",
            "            yield self.url_result(link, VimeoIE.ie_key(), video_id)",
            "",
            "    def _real_extract(self, url):",
            "        album_id = self._match_id(url)",
            "        viewer = self._download_json(",
            "            'https://vimeo.com/_rv/viewer', album_id, fatal=False)",
            "        if not viewer:",
            "            webpage = self._download_webpage(url, album_id)",
            "            viewer = self._parse_json(self._search_regex(",
            "                r'bootstrap_data\\s*=\\s*({.+?})</script>',",
            "                webpage, 'bootstrap data'), album_id)['viewer']",
            "        jwt = viewer['jwt']",
            "        album = self._download_json(",
            "            'https://api.vimeo.com/albums/' + album_id,",
            "            album_id, headers={'Authorization': 'jwt ' + jwt},",
            "            query={'fields': 'description,name,privacy'})",
            "        hashed_pass = None",
            "        if try_get(album, lambda x: x['privacy']['view']) == 'password':",
            "            password = self.get_param('videopassword')",
            "            if not password:",
            "                raise ExtractorError(",
            "                    'This album is protected by a password, use the --video-password option',",
            "                    expected=True)",
            "            self._set_vimeo_cookie('vuid', viewer['vuid'])",
            "            try:",
            "                hashed_pass = self._download_json(",
            "                    'https://vimeo.com/showcase/%s/auth' % album_id,",
            "                    album_id, 'Verifying the password', data=urlencode_postdata({",
            "                        'password': password,",
            "                        'token': viewer['xsrft'],",
            "                    }), headers={",
            "                        'X-Requested-With': 'XMLHttpRequest',",
            "                    })['hashed_pass']",
            "            except ExtractorError as e:",
            "                if isinstance(e.cause, HTTPError) and e.cause.status == 401:",
            "                    raise ExtractorError('Wrong password', expected=True)",
            "                raise",
            "        entries = OnDemandPagedList(functools.partial(",
            "            self._fetch_page, album_id, jwt, hashed_pass), self._PAGE_SIZE)",
            "        return self.playlist_result(",
            "            entries, album_id, album.get('name'), album.get('description'))",
            "",
            "",
            "class VimeoGroupsIE(VimeoChannelIE):  # XXX: Do not subclass from concrete IE",
            "    IE_NAME = 'vimeo:group'",
            "    _VALID_URL = r'https://vimeo\\.com/groups/(?P<id>[^/]+)(?:/(?!videos?/\\d+)|$)'",
            "    _TESTS = [{",
            "        'url': 'https://vimeo.com/groups/meetup',",
            "        'info_dict': {",
            "            'id': 'meetup',",
            "            'title': 'Vimeo Meetup!',",
            "        },",
            "        'playlist_mincount': 27,",
            "    }]",
            "    _BASE_URL_TEMPL = 'https://vimeo.com/groups/%s'",
            "",
            "",
            "class VimeoReviewIE(VimeoBaseInfoExtractor):",
            "    IE_NAME = 'vimeo:review'",
            "    IE_DESC = 'Review pages on vimeo'",
            "    _VALID_URL = r'(?P<url>https://vimeo\\.com/[^/]+/review/(?P<id>[^/]+)/[0-9a-f]{10})'",
            "    _TESTS = [{",
            "        'url': 'https://vimeo.com/user21297594/review/75524534/3c257a1b5d',",
            "        'md5': 'c507a72f780cacc12b2248bb4006d253',",
            "        'info_dict': {",
            "            'id': '75524534',",
            "            'ext': 'mp4',",
            "            'title': \"DICK HARDWICK 'Comedian'\",",
            "            'uploader': 'Richard Hardwick',",
            "            'uploader_id': 'user21297594',",
            "            'description': \"Comedian Dick Hardwick's five minute demo filmed in front of a live theater audience.\\nEdit by Doug Mattocks\",",
            "            'duration': 304,",
            "            'thumbnail': 'https://i.vimeocdn.com/video/450115033-43303819d9ebe24c2630352e18b7056d25197d09b3ae901abdac4c4f1d68de71-d_1280',",
            "            'uploader_url': 'https://vimeo.com/user21297594',",
            "        },",
            "    }, {",
            "        'note': 'video player needs Referer',",
            "        'url': 'https://vimeo.com/user22258446/review/91613211/13f927e053',",
            "        'md5': '6295fdab8f4bf6a002d058b2c6dce276',",
            "        'info_dict': {",
            "            'id': '91613211',",
            "            'ext': 'mp4',",
            "            'title': 're:(?i)^Death by dogma versus assembling agile . Sander Hoogendoorn',",
            "            'uploader': 'DevWeek Events',",
            "            'duration': 2773,",
            "            'thumbnail': r're:^https?://.*\\.jpg$',",
            "            'uploader_id': 'user22258446',",
            "        },",
            "        'skip': 'video gone',",
            "    }, {",
            "        'note': 'Password protected',",
            "        'url': 'https://vimeo.com/user37284429/review/138823582/c4d865efde',",
            "        'info_dict': {",
            "            'id': '138823582',",
            "            'ext': 'mp4',",
            "            'title': 'EFFICIENT PICKUP MASTERCLASS MODULE 1',",
            "            'uploader': 'TMB',",
            "            'uploader_id': 'user37284429',",
            "        },",
            "        'params': {",
            "            'videopassword': 'holygrail',",
            "        },",
            "        'skip': 'video gone',",
            "    }]",
            "",
            "    def _real_extract(self, url):",
            "        page_url, video_id = self._match_valid_url(url).groups()",
            "        data = self._download_json(",
            "            page_url.replace('/review/', '/review/data/'), video_id)",
            "        if data.get('isLocked') is True:",
            "            video_password = self._get_video_password()",
            "            viewer = self._download_json(",
            "                'https://vimeo.com/_rv/viewer', video_id)",
            "            webpage = self._verify_video_password(",
            "                'https://vimeo.com/' + video_id, video_id,",
            "                video_password, viewer['xsrft'], viewer['vuid'])",
            "            clip_page_config = self._parse_json(self._search_regex(",
            "                r'window\\.vimeo\\.clip_page_config\\s*=\\s*({.+?});',",
            "                webpage, 'clip page config'), video_id)",
            "            config_url = clip_page_config['player']['config_url']",
            "            clip_data = clip_page_config.get('clip') or {}",
            "        else:",
            "            clip_data = data['clipData']",
            "            config_url = clip_data['configUrl']",
            "        config = self._download_json(config_url, video_id)",
            "        info_dict = self._parse_config(config, video_id)",
            "        source_format = self._extract_original_format(",
            "            page_url + '/action', video_id)",
            "        if source_format:",
            "            info_dict['formats'].append(source_format)",
            "        info_dict['description'] = clean_html(clip_data.get('description'))",
            "        return info_dict",
            "",
            "",
            "class VimeoWatchLaterIE(VimeoChannelIE):  # XXX: Do not subclass from concrete IE",
            "    IE_NAME = 'vimeo:watchlater'",
            "    IE_DESC = 'Vimeo watch later list, \":vimeowatchlater\" keyword (requires authentication)'",
            "    _VALID_URL = r'https://vimeo\\.com/(?:home/)?watchlater|:vimeowatchlater'",
            "    _TITLE = 'Watch Later'",
            "    _LOGIN_REQUIRED = True",
            "    _TESTS = [{",
            "        'url': 'https://vimeo.com/watchlater',",
            "        'only_matching': True,",
            "    }]",
            "",
            "    def _page_url(self, base_url, pagenum):",
            "        url = '%s/page:%d/' % (base_url, pagenum)",
            "        request = Request(url)",
            "        # Set the header to get a partial html page with the ids,",
            "        # the normal page doesn't contain them.",
            "        request.headers['X-Requested-With'] = 'XMLHttpRequest'",
            "        return request",
            "",
            "    def _real_extract(self, url):",
            "        return self._extract_videos('watchlater', 'https://vimeo.com/watchlater')",
            "",
            "",
            "class VimeoLikesIE(VimeoChannelIE):  # XXX: Do not subclass from concrete IE",
            "    _VALID_URL = r'https://(?:www\\.)?vimeo\\.com/(?P<id>[^/]+)/likes/?(?:$|[?#]|sort:)'",
            "    IE_NAME = 'vimeo:likes'",
            "    IE_DESC = 'Vimeo user likes'",
            "    _TESTS = [{",
            "        'url': 'https://vimeo.com/user755559/likes/',",
            "        'playlist_mincount': 293,",
            "        'info_dict': {",
            "            'id': 'user755559',",
            "            'title': 'urza\u2019s Likes',",
            "        },",
            "    }, {",
            "        'url': 'https://vimeo.com/stormlapse/likes',",
            "        'only_matching': True,",
            "    }]",
            "",
            "    def _page_url(self, base_url, pagenum):",
            "        return '%s/page:%d/' % (base_url, pagenum)",
            "",
            "    def _real_extract(self, url):",
            "        user_id = self._match_id(url)",
            "        return self._extract_videos(user_id, 'https://vimeo.com/%s/likes' % user_id)",
            "",
            "",
            "class VHXEmbedIE(VimeoBaseInfoExtractor):",
            "    IE_NAME = 'vhx:embed'",
            "    _VALID_URL = r'https?://embed\\.vhx\\.tv/videos/(?P<id>\\d+)'",
            "    _EMBED_REGEX = [r'<iframe[^>]+src=\"(?P<url>https?://embed\\.vhx\\.tv/videos/\\d+[^\"]*)\"']",
            "",
            "    @classmethod",
            "    def _extract_embed_urls(cls, url, webpage):",
            "        for embed_url in super()._extract_embed_urls(url, webpage):",
            "            yield cls._smuggle_referrer(embed_url, url)",
            "",
            "    def _real_extract(self, url):",
            "        video_id = self._match_id(url)",
            "        url, _, headers = self._unsmuggle_headers(url)",
            "        webpage = self._download_webpage(url, video_id, headers=headers)",
            "        config_url = self._parse_json(self._search_regex(",
            "            r'window\\.OTTData\\s*=\\s*({.+})', webpage,",
            "            'ott data'), video_id, js_to_json)['config_url']",
            "        config = self._download_json(config_url, video_id)",
            "        info = self._parse_config(config, video_id)",
            "        info['id'] = video_id",
            "        return info",
            "",
            "",
            "class VimeoProIE(VimeoBaseInfoExtractor):",
            "    IE_NAME = 'vimeo:pro'",
            "    _VALID_URL = r'https?://(?:www\\.)?vimeopro\\.com/[^/?#]+/(?P<slug>[^/?#]+)(?:(?:/videos?/(?P<id>[0-9]+)))?'",
            "    _TESTS = [{",
            "        # Vimeo URL derived from video_id",
            "        'url': 'http://vimeopro.com/openstreetmapus/state-of-the-map-us-2013/video/68093876',",
            "        'md5': '3b5ca6aa22b60dfeeadf50b72e44ed82',",
            "        'note': 'Vimeo Pro video (#1197)',",
            "        'info_dict': {",
            "            'id': '68093876',",
            "            'ext': 'mp4',",
            "            'uploader_url': r're:https?://(?:www\\.)?vimeo\\.com/openstreetmapus',",
            "            'uploader_id': 'openstreetmapus',",
            "            'uploader': 'OpenStreetMap US',",
            "            'title': 'Andy Allan - Putting the Carto into OpenStreetMap Cartography',",
            "            'description': 'md5:2c362968038d4499f4d79f88458590c1',",
            "            'duration': 1595,",
            "            'upload_date': '20130610',",
            "            'timestamp': 1370893156,",
            "            'license': 'by',",
            "            'thumbnail': 'https://i.vimeocdn.com/video/440260469-19b0d92fca3bd84066623b53f1eb8aaa3980c6c809e2d67b6b39ab7b4a77a344-d_960',",
            "            'view_count': int,",
            "            'comment_count': int,",
            "            'like_count': int,",
            "            'tags': 'count:1',",
            "        },",
            "        'params': {",
            "            'format': 'best[protocol=https]',",
            "        },",
            "    }, {",
            "        # password-protected VimeoPro page with Vimeo player embed",
            "        'url': 'https://vimeopro.com/cadfem/simulation-conference-mechanische-systeme-in-perfektion',",
            "        'info_dict': {",
            "            'id': '764543723',",
            "            'ext': 'mp4',",
            "            'title': 'Mechanische Systeme in Perfektion: Realit\u00e4t erfassen, Innovation treiben',",
            "            'thumbnail': 'https://i.vimeocdn.com/video/1543784598-a1a750494a485e601110136b9fe11e28c2131942452b3a5d30391cb3800ca8fd-d_1280',",
            "            'description': 'md5:2a9d195cd1b0f6f79827107dc88c2420',",
            "            'uploader': 'CADFEM',",
            "            'uploader_id': 'cadfem',",
            "            'uploader_url': 'https://vimeo.com/cadfem',",
            "            'duration': 12505,",
            "            'chapters': 'count:10',",
            "        },",
            "        'params': {",
            "            'videopassword': 'Conference2022',",
            "            'skip_download': True,",
            "        },",
            "    }]",
            "",
            "    def _real_extract(self, url):",
            "        display_id, video_id = self._match_valid_url(url).group('slug', 'id')",
            "        if video_id:",
            "            display_id = video_id",
            "        webpage = self._download_webpage(url, display_id)",
            "",
            "        password_form = self._search_regex(",
            "            r'(?is)<form[^>]+?method=[\"\\']post[\"\\'][^>]*>(.+?password.+?)</form>',",
            "            webpage, 'password form', default=None)",
            "        if password_form:",
            "            try:",
            "                webpage = self._download_webpage(url, display_id, data=urlencode_postdata({",
            "                    'password': self._get_video_password(),",
            "                    **self._hidden_inputs(password_form),",
            "                }), note='Logging in with video password')",
            "            except ExtractorError as e:",
            "                if isinstance(e.cause, HTTPError) and e.cause.status == 418:",
            "                    raise ExtractorError('Wrong video password', expected=True)",
            "                raise",
            "",
            "        description = None",
            "        # even if we have video_id, some videos require player URL with portfolio_id query param",
            "        # https://github.com/ytdl-org/youtube-dl/issues/20070",
            "        vimeo_url = VimeoIE._extract_url(url, webpage)",
            "        if vimeo_url:",
            "            description = self._html_search_meta('description', webpage, default=None)",
            "        elif video_id:",
            "            vimeo_url = f'https://vimeo.com/{video_id}'",
            "        else:",
            "            raise ExtractorError(",
            "                'No Vimeo embed or video ID could be found in VimeoPro page', expected=True)",
            "",
            "        return self.url_result(vimeo_url, VimeoIE, video_id, url_transparent=True,",
            "                               description=description)"
        ],
        "action": [
            "0",
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0",
            "0",
            "0",
            "2",
            "2",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "40": [
                "VimeoBaseInfoExtractor",
                "_smuggle_referrer"
            ],
            "46": [
                "VimeoBaseInfoExtractor",
                "_unsmuggle_headers"
            ],
            "47": [
                "VimeoBaseInfoExtractor",
                "_unsmuggle_headers"
            ]
        },
        "addLocation": []
    },
    "yt_dlp/utils/networking.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 123,
                "afterPatchRowNumber": 123,
                "PatchRowcode": "     if 'Youtubedl-No-Compression' in headers:  # compat"
            },
            "1": {
                "beforePatchRowNumber": 124,
                "afterPatchRowNumber": 124,
                "PatchRowcode": "         del headers['Youtubedl-No-Compression']"
            },
            "2": {
                "beforePatchRowNumber": 125,
                "afterPatchRowNumber": 125,
                "PatchRowcode": "         headers['Accept-Encoding'] = 'identity'"
            },
            "3": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 126,
                "PatchRowcode": "+    headers.pop('Ytdl-socks-proxy', None)"
            },
            "4": {
                "beforePatchRowNumber": 126,
                "afterPatchRowNumber": 127,
                "PatchRowcode": " "
            },
            "5": {
                "beforePatchRowNumber": 127,
                "afterPatchRowNumber": 128,
                "PatchRowcode": " "
            },
            "6": {
                "beforePatchRowNumber": 128,
                "afterPatchRowNumber": 129,
                "PatchRowcode": " def remove_dot_segments(path):"
            }
        },
        "frontPatchFile": [
            "import collections",
            "import random",
            "import urllib.parse",
            "import urllib.request",
            "",
            "from ._utils import remove_start",
            "",
            "",
            "def random_user_agent():",
            "    _USER_AGENT_TPL = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Safari/537.36'",
            "    _CHROME_VERSIONS = (",
            "        '90.0.4430.212',",
            "        '90.0.4430.24',",
            "        '90.0.4430.70',",
            "        '90.0.4430.72',",
            "        '90.0.4430.85',",
            "        '90.0.4430.93',",
            "        '91.0.4472.101',",
            "        '91.0.4472.106',",
            "        '91.0.4472.114',",
            "        '91.0.4472.124',",
            "        '91.0.4472.164',",
            "        '91.0.4472.19',",
            "        '91.0.4472.77',",
            "        '92.0.4515.107',",
            "        '92.0.4515.115',",
            "        '92.0.4515.131',",
            "        '92.0.4515.159',",
            "        '92.0.4515.43',",
            "        '93.0.4556.0',",
            "        '93.0.4577.15',",
            "        '93.0.4577.63',",
            "        '93.0.4577.82',",
            "        '94.0.4606.41',",
            "        '94.0.4606.54',",
            "        '94.0.4606.61',",
            "        '94.0.4606.71',",
            "        '94.0.4606.81',",
            "        '94.0.4606.85',",
            "        '95.0.4638.17',",
            "        '95.0.4638.50',",
            "        '95.0.4638.54',",
            "        '95.0.4638.69',",
            "        '95.0.4638.74',",
            "        '96.0.4664.18',",
            "        '96.0.4664.45',",
            "        '96.0.4664.55',",
            "        '96.0.4664.93',",
            "        '97.0.4692.20',",
            "    )",
            "    return _USER_AGENT_TPL % random.choice(_CHROME_VERSIONS)",
            "",
            "",
            "class HTTPHeaderDict(collections.UserDict, dict):",
            "    \"\"\"",
            "    Store and access keys case-insensitively.",
            "    The constructor can take multiple dicts, in which keys in the latter are prioritised.",
            "    \"\"\"",
            "",
            "    def __init__(self, *args, **kwargs):",
            "        super().__init__()",
            "        for dct in args:",
            "            if dct is not None:",
            "                self.update(dct)",
            "        self.update(kwargs)",
            "",
            "    def __setitem__(self, key, value):",
            "        if isinstance(value, bytes):",
            "            value = value.decode('latin-1')",
            "        super().__setitem__(key.title(), str(value))",
            "",
            "    def __getitem__(self, key):",
            "        return super().__getitem__(key.title())",
            "",
            "    def __delitem__(self, key):",
            "        super().__delitem__(key.title())",
            "",
            "    def __contains__(self, key):",
            "        return super().__contains__(key.title() if isinstance(key, str) else key)",
            "",
            "",
            "std_headers = HTTPHeaderDict({",
            "    'User-Agent': random_user_agent(),",
            "    'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',",
            "    'Accept-Language': 'en-us,en;q=0.5',",
            "    'Sec-Fetch-Mode': 'navigate',",
            "})",
            "",
            "",
            "def clean_proxies(proxies: dict, headers: HTTPHeaderDict):",
            "    req_proxy = headers.pop('Ytdl-Request-Proxy', None)",
            "    if req_proxy:",
            "        proxies.clear()  # XXX: compat: Ytdl-Request-Proxy takes preference over everything, including NO_PROXY",
            "        proxies['all'] = req_proxy",
            "    for proxy_key, proxy_url in proxies.items():",
            "        if proxy_url == '__noproxy__':",
            "            proxies[proxy_key] = None",
            "            continue",
            "        if proxy_key == 'no':  # special case",
            "            continue",
            "        if proxy_url is not None:",
            "            # Ensure proxies without a scheme are http.",
            "            try:",
            "                proxy_scheme = urllib.request._parse_proxy(proxy_url)[0]",
            "            except ValueError:",
            "                # Ignore invalid proxy URLs. Sometimes these may be introduced through environment",
            "                # variables unrelated to proxy settings - e.g. Colab `COLAB_LANGUAGE_SERVER_PROXY`.",
            "                # If the proxy is going to be used, the Request Handler proxy validation will handle it.",
            "                continue",
            "            if proxy_scheme is None:",
            "                proxies[proxy_key] = 'http://' + remove_start(proxy_url, '//')",
            "",
            "            replace_scheme = {",
            "                'socks5': 'socks5h',  # compat: socks5 was treated as socks5h",
            "                'socks': 'socks4'  # compat: non-standard",
            "            }",
            "            if proxy_scheme in replace_scheme:",
            "                proxies[proxy_key] = urllib.parse.urlunparse(",
            "                    urllib.parse.urlparse(proxy_url)._replace(scheme=replace_scheme[proxy_scheme]))",
            "",
            "",
            "def clean_headers(headers: HTTPHeaderDict):",
            "    if 'Youtubedl-No-Compression' in headers:  # compat",
            "        del headers['Youtubedl-No-Compression']",
            "        headers['Accept-Encoding'] = 'identity'",
            "",
            "",
            "def remove_dot_segments(path):",
            "    # Implements RFC3986 5.2.4 remote_dot_segments",
            "    # Pseudo-code: https://tools.ietf.org/html/rfc3986#section-5.2.4",
            "    # https://github.com/urllib3/urllib3/blob/ba49f5c4e19e6bca6827282feb77a3c9f937e64b/src/urllib3/util/url.py#L263",
            "    output = []",
            "    segments = path.split('/')",
            "    for s in segments:",
            "        if s == '.':",
            "            continue",
            "        elif s == '..':",
            "            if output:",
            "                output.pop()",
            "        else:",
            "            output.append(s)",
            "    if not segments[0] and (not output or output[0]):",
            "        output.insert(0, '')",
            "    if segments[-1] in ('.', '..'):",
            "        output.append('')",
            "    return '/'.join(output)",
            "",
            "",
            "def escape_rfc3986(s):",
            "    \"\"\"Escape non-ASCII characters as suggested by RFC 3986\"\"\"",
            "    return urllib.parse.quote(s, b\"%/;:@&=+$,!~*'()?#[]\")",
            "",
            "",
            "def normalize_url(url):",
            "    \"\"\"Normalize URL as suggested by RFC 3986\"\"\"",
            "    url_parsed = urllib.parse.urlparse(url)",
            "    return url_parsed._replace(",
            "        netloc=url_parsed.netloc.encode('idna').decode('ascii'),",
            "        path=escape_rfc3986(remove_dot_segments(url_parsed.path)),",
            "        params=escape_rfc3986(url_parsed.params),",
            "        query=escape_rfc3986(url_parsed.query),",
            "        fragment=escape_rfc3986(url_parsed.fragment)",
            "    ).geturl()"
        ],
        "afterPatchFile": [
            "import collections",
            "import random",
            "import urllib.parse",
            "import urllib.request",
            "",
            "from ._utils import remove_start",
            "",
            "",
            "def random_user_agent():",
            "    _USER_AGENT_TPL = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Safari/537.36'",
            "    _CHROME_VERSIONS = (",
            "        '90.0.4430.212',",
            "        '90.0.4430.24',",
            "        '90.0.4430.70',",
            "        '90.0.4430.72',",
            "        '90.0.4430.85',",
            "        '90.0.4430.93',",
            "        '91.0.4472.101',",
            "        '91.0.4472.106',",
            "        '91.0.4472.114',",
            "        '91.0.4472.124',",
            "        '91.0.4472.164',",
            "        '91.0.4472.19',",
            "        '91.0.4472.77',",
            "        '92.0.4515.107',",
            "        '92.0.4515.115',",
            "        '92.0.4515.131',",
            "        '92.0.4515.159',",
            "        '92.0.4515.43',",
            "        '93.0.4556.0',",
            "        '93.0.4577.15',",
            "        '93.0.4577.63',",
            "        '93.0.4577.82',",
            "        '94.0.4606.41',",
            "        '94.0.4606.54',",
            "        '94.0.4606.61',",
            "        '94.0.4606.71',",
            "        '94.0.4606.81',",
            "        '94.0.4606.85',",
            "        '95.0.4638.17',",
            "        '95.0.4638.50',",
            "        '95.0.4638.54',",
            "        '95.0.4638.69',",
            "        '95.0.4638.74',",
            "        '96.0.4664.18',",
            "        '96.0.4664.45',",
            "        '96.0.4664.55',",
            "        '96.0.4664.93',",
            "        '97.0.4692.20',",
            "    )",
            "    return _USER_AGENT_TPL % random.choice(_CHROME_VERSIONS)",
            "",
            "",
            "class HTTPHeaderDict(collections.UserDict, dict):",
            "    \"\"\"",
            "    Store and access keys case-insensitively.",
            "    The constructor can take multiple dicts, in which keys in the latter are prioritised.",
            "    \"\"\"",
            "",
            "    def __init__(self, *args, **kwargs):",
            "        super().__init__()",
            "        for dct in args:",
            "            if dct is not None:",
            "                self.update(dct)",
            "        self.update(kwargs)",
            "",
            "    def __setitem__(self, key, value):",
            "        if isinstance(value, bytes):",
            "            value = value.decode('latin-1')",
            "        super().__setitem__(key.title(), str(value))",
            "",
            "    def __getitem__(self, key):",
            "        return super().__getitem__(key.title())",
            "",
            "    def __delitem__(self, key):",
            "        super().__delitem__(key.title())",
            "",
            "    def __contains__(self, key):",
            "        return super().__contains__(key.title() if isinstance(key, str) else key)",
            "",
            "",
            "std_headers = HTTPHeaderDict({",
            "    'User-Agent': random_user_agent(),",
            "    'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',",
            "    'Accept-Language': 'en-us,en;q=0.5',",
            "    'Sec-Fetch-Mode': 'navigate',",
            "})",
            "",
            "",
            "def clean_proxies(proxies: dict, headers: HTTPHeaderDict):",
            "    req_proxy = headers.pop('Ytdl-Request-Proxy', None)",
            "    if req_proxy:",
            "        proxies.clear()  # XXX: compat: Ytdl-Request-Proxy takes preference over everything, including NO_PROXY",
            "        proxies['all'] = req_proxy",
            "    for proxy_key, proxy_url in proxies.items():",
            "        if proxy_url == '__noproxy__':",
            "            proxies[proxy_key] = None",
            "            continue",
            "        if proxy_key == 'no':  # special case",
            "            continue",
            "        if proxy_url is not None:",
            "            # Ensure proxies without a scheme are http.",
            "            try:",
            "                proxy_scheme = urllib.request._parse_proxy(proxy_url)[0]",
            "            except ValueError:",
            "                # Ignore invalid proxy URLs. Sometimes these may be introduced through environment",
            "                # variables unrelated to proxy settings - e.g. Colab `COLAB_LANGUAGE_SERVER_PROXY`.",
            "                # If the proxy is going to be used, the Request Handler proxy validation will handle it.",
            "                continue",
            "            if proxy_scheme is None:",
            "                proxies[proxy_key] = 'http://' + remove_start(proxy_url, '//')",
            "",
            "            replace_scheme = {",
            "                'socks5': 'socks5h',  # compat: socks5 was treated as socks5h",
            "                'socks': 'socks4'  # compat: non-standard",
            "            }",
            "            if proxy_scheme in replace_scheme:",
            "                proxies[proxy_key] = urllib.parse.urlunparse(",
            "                    urllib.parse.urlparse(proxy_url)._replace(scheme=replace_scheme[proxy_scheme]))",
            "",
            "",
            "def clean_headers(headers: HTTPHeaderDict):",
            "    if 'Youtubedl-No-Compression' in headers:  # compat",
            "        del headers['Youtubedl-No-Compression']",
            "        headers['Accept-Encoding'] = 'identity'",
            "    headers.pop('Ytdl-socks-proxy', None)",
            "",
            "",
            "def remove_dot_segments(path):",
            "    # Implements RFC3986 5.2.4 remote_dot_segments",
            "    # Pseudo-code: https://tools.ietf.org/html/rfc3986#section-5.2.4",
            "    # https://github.com/urllib3/urllib3/blob/ba49f5c4e19e6bca6827282feb77a3c9f937e64b/src/urllib3/util/url.py#L263",
            "    output = []",
            "    segments = path.split('/')",
            "    for s in segments:",
            "        if s == '.':",
            "            continue",
            "        elif s == '..':",
            "            if output:",
            "                output.pop()",
            "        else:",
            "            output.append(s)",
            "    if not segments[0] and (not output or output[0]):",
            "        output.insert(0, '')",
            "    if segments[-1] in ('.', '..'):",
            "        output.append('')",
            "    return '/'.join(output)",
            "",
            "",
            "def escape_rfc3986(s):",
            "    \"\"\"Escape non-ASCII characters as suggested by RFC 3986\"\"\"",
            "    return urllib.parse.quote(s, b\"%/;:@&=+$,!~*'()?#[]\")",
            "",
            "",
            "def normalize_url(url):",
            "    \"\"\"Normalize URL as suggested by RFC 3986\"\"\"",
            "    url_parsed = urllib.parse.urlparse(url)",
            "    return url_parsed._replace(",
            "        netloc=url_parsed.netloc.encode('idna').decode('ascii'),",
            "        path=escape_rfc3986(remove_dot_segments(url_parsed.path)),",
            "        params=escape_rfc3986(url_parsed.params),",
            "        query=escape_rfc3986(url_parsed.query),",
            "        fragment=escape_rfc3986(url_parsed.fragment)",
            "    ).geturl()"
        ],
        "action": [
            "0",
            "0",
            "0",
            "-1",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {},
        "addLocation": [
            "src.pyload.webui.app.blueprints.json_blueprint"
        ]
    }
}