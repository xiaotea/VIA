{
    "tqdm/_version.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 1,
                "afterPatchRowNumber": 1,
                "PatchRowcode": " # Definition of the version number"
            },
            "1": {
                "beforePatchRowNumber": 2,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-try:"
            },
            "2": {
                "beforePatchRowNumber": 3,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    from ._utils import _sh"
            },
            "3": {
                "beforePatchRowNumber": 4,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-except:  # pragma: no cover"
            },
            "4": {
                "beforePatchRowNumber": 5,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    _sh = None"
            },
            "5": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 2,
                "PatchRowcode": "+import os"
            },
            "6": {
                "beforePatchRowNumber": 6,
                "afterPatchRowNumber": 3,
                "PatchRowcode": " "
            },
            "7": {
                "beforePatchRowNumber": 7,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-from subprocess import STDOUT"
            },
            "8": {
                "beforePatchRowNumber": 8,
                "afterPatchRowNumber": 4,
                "PatchRowcode": " __all__ = [\"__version__\"]"
            },
            "9": {
                "beforePatchRowNumber": 9,
                "afterPatchRowNumber": 5,
                "PatchRowcode": " "
            },
            "10": {
                "beforePatchRowNumber": 10,
                "afterPatchRowNumber": 6,
                "PatchRowcode": " # major, minor, patch, -extra"
            },
            "11": {
                "beforePatchRowNumber": 15,
                "afterPatchRowNumber": 11,
                "PatchRowcode": " "
            },
            "12": {
                "beforePatchRowNumber": 16,
                "afterPatchRowNumber": 12,
                "PatchRowcode": " "
            },
            "13": {
                "beforePatchRowNumber": 17,
                "afterPatchRowNumber": 13,
                "PatchRowcode": " # auto -extra based on commit hash (if not tagged as release)"
            },
            "14": {
                "beforePatchRowNumber": 18,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-if (_sh is not None) and (len(version_info) < 4):  # pragma: no cover"
            },
            "15": {
                "beforePatchRowNumber": 19,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    def commit_hash(*args):"
            },
            "16": {
                "beforePatchRowNumber": 20,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        try:"
            },
            "17": {
                "beforePatchRowNumber": 21,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            res = _sh('git', 'log', '-n', '1', '--oneline', *args,"
            },
            "18": {
                "beforePatchRowNumber": 22,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-                      stderr=STDOUT).lstrip().split()[0]"
            },
            "19": {
                "beforePatchRowNumber": 23,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            return None if res.startswith('fatal') else res"
            },
            "20": {
                "beforePatchRowNumber": 24,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        except:"
            },
            "21": {
                "beforePatchRowNumber": 25,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            return None"
            },
            "22": {
                "beforePatchRowNumber": 26,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-"
            },
            "23": {
                "beforePatchRowNumber": 27,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    cur_hash = commit_hash()"
            },
            "24": {
                "beforePatchRowNumber": 28,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    if cur_hash is not None:"
            },
            "25": {
                "beforePatchRowNumber": 29,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        last_release = commit_hash('v' + __version__)"
            },
            "26": {
                "beforePatchRowNumber": 30,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-"
            },
            "27": {
                "beforePatchRowNumber": 31,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        if (last_release is None) or (cur_hash not in last_release):"
            },
            "28": {
                "beforePatchRowNumber": 32,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-            __version__ += '-' + cur_hash"
            },
            "29": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 14,
                "PatchRowcode": "+res = None"
            },
            "30": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 15,
                "PatchRowcode": "+scriptdir = os.path.dirname(__file__)"
            },
            "31": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 16,
                "PatchRowcode": "+gitdir = os.path.abspath(scriptdir + '/../.git')"
            },
            "32": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 17,
                "PatchRowcode": "+if os.path.isdir(gitdir):"
            },
            "33": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 18,
                "PatchRowcode": "+    # Open the HEAD file"
            },
            "34": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 19,
                "PatchRowcode": "+    with open(os.path.join(gitdir,'HEAD'), 'r') as fh_head:"
            },
            "35": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 20,
                "PatchRowcode": "+        res = fh_head.readline().strip()"
            },
            "36": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 21,
                "PatchRowcode": "+    # If we are in a branch, HEAD will point to a file containing the latest commit"
            },
            "37": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 22,
                "PatchRowcode": "+    if 'ref:' in res:"
            },
            "38": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 23,
                "PatchRowcode": "+        # Get reference file path"
            },
            "39": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 24,
                "PatchRowcode": "+        ref_file = res[5:]"
            },
            "40": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 25,
                "PatchRowcode": "+        # Get branch name"
            },
            "41": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 26,
                "PatchRowcode": "+        branch_name = ref_file.split('/')[-1]"
            },
            "42": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 27,
                "PatchRowcode": "+        # Sanitize path of ref file"
            },
            "43": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 28,
                "PatchRowcode": "+        # get full path to ref file"
            },
            "44": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 29,
                "PatchRowcode": "+        ref_file_path = os.path.abspath(os.path.join(gitdir, ref_file))"
            },
            "45": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 30,
                "PatchRowcode": "+        # check that we are in git folder (by stripping the git folder from the ref file path)"
            },
            "46": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 31,
                "PatchRowcode": "+        if os.path.relpath(ref_file_path, gitdir).replace('\\\\', '/') != ref_file:"
            },
            "47": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 32,
                "PatchRowcode": "+            # Trying to get out of git folder, not good!"
            },
            "48": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 33,
                "PatchRowcode": "+            res = None"
            },
            "49": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 34,
                "PatchRowcode": "+        else:"
            },
            "50": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 35,
                "PatchRowcode": "+            # Else the file file is inside git, all good"
            },
            "51": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 36,
                "PatchRowcode": "+            # Open the ref file"
            },
            "52": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 37,
                "PatchRowcode": "+            with open(ref_file_path, 'r') as fh_branch:"
            },
            "53": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 38,
                "PatchRowcode": "+                commit_hash = fh_branch.readline().strip()"
            },
            "54": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 39,
                "PatchRowcode": "+                res = commit_hash[:8] + ' (branch: ' + branch_name + ')'"
            },
            "55": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 40,
                "PatchRowcode": "+    # Else we are in detached HEAD mode, we directly have a commit hash"
            },
            "56": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 41,
                "PatchRowcode": "+    else:"
            },
            "57": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 42,
                "PatchRowcode": "+        res = res[:8]"
            },
            "58": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 43,
                "PatchRowcode": "+    # Append to version string"
            },
            "59": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 44,
                "PatchRowcode": "+    if res is not None:"
            },
            "60": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 45,
                "PatchRowcode": "+        __version__ += '-' + res"
            }
        },
        "frontPatchFile": [
            "# Definition of the version number",
            "try:",
            "    from ._utils import _sh",
            "except:  # pragma: no cover",
            "    _sh = None",
            "",
            "from subprocess import STDOUT",
            "__all__ = [\"__version__\"]",
            "",
            "# major, minor, patch, -extra",
            "version_info = 4, 11, 1",
            "",
            "# Nice string for the version",
            "__version__ = '.'.join(map(str, version_info))",
            "",
            "",
            "# auto -extra based on commit hash (if not tagged as release)",
            "if (_sh is not None) and (len(version_info) < 4):  # pragma: no cover",
            "    def commit_hash(*args):",
            "        try:",
            "            res = _sh('git', 'log', '-n', '1', '--oneline', *args,",
            "                      stderr=STDOUT).lstrip().split()[0]",
            "            return None if res.startswith('fatal') else res",
            "        except:",
            "            return None",
            "",
            "    cur_hash = commit_hash()",
            "    if cur_hash is not None:",
            "        last_release = commit_hash('v' + __version__)",
            "",
            "        if (last_release is None) or (cur_hash not in last_release):",
            "            __version__ += '-' + cur_hash"
        ],
        "afterPatchFile": [
            "# Definition of the version number",
            "import os",
            "",
            "__all__ = [\"__version__\"]",
            "",
            "# major, minor, patch, -extra",
            "version_info = 4, 11, 1",
            "",
            "# Nice string for the version",
            "__version__ = '.'.join(map(str, version_info))",
            "",
            "",
            "# auto -extra based on commit hash (if not tagged as release)",
            "res = None",
            "scriptdir = os.path.dirname(__file__)",
            "gitdir = os.path.abspath(scriptdir + '/../.git')",
            "if os.path.isdir(gitdir):",
            "    # Open the HEAD file",
            "    with open(os.path.join(gitdir,'HEAD'), 'r') as fh_head:",
            "        res = fh_head.readline().strip()",
            "    # If we are in a branch, HEAD will point to a file containing the latest commit",
            "    if 'ref:' in res:",
            "        # Get reference file path",
            "        ref_file = res[5:]",
            "        # Get branch name",
            "        branch_name = ref_file.split('/')[-1]",
            "        # Sanitize path of ref file",
            "        # get full path to ref file",
            "        ref_file_path = os.path.abspath(os.path.join(gitdir, ref_file))",
            "        # check that we are in git folder (by stripping the git folder from the ref file path)",
            "        if os.path.relpath(ref_file_path, gitdir).replace('\\\\', '/') != ref_file:",
            "            # Trying to get out of git folder, not good!",
            "            res = None",
            "        else:",
            "            # Else the file file is inside git, all good",
            "            # Open the ref file",
            "            with open(ref_file_path, 'r') as fh_branch:",
            "                commit_hash = fh_branch.readline().strip()",
            "                res = commit_hash[:8] + ' (branch: ' + branch_name + ')'",
            "    # Else we are in detached HEAD mode, we directly have a commit hash",
            "    else:",
            "        res = res[:8]",
            "    # Append to version string",
            "    if res is not None:",
            "        __version__ += '-' + res"
        ],
        "action": [
            "0",
            "2",
            "2",
            "2",
            "2",
            "2",
            "0",
            "2",
            "0",
            "0",
            "0",
            "0",
            "0",
            "0",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2",
            "2"
        ],
        "dele_reviseLocation": {
            "2": [],
            "3": [],
            "4": [],
            "5": [
                "_sh"
            ],
            "7": [],
            "18": [],
            "19": [
                "commit_hash"
            ],
            "20": [
                "commit_hash"
            ],
            "21": [
                "commit_hash"
            ],
            "22": [
                "commit_hash"
            ],
            "23": [
                "commit_hash"
            ],
            "24": [
                "commit_hash"
            ],
            "25": [
                "commit_hash"
            ],
            "26": [],
            "27": [
                "cur_hash"
            ],
            "28": [],
            "29": [
                "last_release"
            ],
            "30": [],
            "31": [],
            "32": []
        },
        "addLocation": []
    },
    "tqdm/tests/tests_version.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 4,
                "afterPatchRowNumber": 4,
                "PatchRowcode": " def test_version():"
            },
            "1": {
                "beforePatchRowNumber": 5,
                "afterPatchRowNumber": 5,
                "PatchRowcode": "     \"\"\" Test version string \"\"\""
            },
            "2": {
                "beforePatchRowNumber": 6,
                "afterPatchRowNumber": 6,
                "PatchRowcode": "     from tqdm import __version__"
            },
            "3": {
                "beforePatchRowNumber": 7,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    Mmpe = re.split('[.-]', __version__)"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 7,
                "PatchRowcode": "+    Mmpe = __version__.split()[0]  # remove part after space (branch name)"
            },
            "5": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 8,
                "PatchRowcode": "+    Mmpe = re.split('[.-]', Mmpe)  # split by dot and dash"
            },
            "6": {
                "beforePatchRowNumber": 8,
                "afterPatchRowNumber": 9,
                "PatchRowcode": "     assert 3 <= len(Mmpe) <= 4"
            },
            "7": {
                "beforePatchRowNumber": 9,
                "afterPatchRowNumber": 10,
                "PatchRowcode": "     try:"
            },
            "8": {
                "beforePatchRowNumber": 10,
                "afterPatchRowNumber": 11,
                "PatchRowcode": "         map(int, Mmpe[:3])"
            }
        },
        "frontPatchFile": [
            "import re",
            "",
            "",
            "def test_version():",
            "    \"\"\" Test version string \"\"\"",
            "    from tqdm import __version__",
            "    Mmpe = re.split('[.-]', __version__)",
            "    assert 3 <= len(Mmpe) <= 4",
            "    try:",
            "        map(int, Mmpe[:3])",
            "    except:",
            "        raise TypeError('Version major, minor, patch must be integers')"
        ],
        "afterPatchFile": [
            "import re",
            "",
            "",
            "def test_version():",
            "    \"\"\" Test version string \"\"\"",
            "    from tqdm import __version__",
            "    Mmpe = __version__.split()[0]  # remove part after space (branch name)",
            "    Mmpe = re.split('[.-]', Mmpe)  # split by dot and dash",
            "    assert 3 <= len(Mmpe) <= 4",
            "    try:",
            "        map(int, Mmpe[:3])",
            "    except:",
            "        raise TypeError('Version major, minor, patch must be integers')"
        ],
        "action": [
            "0",
            "0",
            "0",
            "2",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "7": [
                "test_version"
            ]
        },
        "addLocation": []
    }
}