{
    "libvcs/hg.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 26,
                "afterPatchRowNumber": 26,
                "PatchRowcode": "     def obtain(self):"
            },
            "1": {
                "beforePatchRowNumber": 27,
                "afterPatchRowNumber": 27,
                "PatchRowcode": "         self.ensure_dir()"
            },
            "2": {
                "beforePatchRowNumber": 28,
                "afterPatchRowNumber": 28,
                "PatchRowcode": " "
            },
            "3": {
                "beforePatchRowNumber": 29,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-        self.run([\"clone\", \"--noupdate\", \"-q\", self.url, self.path])"
            },
            "4": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 29,
                "PatchRowcode": "+        # Double hyphens between [OPTION]... -- SOURCE [DEST] prevent command injections"
            },
            "5": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 30,
                "PatchRowcode": "+        # via aliases"
            },
            "6": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 31,
                "PatchRowcode": "+        self.run([\"clone\", \"--noupdate\", \"-q\", \"--\", self.url, self.path])"
            },
            "7": {
                "beforePatchRowNumber": 30,
                "afterPatchRowNumber": 32,
                "PatchRowcode": "         self.run([\"update\", \"-q\"])"
            },
            "8": {
                "beforePatchRowNumber": 31,
                "afterPatchRowNumber": 33,
                "PatchRowcode": " "
            },
            "9": {
                "beforePatchRowNumber": 32,
                "afterPatchRowNumber": 34,
                "PatchRowcode": "     def get_revision(self):"
            }
        },
        "frontPatchFile": [
            "\"\"\"Mercurial Repo object for libvcs.",
            "",
            ".. todo::",
            "",
            "   The following is from pypa/pip (MIT license):",
            "",
            "   - [`MercurialRepo.convert_pip_url`](libvcs.hg.convert_pip_url)",
            "   - [`MercurialRepo.get_url`](libvcs.hg.MercurialRepo.get_url)",
            "   - [`MercurialRepo.get_revision`](libvcs.hg.MercurialRepo.get_revision)",
            "\"\"\"  # NOQA E5",
            "import logging",
            "import os",
            "",
            "from .base import BaseRepo",
            "",
            "logger = logging.getLogger(__name__)",
            "",
            "",
            "class MercurialRepo(BaseRepo):",
            "    bin_name = \"hg\"",
            "    schemes = (\"hg\", \"hg+http\", \"hg+https\", \"hg+file\")",
            "",
            "    def __init__(self, url, repo_dir, **kwargs):",
            "        BaseRepo.__init__(self, url, repo_dir, **kwargs)",
            "",
            "    def obtain(self):",
            "        self.ensure_dir()",
            "",
            "        self.run([\"clone\", \"--noupdate\", \"-q\", self.url, self.path])",
            "        self.run([\"update\", \"-q\"])",
            "",
            "    def get_revision(self):",
            "        return self.run([\"parents\", \"--template={rev}\"])",
            "",
            "    def update_repo(self):",
            "        self.ensure_dir()",
            "        if not os.path.isdir(os.path.join(self.path, \".hg\")):",
            "            self.obtain()",
            "            self.update_repo()",
            "        else:",
            "            self.run([\"update\"])",
            "            self.run([\"pull\", \"-u\"])"
        ],
        "afterPatchFile": [
            "\"\"\"Mercurial Repo object for libvcs.",
            "",
            ".. todo::",
            "",
            "   The following is from pypa/pip (MIT license):",
            "",
            "   - [`MercurialRepo.convert_pip_url`](libvcs.hg.convert_pip_url)",
            "   - [`MercurialRepo.get_url`](libvcs.hg.MercurialRepo.get_url)",
            "   - [`MercurialRepo.get_revision`](libvcs.hg.MercurialRepo.get_revision)",
            "\"\"\"  # NOQA E5",
            "import logging",
            "import os",
            "",
            "from .base import BaseRepo",
            "",
            "logger = logging.getLogger(__name__)",
            "",
            "",
            "class MercurialRepo(BaseRepo):",
            "    bin_name = \"hg\"",
            "    schemes = (\"hg\", \"hg+http\", \"hg+https\", \"hg+file\")",
            "",
            "    def __init__(self, url, repo_dir, **kwargs):",
            "        BaseRepo.__init__(self, url, repo_dir, **kwargs)",
            "",
            "    def obtain(self):",
            "        self.ensure_dir()",
            "",
            "        # Double hyphens between [OPTION]... -- SOURCE [DEST] prevent command injections",
            "        # via aliases",
            "        self.run([\"clone\", \"--noupdate\", \"-q\", \"--\", self.url, self.path])",
            "        self.run([\"update\", \"-q\"])",
            "",
            "    def get_revision(self):",
            "        return self.run([\"parents\", \"--template={rev}\"])",
            "",
            "    def update_repo(self):",
            "        self.ensure_dir()",
            "        if not os.path.isdir(os.path.join(self.path, \".hg\")):",
            "            self.obtain()",
            "            self.update_repo()",
            "        else:",
            "            self.run([\"update\"])",
            "            self.run([\"pull\", \"-u\"])"
        ],
        "action": [
            "0",
            "0",
            "0",
            "2",
            "2",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "29": [
                "MercurialRepo",
                "obtain"
            ]
        },
        "addLocation": []
    }
}