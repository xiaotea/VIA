{
    "llama_index/exec_utils.py": {
        "Patch": {
            "0": {
                "beforePatchRowNumber": 1,
                "afterPatchRowNumber": 1,
                "PatchRowcode": " import copy"
            },
            "1": {
                "beforePatchRowNumber": 2,
                "afterPatchRowNumber": 2,
                "PatchRowcode": " from types import CodeType, ModuleType"
            },
            "2": {
                "beforePatchRowNumber": 3,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-from typing import Any, Mapping, Sequence, Union, Dict"
            },
            "3": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 3,
                "PatchRowcode": "+from typing import Any, Dict, Mapping, Sequence, Union"
            },
            "4": {
                "beforePatchRowNumber": 4,
                "afterPatchRowNumber": 4,
                "PatchRowcode": " "
            },
            "5": {
                "beforePatchRowNumber": 5,
                "afterPatchRowNumber": 5,
                "PatchRowcode": " ALLOWED_IMPORTS = {"
            },
            "6": {
                "beforePatchRowNumber": 6,
                "afterPatchRowNumber": 6,
                "PatchRowcode": "     \"math\","
            },
            "7": {
                "beforePatchRowNumber": 85,
                "afterPatchRowNumber": 85,
                "PatchRowcode": " "
            },
            "8": {
                "beforePatchRowNumber": 86,
                "afterPatchRowNumber": 86,
                "PatchRowcode": " def _get_restricted_globals(__globals: Union[dict, None]) -> Any:"
            },
            "9": {
                "beforePatchRowNumber": 87,
                "afterPatchRowNumber": 87,
                "PatchRowcode": "     restricted_globals = copy.deepcopy(ALLOWED_BUILTINS)"
            },
            "10": {
                "beforePatchRowNumber": 88,
                "afterPatchRowNumber": "",
                "PatchRowcode": "-    restricted_globals.update(__globals)"
            },
            "11": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 88,
                "PatchRowcode": "+    if __globals:"
            },
            "12": {
                "beforePatchRowNumber": "",
                "afterPatchRowNumber": 89,
                "PatchRowcode": "+        restricted_globals.update(__globals)"
            },
            "13": {
                "beforePatchRowNumber": 89,
                "afterPatchRowNumber": 90,
                "PatchRowcode": "     return restricted_globals"
            },
            "14": {
                "beforePatchRowNumber": 90,
                "afterPatchRowNumber": 91,
                "PatchRowcode": " "
            },
            "15": {
                "beforePatchRowNumber": 91,
                "afterPatchRowNumber": 92,
                "PatchRowcode": " "
            }
        },
        "frontPatchFile": [
            "import copy",
            "from types import CodeType, ModuleType",
            "from typing import Any, Mapping, Sequence, Union, Dict",
            "",
            "ALLOWED_IMPORTS = {",
            "    \"math\",",
            "    \"time\",",
            "    \"datetime\",",
            "    \"pandas\",",
            "    \"scipy\",",
            "    \"numpy\",",
            "    \"matplotlib\",",
            "    \"plotly\",",
            "    \"seaborn\",",
            "}",
            "",
            "",
            "def _restricted_import(",
            "    name: str,",
            "    globals: Union[Mapping[str, object], None] = None,",
            "    locals: Union[Mapping[str, object], None] = None,",
            "    fromlist: Sequence[str] = (),",
            "    level: int = 0,",
            ") -> ModuleType:",
            "    if name in ALLOWED_IMPORTS:",
            "        return __import__(name, globals, locals, fromlist, level)",
            "    raise ImportError(f\"Import of module '{name}' is not allowed\")",
            "",
            "",
            "ALLOWED_BUILTINS = {",
            "    \"abs\": abs,",
            "    \"all\": all,",
            "    \"any\": any,",
            "    \"ascii\": ascii,",
            "    \"bin\": bin,",
            "    \"bool\": bool,",
            "    \"bytearray\": bytearray,",
            "    \"bytes\": bytes,",
            "    \"chr\": chr,",
            "    \"complex\": complex,",
            "    \"divmod\": divmod,",
            "    \"enumerate\": enumerate,",
            "    \"filter\": filter,",
            "    \"float\": float,",
            "    \"format\": format,",
            "    \"frozenset\": frozenset,",
            "    \"getattr\": getattr,",
            "    \"hasattr\": hasattr,",
            "    \"hash\": hash,",
            "    \"hex\": hex,",
            "    \"int\": int,",
            "    \"isinstance\": isinstance,",
            "    \"issubclass\": issubclass,",
            "    \"iter\": iter,",
            "    \"len\": len,",
            "    \"list\": list,",
            "    \"map\": map,",
            "    \"max\": max,",
            "    \"min\": min,",
            "    \"next\": next,",
            "    \"oct\": oct,",
            "    \"ord\": ord,",
            "    \"pow\": pow,",
            "    \"print\": print,",
            "    \"range\": range,",
            "    \"repr\": repr,",
            "    \"reversed\": reversed,",
            "    \"round\": round,",
            "    \"set\": set,",
            "    \"setattr\": setattr,",
            "    \"slice\": slice,",
            "    \"sorted\": sorted,",
            "    \"str\": str,",
            "    \"sum\": sum,",
            "    \"tuple\": tuple,",
            "    \"type\": type,",
            "    \"zip\": zip,",
            "    # Constants",
            "    \"True\": True,",
            "    \"False\": False,",
            "    \"None\": None,",
            "    \"__import__\": _restricted_import,",
            "}",
            "",
            "",
            "def _get_restricted_globals(__globals: Union[dict, None]) -> Any:",
            "    restricted_globals = copy.deepcopy(ALLOWED_BUILTINS)",
            "    restricted_globals.update(__globals)",
            "    return restricted_globals",
            "",
            "",
            "def safe_eval(",
            "    __source: Union[str, bytes, CodeType],",
            "    __globals: Union[Dict[str, Any], None] = None,",
            "    __locals: Union[Mapping[str, object], None] = None,",
            ") -> Any:",
            "    \"\"\"",
            "    eval within safe global context.",
            "    \"\"\"",
            "    return eval(__source, _get_restricted_globals(__globals), __locals)",
            "",
            "",
            "def safe_exec(",
            "    __source: Union[str, bytes, CodeType],",
            "    __globals: Union[Dict[str, Any], None] = None,",
            "    __locals: Union[Mapping[str, object], None] = None,",
            ") -> None:",
            "    \"\"\"",
            "    eval within safe global context.",
            "    \"\"\"",
            "    return exec(__source, _get_restricted_globals(__globals), __locals)"
        ],
        "afterPatchFile": [
            "import copy",
            "from types import CodeType, ModuleType",
            "from typing import Any, Dict, Mapping, Sequence, Union",
            "",
            "ALLOWED_IMPORTS = {",
            "    \"math\",",
            "    \"time\",",
            "    \"datetime\",",
            "    \"pandas\",",
            "    \"scipy\",",
            "    \"numpy\",",
            "    \"matplotlib\",",
            "    \"plotly\",",
            "    \"seaborn\",",
            "}",
            "",
            "",
            "def _restricted_import(",
            "    name: str,",
            "    globals: Union[Mapping[str, object], None] = None,",
            "    locals: Union[Mapping[str, object], None] = None,",
            "    fromlist: Sequence[str] = (),",
            "    level: int = 0,",
            ") -> ModuleType:",
            "    if name in ALLOWED_IMPORTS:",
            "        return __import__(name, globals, locals, fromlist, level)",
            "    raise ImportError(f\"Import of module '{name}' is not allowed\")",
            "",
            "",
            "ALLOWED_BUILTINS = {",
            "    \"abs\": abs,",
            "    \"all\": all,",
            "    \"any\": any,",
            "    \"ascii\": ascii,",
            "    \"bin\": bin,",
            "    \"bool\": bool,",
            "    \"bytearray\": bytearray,",
            "    \"bytes\": bytes,",
            "    \"chr\": chr,",
            "    \"complex\": complex,",
            "    \"divmod\": divmod,",
            "    \"enumerate\": enumerate,",
            "    \"filter\": filter,",
            "    \"float\": float,",
            "    \"format\": format,",
            "    \"frozenset\": frozenset,",
            "    \"getattr\": getattr,",
            "    \"hasattr\": hasattr,",
            "    \"hash\": hash,",
            "    \"hex\": hex,",
            "    \"int\": int,",
            "    \"isinstance\": isinstance,",
            "    \"issubclass\": issubclass,",
            "    \"iter\": iter,",
            "    \"len\": len,",
            "    \"list\": list,",
            "    \"map\": map,",
            "    \"max\": max,",
            "    \"min\": min,",
            "    \"next\": next,",
            "    \"oct\": oct,",
            "    \"ord\": ord,",
            "    \"pow\": pow,",
            "    \"print\": print,",
            "    \"range\": range,",
            "    \"repr\": repr,",
            "    \"reversed\": reversed,",
            "    \"round\": round,",
            "    \"set\": set,",
            "    \"setattr\": setattr,",
            "    \"slice\": slice,",
            "    \"sorted\": sorted,",
            "    \"str\": str,",
            "    \"sum\": sum,",
            "    \"tuple\": tuple,",
            "    \"type\": type,",
            "    \"zip\": zip,",
            "    # Constants",
            "    \"True\": True,",
            "    \"False\": False,",
            "    \"None\": None,",
            "    \"__import__\": _restricted_import,",
            "}",
            "",
            "",
            "def _get_restricted_globals(__globals: Union[dict, None]) -> Any:",
            "    restricted_globals = copy.deepcopy(ALLOWED_BUILTINS)",
            "    if __globals:",
            "        restricted_globals.update(__globals)",
            "    return restricted_globals",
            "",
            "",
            "def safe_eval(",
            "    __source: Union[str, bytes, CodeType],",
            "    __globals: Union[Dict[str, Any], None] = None,",
            "    __locals: Union[Mapping[str, object], None] = None,",
            ") -> Any:",
            "    \"\"\"",
            "    eval within safe global context.",
            "    \"\"\"",
            "    return eval(__source, _get_restricted_globals(__globals), __locals)",
            "",
            "",
            "def safe_exec(",
            "    __source: Union[str, bytes, CodeType],",
            "    __globals: Union[Dict[str, Any], None] = None,",
            "    __locals: Union[Mapping[str, object], None] = None,",
            ") -> None:",
            "    \"\"\"",
            "    eval within safe global context.",
            "    \"\"\"",
            "    return exec(__source, _get_restricted_globals(__globals), __locals)"
        ],
        "action": [
            "0",
            "0",
            "2",
            "2",
            "0",
            "0",
            "0",
            "0",
            "0",
            "0",
            "2",
            "2",
            "2",
            "0",
            "0",
            "0"
        ],
        "dele_reviseLocation": {
            "3": [],
            "88": [
                "_get_restricted_globals"
            ]
        },
        "addLocation": []
    }
}